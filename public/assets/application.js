/*!
 * jQuery JavaScript Library v1.9.0
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2012 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-1-14
 */
(function(e,t){"use strict";function _(e){var t=e.length,n=y.type(e);return y.isWindow(e)?!1:e.nodeType===1&&t?!0:n==="array"||n!=="function"&&(t===0||typeof t=="number"&&t>0&&t-1 in e)}function P(e){var t=D[e]={};return y.each(e.match(w)||[],function(e,n){t[n]=!0}),t}function j(e,n,r,i){if(!y.acceptData(e))return;var s,o,u=y.expando,a=typeof n=="string",l=e.nodeType,c=l?y.cache:e,h=l?e[u]:e[u]&&u;if((!h||!c[h]||!i&&!c[h].data)&&a&&r===t)return;h||(l?e[u]=h=f.pop()||y.guid++:h=u),c[h]||(c[h]={},l||(c[h].toJSON=y.noop));if(typeof n=="object"||typeof n=="function")i?c[h]=y.extend(c[h],n):c[h].data=y.extend(c[h].data,n);return s=c[h],i||(s.data||(s.data={}),s=s.data),r!==t&&(s[y.camelCase(n)]=r),a?(o=s[n],o==null&&(o=s[y.camelCase(n)])):o=s,o}function F(e,t,n){if(!y.acceptData(e))return;var r,i,s,o=e.nodeType,u=o?y.cache:e,a=o?e[y.expando]:y.expando;if(!u[a])return;if(t){r=n?u[a]:u[a].data;if(r){y.isArray(t)?t=t.concat(y.map(t,y.camelCase)):t in r?t=[t]:(t=y.camelCase(t),t in r?t=[t]:t=t.split(" "));for(i=0,s=t.length;i<s;i++)delete r[t[i]];if(!(n?q:y.isEmptyObject)(r))return}}if(!n){delete u[a].data;if(!q(u[a]))return}o?y.cleanData([e],!0):y.support.deleteExpando||u!=u.window?delete u[a]:u[a]=null}function I(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(B,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:H.test(r)?y.parseJSON(r):r}catch(s){}y.data(e,n,r)}else r=t}return r}function q(e){var t;for(t in e){if(t==="data"&&y.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function nt(){return!0}function rt(){return!1}function ft(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function lt(e,t,n){t=t||0;if(y.isFunction(t))return y.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return y.grep(e,function(e){return e===t===n});if(typeof t=="string"){var r=y.grep(e,function(e){return e.nodeType===1});if(ot.test(t))return y.filter(t,r,!n);t=y.filter(t,r)}return y.grep(e,function(e){return y.inArray(e,t)>=0===n})}function ct(e){var t=ht.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function At(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function Ot(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function Mt(e){var t=Tt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _t(e,t){var n,r=0;for(;(n=e[r])!=null;r++)y._data(n,"globalEval",!t||y._data(t[r],"globalEval"))}function Dt(e,t){if(t.nodeType!==1||!y.hasData(e))return;var n,r,i,s=y._data(e),o=y._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)y.event.add(t,n,u[n][r])}o.data&&(o.data=y.extend({},o.data))}function Pt(e,t){var n,r,i;if(t.nodeType!==1)return;n=t.nodeName.toLowerCase();if(!y.support.noCloneEvent&&t[y.expando]){r=y._data(t);for(i in r.events)y.removeEvent(t,i,r.handle);t.removeAttribute(y.expando)}if(n==="script"&&t.text!==e.text)Ot(t).text=e.text,Mt(t);else if(n==="object")t.parentNode&&(t.outerHTML=e.outerHTML),y.support.html5Clone&&e.innerHTML&&!y.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML);else if(n==="input"&&Et.test(e.type))t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value);else if(n==="option")t.defaultSelected=t.selected=e.defaultSelected;else if(n==="input"||n==="textarea")t.defaultValue=e.defaultValue}function Ht(e,n){var r,i,s=0,o=typeof e.getElementsByTagName!="undefined"?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!="undefined"?e.querySelectorAll(n||"*"):t;if(!o)for(o=[],r=e.childNodes||e;(i=r[s])!=null;s++)!n||y.nodeName(i,n)?o.push(i):y.merge(o,Ht(i,n));return n===t||n&&y.nodeName(e,n)?y.merge([e],o):o}function Bt(e){Et.test(e.type)&&(e.defaultChecked=e.checked)}function Zt(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Yt.length;while(i--){t=Yt[i]+n;if(t in e)return t}return r}function en(e,t){return e=t||e,y.css(e,"display")==="none"||!y.contains(e.ownerDocument,e)}function tn(e,t){var n,r=[],i=0,s=e.length;for(;i<s;i++){n=e[i];if(!n.style)continue;r[i]=y._data(n,"olddisplay"),t?(!r[i]&&n.style.display==="none"&&(n.style.display=""),n.style.display===""&&en(n)&&(r[i]=y._data(n,"olddisplay",on(n.nodeName)))):!r[i]&&!en(n)&&y._data(n,"olddisplay",y.css(n,"display"))}for(i=0;i<s;i++){n=e[i];if(!n.style)continue;if(!t||n.style.display==="none"||n.style.display==="")n.style.display=t?r[i]||"":"none"}return e}function nn(e,t,n){var r=Xt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function rn(e,t,n,r,i){var s=n===(r?"border":"content")?4:t==="width"?1:0,o=0;for(;s<4;s+=2)n==="margin"&&(o+=y.css(e,n+Gt[s],!0,i)),r?(n==="content"&&(o-=y.css(e,"padding"+Gt[s],!0,i)),n!=="margin"&&(o-=y.css(e,"border"+Gt[s]+"Width",!0,i))):(o+=y.css(e,"padding"+Gt[s],!0,i),n!=="padding"&&(o+=y.css(e,"border"+Gt[s]+"Width",!0,i)));return o}function sn(e,t,n){var r=!0,i=t==="width"?e.offsetWidth:e.offsetHeight,s=Ft(e),o=y.support.boxSizing&&y.css(e,"boxSizing",!1,s)==="border-box";if(i<=0||i==null){i=jt(e,t,s);if(i<0||i==null)i=e.style[t];if(Vt.test(i))return i;r=o&&(y.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+rn(e,t,n||(o?"border":"content"),r,s)+"px"}function on(e){var t=i,n=Jt[e];if(!n){n=un(e,t);if(n==="none"||!n)It=(It||y("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(It[0].contentWindow||It[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=un(e,t),It.detach();Jt[e]=n}return n}function un(e,t){var n=y(t.createElement(e)).appendTo(t.body),r=y.css(n[0],"display");return n.remove(),r}function pn(e,t,n,r){var i;if(y.isArray(t))y.each(t,function(t,i){n||fn.test(e)?r(e,i):pn(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&y.type(t)==="object")for(i in t)pn(e+"["+i+"]",t[i],n,r);else r(e,t)}function On(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(w)||[];if(y.isFunction(n))while(r=s[i++])r[0]==="+"?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Mn(e,t,n,r){function o(u){var a;return i[u]=!0,y.each(e[u]||[],function(e,u){var f=u(t,n,r);if(typeof f=="string"&&!s&&!i[f])return t.dataTypes.unshift(f),o(f),!1;if(s)return!(a=f)}),a}var i={},s=e===kn;return o(t.dataTypes[0])||!i["*"]&&o("*")}function _n(e,n){var r,i,s=y.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((s[r]?e:i||(i={}))[r]=n[r]);return i&&y.extend(!0,e,i),e}function Dn(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes,l=e.responseFields;for(s in l)s in r&&(n[l[s]]=r[s]);while(f[0]==="*")f.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("Content-Type"));if(i)for(s in a)if(a[s]&&a[s].test(i)){f.unshift(s);break}if(f[0]in r)o=f[0];else{for(s in r){if(!f[0]||e.converters[s+" "+f[0]]){o=s;break}u||(u=s)}o=o||u}if(o)return o!==f[0]&&f.unshift(o),r[o]}function Pn(e,t){var n,r,i,s,o={},u=0,a=e.dataTypes.slice(),f=a[0];e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(a[1])for(n in e.converters)o[n.toLowerCase()]=e.converters[n];for(;i=a[++u];)if(i!=="*"){if(f!=="*"&&f!==i){n=o[f+" "+i]||o["* "+i];if(!n)for(r in o){s=r.split(" ");if(s[1]===i){n=o[f+" "+s[0]]||o["* "+s[0]];if(n){n===!0?n=o[r]:o[r]!==!0&&(i=s[0],a.splice(u--,0,i));break}}}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(l){return{state:"parsererror",error:n?l:"No conversion from "+f+" to "+i}}}f=i}return{state:"success",data:t}}function Rn(){try{return new e.XMLHttpRequest}catch(t){}}function Un(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Qn(){return setTimeout(function(){zn=t}),zn=y.now()}function Gn(e,t){y.each(t,function(t,n){var r=(Kn[t]||[]).concat(Kn["*"]),i=0,s=r.length;for(;i<s;i++)if(r[i].call(e,t,n))return})}function Yn(e,t,n){var r,i,s=0,o=Jn.length,u=y.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;var t=zn||Qn(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;for(;o<a;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),s<1&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:y.extend({},t),opts:y.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:zn||Qn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=y.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;i=!0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;Zn(l,f.opts.specialEasing);for(;s<o;s++){r=Jn[s].call(f,e,l,f.opts);if(r)return r}return Gn(f,l),y.isFunction(f.opts.start)&&f.opts.start.call(e,f),y.fx.timer(y.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function Zn(e,t){var n,r,i,s,o;for(n in e){r=y.camelCase(n),i=t[r],s=e[n],y.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=y.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function er(e,t,n){var r,i,s,o,u,a,f,l,c,h=this,p=e.style,d={},v=[],m=e.nodeType&&en(e);n.queue||(l=y._queueHooks(e,"fx"),l.unqueued==null&&(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,h.always(function(){h.always(function(){l.unqueued--,y.queue(e,"fx").length||l.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],y.css(e,"display")==="inline"&&y.css(e,"float")==="none"&&(!y.support.inlineBlockNeedsLayout||on(e.nodeName)==="inline"?p.display="inline-block":p.zoom=1)),n.overflow&&(p.overflow="hidden",y.support.shrinkWrapBlocks||h.done(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t){s=t[r];if(Xn.exec(s)){delete t[r],a=a||s==="toggle";if(s===(m?"hide":"show"))continue;v.push(r)}}o=v.length;if(o){u=y._data(e,"fxshow")||y._data(e,"fxshow",{}),"hidden"in u&&(m=u.hidden),a&&(u.hidden=!m),m?y(e).show():h.done(function(){y(e).hide()}),h.done(function(){var t;y._removeData(e,"fxshow");for(t in d)y.style(e,t,d[t])});for(r=0;r<o;r++)i=v[r],f=h.createTween(i,m?u[i]:0),d[i]=u[i]||y.style(e,i),i in u||(u[i]=f.start,m&&(f.end=f.start,f.start=i==="width"||i==="height"?1:0))}}function tr(e,t,n,r,i){return new tr.prototype.init(e,t,n,r,i)}function nr(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t)n=Gt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function rr(e){return y.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var n,r,i=e.document,s=e.location,o=e.jQuery,u=e.$,a={},f=[],l="1.9.0",c=f.concat,h=f.push,p=f.slice,d=f.indexOf,v=a.toString,m=a.hasOwnProperty,g=l.trim,y=function(e,t){return new y.fn.init(e,t,n)},b=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,w=/\S+/g,E=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,S=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,x=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,T=/^[\],:{}\s]*$/,N=/(?:^|:|,)(?:\s*\[)+/g,C=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,k=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,L=/^-ms-/,A=/-([\da-z])/gi,O=function(e,t){return t.toUpperCase()},M=function(){i.addEventListener?(i.removeEventListener("DOMContentLoaded",M,!1),y.ready()):i.readyState==="complete"&&(i.detachEvent("onreadystatechange",M),y.ready())};y.fn=y.prototype={jquery:l,constructor:y,init:function(e,n,r){var s,o;if(!e)return this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?s=[null,e,null]:s=S.exec(e);if(s&&(s[1]||!n)){if(s[1]){n=n instanceof y?n[0]:n,y.merge(this,y.parseHTML(s[1],n&&n.nodeType?n.ownerDocument||n:i,!0));if(x.test(s[1])&&y.isPlainObject(n))for(s in n)y.isFunction(this[s])?this[s](n[s]):this.attr(s,n[s]);return this}o=i.getElementById(s[2]);if(o&&o.parentNode){if(o.id!==s[2])return r.find(e);this.length=1,this[0]=o}return this.context=i,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return e.nodeType?(this.context=this[0]=e,this.length=1,this):y.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),y.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return p.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){var t=y.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return y.each(this,e,t)},ready:function(e){return y.ready.promise().done(e),this},slice:function(){return this.pushStack(p.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},map:function(e){return this.pushStack(y.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice},y.fn.init.prototype=y.fn,y.extend=y.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;typeof u=="boolean"&&(l=u,u=arguments[1]||{},a=2),typeof u!="object"&&!y.isFunction(u)&&(u={}),f===a&&(u=this,--a);for(;a<f;a++)if((e=arguments[a])!=null)for(n in e){r=u[n],i=e[n];if(u===i)continue;l&&i&&(y.isPlainObject(i)||(s=y.isArray(i)))?(s?(s=!1,o=r&&y.isArray(r)?r:[]):o=r&&y.isPlainObject(r)?r:{},u[n]=y.extend(l,o,i)):i!==t&&(u[n]=i)}return u},y.extend({noConflict:function(t){return e.$===y&&(e.$=u),t&&e.jQuery===y&&(e.jQuery=o),y},isReady:!1,readyWait:1,holdReady:function(e){e?y.readyWait++:y.ready(!0)},ready:function(e){if(e===!0?--y.readyWait:y.isReady)return;if(!i.body)return setTimeout(y.ready);y.isReady=!0;if(e!==!0&&--y.readyWait>0)return;r.resolveWith(i,[y]),y.fn.trigger&&y(i).trigger("ready").off("ready")},isFunction:function(e){return y.type(e)==="function"},isArray:Array.isArray||function(e){return y.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):typeof e=="object"||typeof e=="function"?a[v.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||y.type(e)!=="object"||e.nodeType||y.isWindow(e))return!1;try{if(e.constructor&&!m.call(e,"constructor")&&!m.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||m.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t,t=!1),t=t||i;var r=x.exec(e),s=!n&&[];return r?[t.createElement(r[1])]:(r=y.buildFragment([e],t,s),s&&y(s).remove(),y.merge([],r.childNodes))},parseJSON:function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(t===null)return t;if(typeof t=="string"){t=y.trim(t);if(t&&T.test(t.replace(C,"@").replace(k,"]").replace(N,"")))return(new Function("return "+t))()}y.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||typeof n!="string")return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&y.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&y.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(L,"ms-").replace(A,O)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=_(e);if(n)if(o)for(;i<s;i++){r=t.apply(e[i],n);if(r===!1)break}else for(i in e){r=t.apply(e[i],n);if(r===!1)break}else if(o)for(;i<s;i++){r=t.call(e[i],i,e[i]);if(r===!1)break}else for(i in e){r=t.call(e[i],i,e[i]);if(r===!1)break}return e},trim:g&&!g.call("﻿ ")?function(e){return e==null?"":g.call(e)}:function(e){return e==null?"":(e+"").replace(E,"")},makeArray:function(e,t){var n=t||[];return e!=null&&(_(Object(e))?y.merge(n,typeof e=="string"?[e]:e):h.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(d)return d.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r=="number")for(;s<r;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,t,n){var r,i=0,s=e.length,o=_(e),u=[];if(o)for(;i<s;i++)r=t(e[i],i,n),r!=null&&(u[u.length]=r);else for(i in e)r=t(e[i],i,n),r!=null&&(u[u.length]=r);return c.apply([],u)},guid:1,proxy:function(e,n){var r,i,s;return typeof n=="string"&&(r=e[n],n=e,e=r),y.isFunction(e)?(i=p.call(arguments,2),s=function(){return e.apply(n||this,i.concat(p.call(arguments)))},s.guid=e.guid=e.guid||y.guid++,s):t},access:function(e,n,r,i,s,o,u){var a=0,f=e.length,l=r==null;if(y.type(r)==="object"){s=!0;for(a in r)y.access(e,n,a,r[a],!0,o,u)}else if(i!==t){s=!0,y.isFunction(i)||(u=!0),l&&(u?(n.call(e,i),n=null):(l=n,n=function(e,t,n){return l.call(y(e),n)}));if(n)for(;a<f;a++)n(e[a],r,u?i:i.call(e[a],a,n(e[a],r)))}return s?e:l?n.call(e):f?n(e[0],r):o},now:function(){return(new Date).getTime()}}),y.ready.promise=function(t){if(!r){r=y.Deferred();if(i.readyState==="complete")setTimeout(y.ready);else if(i.addEventListener)i.addEventListener("DOMContentLoaded",M,!1),e.addEventListener("load",y.ready,!1);else{i.attachEvent("onreadystatechange",M),e.attachEvent("onload",y.ready);var n=!1;try{n=e.frameElement==null&&i.documentElement}catch(s){}n&&n.doScroll&&function o(){if(!y.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}y.ready()}}()}}return r.promise(t)},y.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){a["[object "+t+"]"]=t.toLowerCase()}),n=y(i);var D={};y.Callbacks=function(e){e=typeof e=="string"?D[e]||P(e):y.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&&[],l=function(t){n=e.memory&&t,r=!0,u=s||0,s=0,o=a.length,i=!0;for(;a&&u<o;u++)if(a[u].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}i=!1,a&&(f?f.length&&l(f.shift()):n?a=[]:c.disable())},c={add:function(){if(a){var t=a.length;(function r(t){y.each(t,function(t,n){var i=y.type(n);i==="function"?(!e.unique||!c.has(n))&&a.push(n):n&&n.length&&i!=="string"&&r(n)})})(arguments),i?o=a.length:n&&(s=t,l(n))}return this},remove:function(){return a&&y.each(arguments,function(e,t){var n;while((n=y.inArray(t,a,n))>-1)a.splice(n,1),i&&(n<=o&&o--,n<=u&&u--)}),this},has:function(e){return y.inArray(e,a)>-1},empty:function(){return a=[],this},disable:function(){return a=f=n=t,this},disabled:function(){return!a},lock:function(){return f=t,n||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],a&&(!r||f)&&(i?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},y.extend({Deferred:function(e){var t=[["resolve","done",y.Callbacks("once memory"),"resolved"],["reject","fail",y.Callbacks("once memory"),"rejected"],["notify","progress",y.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return y.Deferred(function(n){y.each(t,function(t,s){var o=s[0],u=y.isFunction(e[t])&&e[t];i[s[1]](function(){var e=u&&u.apply(this,arguments);e&&y.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n.promise():this,u?[e]:arguments)})}),e=null}).promise()},promise:function(e){return e!=null?y.extend(e,r):r}},i={};return r.pipe=r.then,y.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=p.call(arguments),r=n.length,i=r!==1||e&&y.isFunction(e.promise)?r:0,s=i===1?e:y.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?p.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&y.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}}),y.support=function(){var t,n,r,s,o,u,a,f,l,c,h=i.createElement("div");h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=h.getElementsByTagName("*"),r=h.getElementsByTagName("a")[0];if(!n||!r||!n.length)return{};s=i.createElement("select"),o=s.appendChild(i.createElement("option")),u=h.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:h.className!=="t",leadingWhitespace:h.firstChild.nodeType===3,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute("href")==="/a",opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:!!u.value,optSelected:o.selected,enctype:!!i.createElement("form").enctype,html5Clone:i.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:i.compatMode==="CSS1Compat",deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},u.checked=!0,t.noCloneChecked=u.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!o.disabled;try{delete h.test}catch(p){t.deleteExpando=!1}u=i.createElement("input"),u.setAttribute("value",""),t.input=u.getAttribute("value")==="",u.value="t",u.setAttribute("type","radio"),t.radioValue=u.value==="t",u.setAttribute("checked","t"),u.setAttribute("name","t"),a=i.createDocumentFragment(),a.appendChild(u),t.appendChecked=u.checked,t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,h.attachEvent&&(h.attachEvent("onclick",function(){t.noCloneEvent=!1}),h.cloneNode(!0).click());for(c in{submit:!0,change:!0,focusin:!0})h.setAttribute(f="on"+c,"t"),t[c+"Bubbles"]=f in e||h.attributes[f].expando===!1;return h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle=h.style.backgroundClip==="content-box",y(function(){var n,r,s,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",u=i.getElementsByTagName("body")[0];if(!u)return;n=i.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",u.appendChild(n).appendChild(h),h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=h.getElementsByTagName("td"),s[0].style.cssText="padding:0;margin:0;border:0;display:none",l=s[0].offsetHeight===0,s[0].style.display="",s[1].style.display="none",t.reliableHiddenOffsets=l&&s[0].offsetHeight===0,h.innerHTML="",h.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=h.offsetWidth===4,t.doesNotIncludeMarginInBodyOffset=u.offsetTop!==1,e.getComputedStyle&&(t.pixelPosition=(e.getComputedStyle(h,null)||{}).top!=="1%",t.boxSizingReliable=(e.getComputedStyle(h,null)||{width:"4px"}).width==="4px",r=h.appendChild(i.createElement("div")),r.style.cssText=h.style.cssText=o,r.style.marginRight=r.style.width="0",h.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof h.style.zoom!="undefined"&&(h.innerHTML="",h.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=h.offsetWidth===3,h.style.display="block",h.innerHTML="<div></div>",h.firstChild.style.width="5px",t.shrinkWrapBlocks=h.offsetWidth!==3,u.style.zoom=1),u.removeChild(n),n=h=s=r=null}),n=s=a=o=r=u=null,t}();var H=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,B=/([A-Z])/g;y.extend({cache:{},expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?y.cache[e[y.expando]]:e[y.expando],!!e&&!q(e)},data:function(e,t,n){return j(e,t,n,!1)},removeData:function(e,t){return F(e,t,!1)},_data:function(e,t,n){return j(e,t,n,!0)},_removeData:function(e,t){return F(e,t,!0)},acceptData:function(e){var t=e.nodeName&&y.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),y.fn.extend({data:function(e,n){var r,i,s=this[0],o=0,u=null;if(e===t){if(this.length){u=y.data(s);if(s.nodeType===1&&!y._data(s,"parsedAttrs")){r=s.attributes;for(;o<r.length;o++)i=r[o].name,i.indexOf("data-")||(i=y.camelCase(i.substring(5)),I(s,i,u[i]));y._data(s,"parsedAttrs",!0)}}return u}return typeof e=="object"?this.each(function(){y.data(this,e)}):y.access(this,function(n){if(n===t)return s?I(s,e,y.data(s,e)):null;this.each(function(){y.data(this,e,n)})},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){y.removeData(this,e)})}}),y.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=y._data(e,t),n&&(!r||y.isArray(n)?r=y._data(e,t,y.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=y.queue(e,t),r=n.length,i=n.shift(),s=y._queueHooks(e,t),o=function(){y.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),s.cur=i,i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return y._data(e,n)||y._data(e,n,{empty:y.Callbacks("once memory").add(function(){y._removeData(e,t+"queue"),y._removeData(e,n)})})}}),y.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?y.queue(this[0],e):n===t?this:this.each(function(){var t=y.queue(this,e,n);y._queueHooks(this,e),e==="fx"&&t[0]!=="inprogress"&&y.dequeue(this,e)})},dequeue:function(e){return this.each(function(){y.dequeue(this,e)})},delay:function(e,t){return e=y.fx?y.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=y.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};typeof e!="string"&&(n=e,e=t),e=e||"fx";while(u--)r=y._data(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var R,U,z=/[\t\r\n]/g,W=/\r/g,X=/^(?:input|select|textarea|button|object)$/i,V=/^(?:a|area)$/i,$=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,J=/^(?:checked|selected)$/i,K=y.support.getSetAttribute,Q=y.support.input;y.fn.extend({attr:function(e,t){return y.access(this,y.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){y.removeAttr(this,e)})},prop:function(e,t){return y.access(this,y.prop,e,t,arguments.length>1)},removeProp:function(e){return e=y.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o=0,u=this.length,a=typeof e=="string"&&e;if(y.isFunction(e))return this.each(function(t){y(this).addClass(e.call(this,t,this.className))});if(a){t=(e||"").match(w)||[];for(;o<u;o++){n=this[o],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(z," "):" ");if(r){s=0;while(i=t[s++])r.indexOf(" "+i+" ")<0&&(r+=i+" ");n.className=y.trim(r)}}}return this},removeClass:function(e){var t,n,r,i,s,o=0,u=this.length,a=arguments.length===0||typeof e=="string"&&e;if(y.isFunction(e))return this.each(function(t){y(this).removeClass(e.call(this,t,this.className))});if(a){t=(e||"").match(w)||[];for(;o<u;o++){n=this[o],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(z," "):"");if(r){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?y.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t=="boolean";return y.isFunction(e)?this.each(function(n){y(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var i,s=0,o=y(this),u=t,a=e.match(w)||[];while(i=a[s++])u=r?u:!o.hasClass(i),o[u?"addClass":"removeClass"](i)}else if(n==="undefined"||n==="boolean")this.className&&y._data(this,"__className__",this.className),this.className=this.className||e===!1?"":y._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(z," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s)return n=y.valHooks[s.type]||y.valHooks[s.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(s,"value"))!==t?r:(r=s.value,typeof r=="string"?r.replace(W,""):r==null?"":r);return}return i=y.isFunction(e),this.each(function(r){var s,o=y(this);if(this.nodeType!==1)return;i?s=e.call(this,r,o.val()):s=e,s==null?s="":typeof s=="number"?s+="":y.isArray(s)&&(s=y.map(s,function(e){return e==null?"":e+""})),n=y.valHooks[this.type]||y.valHooks[this.nodeName.toLowerCase()];if(!n||!("set"in n)||n.set(this,s,"value")===t)this.value=s})}}),y.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(y.support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!y.nodeName(n.parentNode,"optgroup"))){t=y(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n=y.makeArray(t);return y(e).find("option").each(function(){this.selected=y.inArray(y(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;if(typeof e.getAttribute=="undefined")return y.prop(e,n,r);o=u!==1||!y.isXMLDoc(e),o&&(n=n.toLowerCase(),s=y.attrHooks[n]||($.test(n)?U:R));if(r===t)return s&&o&&"get"in s&&(i=s.get(e,n))!==null?i:(typeof e.getAttribute!="undefined"&&(i=e.getAttribute(n)),i==null?t:i);if(r!==null)return s&&o&&"set"in s&&(i=s.set(e,r,n))!==t?i:(e.setAttribute(n,r+""),r);y.removeAttr(e,n)},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(w);if(s&&e.nodeType===1)while(n=s[i++])r=y.propFix[n]||n,$.test(n)?!K&&J.test(n)?e[y.camelCase("default-"+n)]=e[r]=!1:e[r]=!1:y.attr(e,n,""),e.removeAttribute(K?n:r)},attrHooks:{type:{set:function(e,t){if(!y.support.radioValue&&t==="radio"&&y.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;return o=u!==1||!y.isXMLDoc(e),o&&(n=y.propFix[n]||n,s=y.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):X.test(e.nodeName)||V.test(e.nodeName)&&e.href?0:t}}}}),U={get:function(e,n){var r=y.prop(e,n),i=typeof r=="boolean"&&e.getAttribute(n),s=typeof r=="boolean"?Q&&K?i!=null:J.test(n)?e[y.camelCase("default-"+n)]:!!i:e.getAttributeNode(n);return s&&s.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?y.removeAttr(e,n):Q&&K||!J.test(n)?e.setAttribute(!K&&y.propFix[n]||n,n):e[y.camelCase("default-"+n)]=e[n]=!0,n}};if(!Q||!K)y.attrHooks.value={get:function(e,n){var r=e.getAttributeNode(n);return y.nodeName(e,"input")?e.defaultValue:r&&r.specified?r.value:t},set:function(e,t,n){if(!y.nodeName(e,"input"))return R&&R.set(e,t,n);e.defaultValue=t}};K||(R=y.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&(n==="id"||n==="name"||n==="coords"?r.value!=="":r.specified)?r.value:t},set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.
value=n+="",r==="value"||n===e.getAttribute(r)?n:t}},y.attrHooks.contenteditable={get:R.get,set:function(e,t,n){R.set(e,t===""?!1:t,n)}},y.each(["width","height"],function(e,t){y.attrHooks[t]=y.extend(y.attrHooks[t],{set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}})})),y.support.hrefNormalized||(y.each(["href","src","width","height"],function(e,n){y.attrHooks[n]=y.extend(y.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r==null?t:r}})}),y.each(["href","src"],function(e,t){y.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),y.support.style||(y.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),y.support.optSelected||(y.propHooks.selected=y.extend(y.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),y.support.enctype||(y.propFix.enctype="encoding"),y.support.checkOn||y.each(["radio","checkbox"],function(){y.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),y.each(["radio","checkbox"],function(){y.valHooks[this]=y.extend(y.valHooks[this],{set:function(e,t){if(y.isArray(t))return e.checked=y.inArray(y(e).val(),t)>=0}})});var G=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|contextmenu)|click/,et=/^(?:focusinfocus|focusoutblur)$/,tt=/^([^.]*)(?:\.(.+)|)$/;y.event={global:{},add:function(e,n,r,i,s){var o,u,a,f,l,c,h,p,d,v,m,g=e.nodeType!==3&&e.nodeType!==8&&y._data(e);if(!g)return;r.handler&&(o=r,r=o.handler,s=o.selector),r.guid||(r.guid=y.guid++),(f=g.events)||(f=g.events={}),(u=g.handle)||(u=g.handle=function(e){return typeof y=="undefined"||!!e&&y.event.triggered===e.type?t:y.event.dispatch.apply(u.elem,arguments)},u.elem=e),n=(n||"").match(w)||[""],l=n.length;while(l--){a=tt.exec(n[l])||[],d=m=a[1],v=(a[2]||"").split(".").sort(),h=y.event.special[d]||{},d=(s?h.delegateType:h.bindType)||d,h=y.event.special[d]||{},c=y.extend({type:d,origType:m,data:i,handler:r,guid:r.guid,selector:s,needsContext:s&&y.expr.match.needsContext.test(s),namespace:v.join(".")},o);if(!(p=f[d])){p=f[d]=[],p.delegateCount=0;if(!h.setup||h.setup.call(e,i,v,u)===!1)e.addEventListener?e.addEventListener(d,u,!1):e.attachEvent&&e.attachEvent("on"+d,u)}h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=r.guid)),s?p.splice(p.delegateCount++,0,c):p.push(c),y.event.global[d]=!0}e=null},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=y.hasData(e)&&y._data(e);if(!m||!(a=m.events))return;t=(t||"").match(w)||[""],f=t.length;while(f--){u=tt.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p){for(p in a)y.event.remove(e,p+t[f],n,r,!0);continue}c=y.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=a[p]||[],u=u[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=h.length;while(s--)l=h[s],(i||v===l.origType)&&(!n||n.guid===l.guid)&&(!u||u.test(l.namespace))&&(!r||r===l.selector||r==="**"&&l.selector)&&(h.splice(s,1),l.selector&&h.delegateCount--,c.remove&&c.remove.call(e,l));o&&!h.length&&((!c.teardown||c.teardown.call(e,d,m.handle)===!1)&&y.removeEvent(e,p,m.handle),delete a[p])}y.isEmptyObject(a)&&(delete m.handle,y._removeData(e,"events"))},trigger:function(n,r,s,o){var u,a,f,l,c,h,p,d=[s||i],v=n.type||n,m=n.namespace?n.namespace.split("."):[];a=f=s=s||i;if(s.nodeType===3||s.nodeType===8)return;if(et.test(v+y.event.triggered))return;v.indexOf(".")>=0&&(m=v.split("."),v=m.shift(),m.sort()),c=v.indexOf(":")<0&&"on"+v,n=n[y.expando]?n:new y.Event(v,typeof n=="object"&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=s),r=r==null?[n]:y.makeArray(r,[n]),p=y.event.special[v]||{};if(!o&&p.trigger&&p.trigger.apply(s,r)===!1)return;if(!o&&!p.noBubble&&!y.isWindow(s)){l=p.delegateType||v,et.test(l+v)||(a=a.parentNode);for(;a;a=a.parentNode)d.push(a),f=a;f===(s.ownerDocument||i)&&d.push(f.defaultView||f.parentWindow||e)}u=0;while((a=d[u++])&&!n.isPropagationStopped())n.type=u>1?l:p.bindType||v,h=(y._data(a,"events")||{})[n.type]&&y._data(a,"handle"),h&&h.apply(a,r),h=c&&a[c],h&&y.acceptData(a)&&h.apply&&h.apply(a,r)===!1&&n.preventDefault();n.type=v;if(!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(s.ownerDocument,r)===!1)&&(v!=="click"||!y.nodeName(s,"a"))&&y.acceptData(s)&&c&&s[v]&&!y.isWindow(s)){f=s[c],f&&(s[c]=null),y.event.triggered=v;try{s[v]()}catch(g){}y.event.triggered=t,f&&(s[c]=f)}return n.result},dispatch:function(e){e=y.event.fix(e);var n,r,i,s,o,u=[],a=p.call(arguments),f=(y._data(this,"events")||{})[e.type]||[],l=y.event.special[e.type]||{};a[0]=e,e.delegateTarget=this;if(l.preDispatch&&l.preDispatch.call(this,e)===!1)return;u=y.event.handlers.call(this,e,f),n=0;while((s=u[n++])&&!e.isPropagationStopped()){e.currentTarget=s.elem,r=0;while((o=s.handlers[r++])&&!e.isImmediatePropagationStopped())if(!e.namespace_re||e.namespace_re.test(o.namespace))e.handleObj=o,e.data=o.data,i=((y.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,a),i!==t&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation())}return l.postDispatch&&l.postDispatch.call(this,e),e.result},handlers:function(e,n){var r,i,s,o,u=[],a=n.delegateCount,f=e.target;if(a&&f.nodeType&&(!e.button||e.type!=="click"))for(;f!=this;f=f.parentNode||this)if(f.disabled!==!0||e.type!=="click"){i=[];for(r=0;r<a;r++)o=n[r],s=o.selector+" ",i[s]===t&&(i[s]=o.needsContext?y(s,this).index(f)>=0:y.find(s,this,null,[f]).length),i[s]&&i.push(o);i.length&&u.push({elem:f,handlers:i})}return a<n.length&&u.push({elem:this,handlers:n.slice(a)}),u},fix:function(e){if(e[y.expando])return e;var t,n,r=e,s=y.event.fixHooks[e.type]||{},o=s.props?this.props.concat(s.props):this.props;e=new y.Event(r),t=o.length;while(t--)n=o[t],e[n]=r[n];return e.target||(e.target=r.srcElement||i),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,s,o,u=n.button,a=n.fromElement;return e.pageX==null&&n.clientX!=null&&(r=e.target.ownerDocument||i,s=r.documentElement,o=r.body,e.pageX=n.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),!e.which&&u!==t&&(e.which=u&1?1:u&2?3:u&4?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){if(y.nodeName(this,"input")&&this.type==="checkbox"&&this.click)return this.click(),!1}},focus:{trigger:function(){if(this!==i.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===i.activeElement&&this.blur)return this.blur(),!1},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=y.extend(new y.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?y.event.trigger(i,null,t):y.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},y.removeEvent=i.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]=="undefined"&&(e[r]=null),e.detachEvent(r,n))},y.Event=function(e,t){if(!(this instanceof y.Event))return new y.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?nt:rt):this.type=e,t&&y.extend(this,t),this.timeStamp=e&&e.timeStamp||y.now(),this[y.expando]=!0},y.Event.prototype={isDefaultPrevented:rt,isPropagationStopped:rt,isImmediatePropagationStopped:rt,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=nt;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=nt;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=nt,this.stopPropagation()}},y.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){y.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;if(!i||i!==r&&!y.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),y.support.submitBubbles||(y.event.special.submit={setup:function(){if(y.nodeName(this,"form"))return!1;y.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=y.nodeName(n,"input")||y.nodeName(n,"button")?n.form:t;r&&!y._data(r,"submitBubbles")&&(y.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),y._data(r,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&y.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(y.nodeName(this,"form"))return!1;y.event.remove(this,"._submit")}}),y.support.changeBubbles||(y.event.special.change={setup:function(){if(G.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")y.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),y.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),y.event.simulate("change",this,e,!0)});return!1}y.event.add(this,"beforeactivate._change",function(e){var t=e.target;G.test(t.nodeName)&&!y._data(t,"changeBubbles")&&(y.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&y.event.simulate("change",this.parentNode,e,!0)}),y._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return y.event.remove(this,"._change"),!G.test(this.nodeName)}}),y.support.focusinBubbles||y.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){y.event.simulate(t,e.target,y.event.fix(e),!0)};y.event.special[t]={setup:function(){n++===0&&i.addEventListener(e,r,!0)},teardown:function(){--n===0&&i.removeEventListener(e,r,!0)}}}),y.fn.extend({on:function(e,n,r,i,s){var o,u;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(u in e)this.on(u,n,r,e[u],s);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=rt;else if(!i)return this;return s===1&&(o=i,i=function(e){return y().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=y.guid++)),this.each(function(){y.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,y(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if(typeof e=="object"){for(s in e)this.off(s,n,e[s]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=rt),this.each(function(){y.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){y.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return y.event.trigger(e,t,n,!0)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),y.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){y.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Y.test(t)&&(y.event.fixHooks[t]=y.event.keyHooks),Z.test(t)&&(y.event.fixHooks[t]=y.event.mouseHooks)}),function(e,t){function rt(e){return J.test(e+"")}function it(){var e,t=[];return e=function(n,r){return t.push(n+=" ")>i.cacheLength&&delete e[t.shift()],e[n]=r}}function st(e){return e[w]=!0,e}function ot(e){var t=c.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function ut(e,t,n,r){var i,s,o,u,a,f,h,v,m,y;(t?t.ownerDocument||t:E)!==c&&l(t),t=t||c,n=n||[];if(!e||typeof e!="string")return n;if((u=t.nodeType)!==1&&u!==9)return[];if(!p&&!r){if(i=K.exec(e))if(o=i[1]){if(u===9){s=t.getElementById(o);if(!s||!s.parentNode)return n;if(s.id===o)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(o))&&g(t,s)&&s.id===o)return n.push(s),n}else{if(i[2])return _.apply(n,D.call(t.getElementsByTagName(e),0)),n;if((o=i[3])&&S.getByClassName&&t.getElementsByClassName)return _.apply(n,D.call(t.getElementsByClassName(o),0)),n}if(S.qsa&&!d.test(e)){h=!0,v=w,m=t,y=u===9&&e;if(u===1&&t.nodeName.toLowerCase()!=="object"){f=ht(e),(h=t.getAttribute("id"))?v=h.replace(Y,"\\$&"):t.setAttribute("id",v),v="[id='"+v+"'] ",a=f.length;while(a--)f[a]=v+pt(f[a]);m=$.test(e)&&t.parentNode||t,y=f.join(",")}if(y)try{return _.apply(n,D.call(m.querySelectorAll(y),0)),n}catch(b){}finally{h||t.removeAttribute("id")}}}return Et(e.replace(R,"$1"),t,n,r)}function at(e,t){var n=e&&t&&e.nextSibling;for(;n;n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ft(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function lt(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function ct(e){return st(function(t){return t=+t,st(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function ht(e,t){var n,r,s,o,u,a,f,l=C[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=i.preFilter;while(u){if(!n||(r=U.exec(u)))r&&(u=u.slice(r[0].length)||u),a.push(s=[]);n=!1;if(r=z.exec(u))n=r.shift(),s.push({value:n,type:r[0].replace(R," ")}),u=u.slice(n.length);for(o in i.filter)(r=V[o].exec(u))&&(!f[o]||(r=f[o](r)))&&(n=r.shift(),s.push({value:n,type:o,matches:r}),u=u.slice(n.length));if(!n)break}return t?u.length:u?ut.error(e):C(e,a).slice(0)}function pt(e){var t=0,n=e.length,r="";for(;t<n;t++)r+=e[t].value;return r}function dt(e,t,n){var i=t.dir,s=n&&t.dir==="parentNode",o=T++;return t.first?function(t,n,r){while(t=t[i])if(t.nodeType===1||s)return e(t,n,r)}:function(t,n,u){var a,f,l,c=x+" "+o;if(u){while(t=t[i])if(t.nodeType===1||s)if(e(t,n,u))return!0}else while(t=t[i])if(t.nodeType===1||s){l=t[w]||(t[w]={});if((f=l[i])&&f[0]===c){if((a=f[1])===!0||a===r)return a===!0}else{f=l[i]=[c],f[1]=e(t,n,u)||r;if(f[1]===!0)return!0}}}}function vt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function mt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function gt(e,t,n,r,i,s){return r&&!r[w]&&(r=gt(r)),i&&!i[w]&&(i=gt(i,s)),st(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||wt(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?mt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=mt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?P.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=mt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):_.apply(o,g)})}function yt(e){var t,n,r,s=e.length,o=i.relative[e[0].type],u=o||i.relative[" "],a=o?1:0,l=dt(function(e){return e===t},u,!0),c=dt(function(e){return P.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;a<s;a++)if(n=i.relative[e[a].type])h=[dt(vt(h),n)];else{n=i.filter[e[a].type].apply(null,e[a].matches);if(n[w]){r=++a;for(;r<s;r++)if(i.relative[e[r].type])break;return gt(a>1&&vt(h),a>1&&pt(e.slice(0,a-1)).replace(R,"$1"),n,a<r&&yt(e.slice(a,r)),r<s&&yt(e=e.slice(r)),r<s&&pt(e))}h.push(n)}return vt(h)}function bt(e,t){var n=0,s=t.length>0,o=e.length>0,u=function(u,a,l,h,p){var d,v,m,g=[],y=0,b="0",w=u&&[],E=p!=null,S=f,T=u||o&&i.find.TAG("*",p&&a.parentNode||a),N=x+=S==null?1:Math.E;E&&(f=a!==c&&a,r=n);for(;(d=T[b])!=null;b++){if(o&&d){for(v=0;m=e[v];v++)if(m(d,a,l)){h.push(d);break}E&&(x=N,r=++n)}s&&((d=!m&&d)&&y--,u&&w.push(d))}y+=b;if(s&&b!==y){for(v=0;m=t[v];v++)m(w,g,a,l);if(u){if(y>0)while(b--)!w[b]&&!g[b]&&(g[b]=M.call(h));g=mt(g)}_.apply(h,g),E&&!u&&g.length>0&&y+t.length>1&&ut.uniqueSort(h)}return E&&(x=N,f=S),w};return s?st(u):u}function wt(e,t,n){var r=0,i=t.length;for(;r<i;r++)ut(e,t[r],n);return n}function Et(e,t,n,r){var s,o,a,f,l,c=ht(e);if(!r&&c.length===1){o=c[0]=c[0].slice(0);if(o.length>2&&(a=o[0]).type==="ID"&&t.nodeType===9&&!p&&i.relative[o[1].type]){t=i.find.ID(a.matches[0].replace(et,tt),t)[0];if(!t)return n;e=e.slice(o.shift().value.length)}for(s=V.needsContext.test(e)?-1:o.length-1;s>=0;s--){a=o[s];if(i.relative[f=a.type])break;if(l=i.find[f])if(r=l(a.matches[0].replace(et,tt),$.test(o[0].type)&&t.parentNode||t)){o.splice(s,1),e=r.length&&pt(o);if(!e)return _.apply(n,D.call(r,0)),n;break}}}return u(e,c)(r,t,p,n,$.test(e)),n}function St(){}var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,b,w="sizzle"+ -(new Date),E=e.document,S={},x=0,T=0,N=it(),C=it(),k=it(),L=typeof t,A=1<<31,O=[],M=O.pop,_=O.push,D=O.slice,P=O.indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},H="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",j=B.replace("w","w#"),F="([*^$|!~]?=)",I="\\["+H+"*("+B+")"+H+"*(?:"+F+H+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+j+")|)|)"+H+"*\\]",q=":("+B+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+I.replace(3,8)+")*)|.*)\\)|)",R=new RegExp("^"+H+"+|((?:^|[^\\\\])(?:\\\\.)*)"+H+"+$","g"),U=new RegExp("^"+H+"*,"+H+"*"),z=new RegExp("^"+H+"*([\\x20\\t\\r\\n\\f>+~])"+H+"*"),W=new RegExp(q),X=new RegExp("^"+j+"$"),V={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),NAME:new RegExp("^\\[name=['\"]?("+B+")['\"]?\\]"),TAG:new RegExp("^("+B.replace("w","w*")+")"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+H+"*(even|odd|(([+-]|)(\\d*)n|)"+H+"*(?:([+-]|)"+H+"*(\\d+)|))"+H+"*\\)|)","i"),needsContext:new RegExp("^"+H+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+H+"*((?:-\\d)?\\d*)"+H+"*\\)|)(?=[^-]|$)","i")},$=/[\x20\t\r\n\f]*[+~]/,J=/\{\s*\[native code\]\s*\}/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Y=/'|\\/g,Z=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,et=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,tt=function(e,t){var n="0x"+t-65536;return n!==n?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,n&1023|56320)};try{D.call(h.childNodes,0)[0].nodeType}catch(nt){D=function(e){var t,n=[];for(;t=this[e];e++)n.push(t);return n}}o=ut.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},l=ut.setDocument=function(e){var n=e?e.ownerDocument||e:E;if(n===c||n.nodeType!==9||!n.documentElement)return c;c=n,h=n.documentElement,p=o(n),S.tagNameNoComments=ot(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),S.attributes=ot(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),S.getByClassName=ot(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!e.getElementsByClassName||!e.getElementsByClassName("e").length?!1:(e.lastChild.className="e",e.getElementsByClassName("e").length===2)}),S.getByName=ot(function(e){e.id=w+0,e.innerHTML="<a name='"+w+"'></a><div name='"+w+"'></div>",h.insertBefore(e,h.firstChild);var t=n.getElementsByName&&n.getElementsByName(w).length===2+n.getElementsByName(w+0).length;return S.getIdNotName=!n.getElementById(w),h.removeChild(e),t}),i.attrHandle=ot(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==L&&e.firstChild.getAttribute("href")==="#"})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},S.getIdNotName?(i.find.ID=function(e,t){if(typeof t.getElementById!==L&&!p){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){return e.getAttribute("id")===t}}):(i.find.ID=function(e,n){if(typeof n.getElementById!==L&&!p){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==L&&r.getAttributeNode("id").value===e?[r]:t:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){var n=typeof e.getAttributeNode!==L&&e.getAttributeNode("id");return n&&n.value===t}}),i.find.TAG=S.tagNameNoComments?function(e,t){if(typeof t.getElementsByTagName!==L)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if(e==="*"){for(;n=s[i];i++)n.nodeType===1&&r.push(n);return r}return s},i.find.NAME=S.getByName&&function(e,t){if(typeof t.getElementsByName!==L)return t.getElementsByName(name)},i.find.CLASS=S.getByClassName&&function(e,t){if(typeof t.getElementsByClassName!==L&&!p)return t.getElementsByClassName(e)},v=[],d=[":focus"];if(S.qsa=rt(n.querySelectorAll))ot(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+H+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||d.push(":checked")}),ot(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&d.push("[*^$]="+H+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||d.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),d.push(",.*:")});return(S.matchesSelector=rt(m=h.matchesSelector||h.mozMatchesSelector||h.webkitMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ot(function(e){S.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),v.push("!=",q)}),d=new RegExp(d.join("|")),v=new RegExp(v.join("|")),g=rt(h.contains)||h.compareDocumentPosition?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&r.nodeType===1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},b=h.compareDocumentPosition?function(e,t){var r;if(e===t)return a=!0,0;if(r=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))return r&1||e.parentNode&&e.parentNode.nodeType===11?e===n||g(E,e)?-1:t===n||g(E,t)?1:0:r&4?-1:1;return e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,s=e.parentNode,o=t.parentNode,u=[e],f=[t];if(e===t)return a=!0,0;if(e.sourceIndex&&t.sourceIndex)return(~t.sourceIndex||A)-(g(E,e)&&~e.sourceIndex||A);if(!s||!o)return e===n?-1:t===n?1:s?-1:o?1:0;if(s===o)return at(e,t);r=e;while(r=r.parentNode)u.unshift(r);r=t;while(r=r.parentNode)f.unshift(r);while(u[i]===f[i])i++;return i?at(u[i],f[i]):u[i]===E?-1:f[i]===E?1:0},a=!1,[0,0].sort(b),S.detectDuplicates=a,c},ut.matches=function(e,t){return ut(e,null,null,t)},ut.matchesSelector=function(e,t){(e.ownerDocument||e)!==c&&l(e),t=t.replace(Z,"='$1']");if(S.matchesSelector&&!p&&(!v||!v.test(t))&&!d.test(t))try{var n=m.call(e,t);if(n||S.disconnectedMatch||e.document&&e.document.nodeType!==11)return n}catch(r){}return ut(t,c,null,[e]).length>0},ut.contains=function(e,t){return(e.ownerDocument||e)!==c&&l(e),g(e,t)},ut.attr=function(e,t){var n;return(e.ownerDocument||e)!==c&&l(e),p||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):p||S.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},ut.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ut.uniqueSort=function(e){var t,n=[],r=1,i=0;a=!S.detectDuplicates,e.sort(b);if(a){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));while(i--)e.splice(n[i],1)}return e},s=ut.getText=function(e){var t,n="",r=0,i=e.nodeType;if(!i)for(;t=e[r];r++)n+=s(t);else if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(i===3||i===4)return e.nodeValue;return n},i=ut.selectors={cacheLength:50,createPseudo:st,match:V,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(et,tt),e[3]=(e[4]||e[5]||"").replace(et,tt),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||ut.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&ut.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return V.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&W.test(n)&&(t=ht(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return e==="*"?function(){return!0}:(e=e.replace(et,tt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=N[e+" "];return t||(t=new RegExp("(^|"+H+")"+e+"("+H+"|$)"))&&N(e,function(e){return t.test(e.className||typeof e.getAttribute!==L&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ut.attr(r,e);return i==null?t==="!=":t?(i+="",t==="="?i===n:t==="!="?i!==n:t==="^="?n&&i.indexOf(n)===0:t==="*="?n&&i.indexOf(n)>-1:t==="$="?n&&i.substr(i.length-n.length)===n:t==="~="?(" "+i+" ").indexOf(n)>-1:t==="|="?i===n||i.substr(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;d=v=e==="only"&&!d&&"nextSibling"}return!0}d=[o?m.firstChild:m.lastChild];if(o&&y){l=m[w]||(m[w]={}),f=l[e]||[],p=f[0]===x&&f[1],h=f[0]===x&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(c.nodeType===1&&++h&&c===t){l[e]=[x,p,h];break}}else if(y&&(f=(t[w]||(t[w]={}))[e])&&f[0]===x)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++h){y&&((c[w]||(c[w]={}))[e]=[x,h]);if(c===t)break}return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||ut.error("unsupported pseudo: "+e);return r[w]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?st(function(e,n){var i,s=r(e,t),o=s.length;while(o--)i=P.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:st(function(e){var t=[],n=[],r=u(e.replace(R,"$1"));return r[w]?st(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:st(function(e){return function(t){return ut(e,t).length>0}}),contains:st(function(e){return function(t){return(t.textContent||t.innerText||s(t)).indexOf(e)>-1}}),lang:st(function(e){return X.test(e||"")||ut.error("unsupported lang: "+e),e=e.replace(et,tt).toLowerCase(),function(t){var n;do if(n=p?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===c.activeElement&&(!c.hasFocus||c.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||e.nodeType===3||e.nodeType===4)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()===e.type)},first:ct(function(){return[0]}),last:ct(function(e,t){return[t-1]}),eq:ct(function(e,t,n){return[n<0?n+t:n]}),even:ct(function(e,t){var n=0;for(;n<t;n+=2)e.push(n);return e}),odd:ct(function(e,t){var n=1;for(;n<t;n+=2)e.push(n);return e}),lt:ct(function(e,t,n){var r=n<0?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:ct(function(e,t,n){var r=n<0?n+t:n;for(;++r<t;)e.push(r);return e})}};for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[n]=ft(n);for(n in{submit:!0,reset:!0})i.pseudos[n]=lt(n);u=ut.compile=function(e,t){var n,r=[],i=[],s=k[e+" "];if(!s){t||(t=ht(e)),n=t.length;while(n--)s=yt(t[n]),s[w]?r.push(s):i.push(s);s=k(e,bt(i,r))}return s},i.pseudos.nth=i.pseudos.eq,i.filters=St.prototype=i.pseudos,i.setFilters=new St,l(),ut.attr=y.attr,y.find=ut,y.expr=ut.selectors,y.expr[":"]=y.expr.pseudos,y.unique=ut.uniqueSort,y.text=ut.getText,y.isXMLDoc=ut.isXML,y.contains=ut.contains}(e);var it=/Until$/,st=/^(?:parents|prev(?:Until|All))/,ot=/^.[^:#\[\.,]*$/,ut=y.expr.match.needsContext,at={children:!0,contents:!0,next:!0,prev:!0};y.fn.extend({find:function(e){var t,n,r;if(typeof e!="string")return r=this,this.pushStack(y(e).filter(function(){for(t=0;t<r.length;t++)if(y.contains(r[t],this))return!0}));n=[];for(t=0;t<this.length;t++)y.find(e,this[t],n);return n=this.pushStack(y.unique(n)),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=y(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(y.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(lt(this,e,!1))},filter:function(e){return this.pushStack(lt(this,e,!0))},is:function(e){return!!e&&(typeof e=="string"?ut.test(e)?y(e,this.context).index(this[0])>=0:y.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,s=[],o=ut.test(e)||typeof e!="string"?y(e,t||this.context):0;for(;r<i;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&n.nodeType!==11){if(o?o.index(n)>-1:y.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}}return this.pushStack(s.length>1?y.unique(s):s)},index:function(e){return e?typeof e=="string"?y.inArray(this[0],y(e)):y.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?y(e,t):y.makeArray(e&&e.nodeType?[e]:e),r=y.merge(this.get(),n);return this.pushStack(y.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),y.fn.andSelf=y.fn.addBack,y.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return y.dir(e,"parentNode")},parentsUntil:function(e,t,n){return y.dir(e,"parentNode",n)},next:function(e){return ft(e,"nextSibling")},prev:function(e){return ft(e,"previousSibling")},nextAll:function(e){return y.dir(e,"nextSibling")},prevAll:function(e){return y.dir(e,"previousSibling")},nextUntil:function(e,t,n){return y.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return y.dir(e,"previousSibling",n)},siblings:function(e){return y.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return y.sibling(e.firstChild)},contents:function(e){return y.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:y.merge([],e.childNodes)}},function(e,t){y.fn[e]=function(n,r){var i=y.map(this,t,n);return it.test(e)||(r=n),r&&typeof r=="string"&&(i=y.filter(r,i)),i=this.length>1&&!at[e]?y.unique(i):i,this.length>1&&st.test(e)&&(i=i.reverse()),this.pushStack(i)}}),y.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?y.find.matchesSelector(t[0],e)?[t[0]]:[]:y.find.matches(e,t)},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!y(s).is(r)))s.nodeType===1&&
i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",pt=/ jQuery\d+="(?:null|\d+)"/g,dt=new RegExp("<(?:"+ht+")[\\s/>]","i"),vt=/^\s+/,mt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,gt=/<([\w:]+)/,yt=/<tbody/i,bt=/<|&#?\w+;/,wt=/<(?:script|style|link)/i,Et=/^(?:checkbox|radio)$/i,St=/checked\s*(?:[^=]|=\s*.checked.)/i,xt=/^$|\/(?:java|ecma)script/i,Tt=/^true\/(.*)/,Nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ct={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:y.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},kt=ct(i),Lt=kt.appendChild(i.createElement("div"));Ct.optgroup=Ct.option,Ct.tbody=Ct.tfoot=Ct.colgroup=Ct.caption=Ct.thead,Ct.th=Ct.td,y.fn.extend({text:function(e){return y.access(this,function(e){return e===t?y.text(this):this.empty().append((this[0]&&this[0].ownerDocument||i).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(y.isFunction(e))return this.each(function(t){y(this).wrapAll(e.call(this,t))});if(this[0]){var t=y(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return y.isFunction(e)?this.each(function(t){y(this).wrapInner(e.call(this,t))}):this.each(function(){var t=y(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=y.isFunction(e);return this.each(function(n){y(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){y.nodeName(this,"body")||y(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=0;for(;(n=this[r])!=null;r++)if(!e||y.filter(e,[n]).length>0)!t&&n.nodeType===1&&y.cleanData(Ht(n)),n.parentNode&&(t&&y.contains(n.ownerDocument,n)&&_t(Ht(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&y.cleanData(Ht(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&y.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return y.clone(this,e,t)})},html:function(e){return y.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(pt,""):t;if(typeof e=="string"&&!wt.test(e)&&(y.support.htmlSerialize||!dt.test(e))&&(y.support.leadingWhitespace||!vt.test(e))&&!Ct[(gt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(mt,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(y.cleanData(Ht(n,!1)),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=y.isFunction(e);return!t&&typeof e!="string"&&(e=y(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;if(n&&this.nodeType===1||this.nodeType===11)y(this).remove(),t?t.parentNode.insertBefore(e,t):n.appendChild(e)})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=c.apply([],e);var i,s,o,u,a,f,l=0,h=this.length,p=this,d=h-1,v=e[0],m=y.isFunction(v);if(m||!(h<=1||typeof v!="string"||y.support.checkClone||!St.test(v)))return this.each(function(i){var s=p.eq(i);m&&(e[0]=v.call(this,i,n?s.html():t)),s.domManip(e,n,r)});if(h){i=y.buildFragment(e,this[0].ownerDocument,!1,this),s=i.firstChild,i.childNodes.length===1&&(i=s);if(s){n=n&&y.nodeName(s,"tr"),o=y.map(Ht(i,"script"),Ot),u=o.length;for(;l<h;l++)a=i,l!==d&&(a=y.clone(a,!0,!0),u&&y.merge(o,Ht(a,"script"))),r.call(n&&y.nodeName(this[l],"table")?At(this[l],"tbody"):this[l],a,l);if(u){f=o[o.length-1].ownerDocument,y.map(o,Mt);for(l=0;l<u;l++)a=o[l],xt.test(a.type||"")&&!y._data(a,"globalEval")&&y.contains(f,a)&&(a.src?y.ajax({url:a.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):y.globalEval((a.text||a.textContent||a.innerHTML||"").replace(Nt,"")))}i=s=null}}return this}}),y.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){y.fn[e]=function(e){var n,r=0,i=[],s=y(e),o=s.length-1;for(;r<=o;r++)n=r===o?this:this.clone(!0),y(s[r])[t](n),h.apply(i,n.get());return this.pushStack(i)}}),y.extend({clone:function(e,t,n){var r,i,s,o,u,a=y.contains(e.ownerDocument,e);y.support.html5Clone||y.isXMLDoc(e)||!dt.test("<"+e.nodeName+">")?u=e.cloneNode(!0):(Lt.innerHTML=e.outerHTML,Lt.removeChild(u=Lt.firstChild));if((!y.support.noCloneEvent||!y.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!y.isXMLDoc(e)){r=Ht(u),i=Ht(e);for(o=0;(s=i[o])!=null;++o)r[o]&&Pt(s,r[o])}if(t)if(n){i=i||Ht(e),r=r||Ht(u);for(o=0;(s=i[o])!=null;o++)Dt(s,r[o])}else Dt(e,u);return r=Ht(u,"script"),r.length>0&&_t(r,!a&&Ht(e,"script")),r=i=s=null,u},buildFragment:function(e,t,n,r){var i,s,o,u,a,f,l,c=e.length,h=ct(t),p=[],d=0;for(;d<c;d++){s=e[d];if(s||s===0)if(y.type(s)==="object")y.merge(p,s.nodeType?[s]:s);else if(!bt.test(s))p.push(t.createTextNode(s));else{u=u||h.appendChild(t.createElement("div")),o=(gt.exec(s)||["",""])[1].toLowerCase(),a=Ct[o]||Ct._default,u.innerHTML=a[1]+s.replace(mt,"<$1></$2>")+a[2],l=a[0];while(l--)u=u.lastChild;!y.support.leadingWhitespace&&vt.test(s)&&p.push(t.createTextNode(vt.exec(s)[0]));if(!y.support.tbody){s=o==="table"&&!yt.test(s)?u.firstChild:a[1]==="<table>"&&!yt.test(s)?u:0,l=s&&s.childNodes.length;while(l--)y.nodeName(f=s.childNodes[l],"tbody")&&!f.childNodes.length&&s.removeChild(f)}y.merge(p,u.childNodes),u.textContent="";while(u.firstChild)u.removeChild(u.firstChild);u=h.lastChild}}u&&h.removeChild(u),y.support.appendChecked||y.grep(Ht(p,"input"),Bt),d=0;while(s=p[d++]){if(r&&y.inArray(s,r)!==-1)continue;i=y.contains(s.ownerDocument,s),u=Ht(h.appendChild(s),"script"),i&&_t(u);if(n){l=0;while(s=u[l++])xt.test(s.type||"")&&n.push(s)}}return u=null,h},cleanData:function(e,t){var n,r,i,s,o=0,u=y.expando,a=y.cache,l=y.support.deleteExpando,c=y.event.special;for(;(i=e[o])!=null;o++)if(t||y.acceptData(i)){r=i[u],n=r&&a[r];if(n){if(n.events)for(s in n.events)c[s]?y.event.remove(i,s):y.removeEvent(i,s,n.handle);a[r]&&(delete a[r],l?delete i[u]:typeof i.removeAttribute!="undefined"?i.removeAttribute(u):i[u]=null,f.push(r))}}}});var jt,Ft,It,qt=/alpha\([^)]*\)/i,Rt=/opacity\s*=\s*([^)]*)/,Ut=/^(top|right|bottom|left)$/,zt=/^(none|table(?!-c[ea]).+)/,Wt=/^margin/,Xt=new RegExp("^("+b+")(.*)$","i"),Vt=new RegExp("^("+b+")(?!px)[a-z%]+$","i"),$t=new RegExp("^([+-])=("+b+")","i"),Jt={BODY:"block"},Kt={position:"absolute",visibility:"hidden",display:"block"},Qt={letterSpacing:0,fontWeight:400},Gt=["Top","Right","Bottom","Left"],Yt=["Webkit","O","Moz","ms"];y.fn.extend({css:function(e,n){return y.access(this,function(e,n,r){var i,s,o={},u=0;if(y.isArray(n)){i=Ft(e),s=n.length;for(;u<s;u++)o[n[u]]=y.css(e,n[u],!1,i);return o}return r!==t?y.style(e,n,r):y.css(e,n)},e,n,arguments.length>1)},show:function(){return tn(this,!0)},hide:function(){return tn(this)},toggle:function(e){var t=typeof e=="boolean";return this.each(function(){(t?e:en(this))?y(this).show():y(this).hide()})}}),y.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=jt(e,"opacity");return n===""?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":y.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var s,o,u,a=y.camelCase(n),f=e.style;n=y.cssProps[a]||(y.cssProps[a]=Zt(f,a)),u=y.cssHooks[n]||y.cssHooks[a];if(r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];o=typeof r,o==="string"&&(s=$t.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(y.css(e,n)),o="number");if(r==null||o==="number"&&isNaN(r))return;o==="number"&&!y.cssNumber[a]&&(r+="px"),!y.support.clearCloneStyle&&r===""&&n.indexOf("background")===0&&(f[n]="inherit");if(!u||!("set"in u)||(r=u.set(e,r,i))!==t)try{f[n]=r}catch(l){}},css:function(e,n,r,i){var s,o,u,a=y.camelCase(n);return n=y.cssProps[a]||(y.cssProps[a]=Zt(e.style,a)),u=y.cssHooks[n]||y.cssHooks[a],u&&"get"in u&&(s=u.get(e,!0,r)),s===t&&(s=jt(e,n,i)),s==="normal"&&n in Qt&&(s=Qt[n]),r?(o=parseFloat(s),r===!0||y.isNumeric(o)?o||0:s):s},swap:function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i}}),e.getComputedStyle?(Ft=function(t){return e.getComputedStyle(t,null)},jt=function(e,n,r){var i,s,o,u=r||Ft(e),a=u?u.getPropertyValue(n)||u[n]:t,f=e.style;return u&&(a===""&&!y.contains(e.ownerDocument,e)&&(a=y.style(e,n)),Vt.test(a)&&Wt.test(n)&&(i=f.width,s=f.minWidth,o=f.maxWidth,f.minWidth=f.maxWidth=f.width=a,a=u.width,f.width=i,f.minWidth=s,f.maxWidth=o)),a}):i.documentElement.currentStyle&&(Ft=function(e){return e.currentStyle},jt=function(e,n,r){var i,s,o,u=r||Ft(e),a=u?u[n]:t,f=e.style;return a==null&&f&&f[n]&&(a=f[n]),Vt.test(a)&&!Ut.test(n)&&(i=f.left,s=e.runtimeStyle,o=s&&s.left,o&&(s.left=e.currentStyle.left),f.left=n==="fontSize"?"1em":a,a=f.pixelLeft+"px",f.left=i,o&&(s.left=o)),a===""?"auto":a}),y.each(["height","width"],function(e,t){y.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&zt.test(y.css(e,"display"))?y.swap(e,Kt,function(){return sn(e,t,r)}):sn(e,t,r)},set:function(e,n,r){var i=r&&Ft(e);return nn(e,n,r?rn(e,t,r,y.support.boxSizing&&y.css(e,"boxSizing",!1,i)==="border-box",i):0)}}}),y.support.opacity||(y.cssHooks.opacity={get:function(e,t){return Rt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=y.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if((t>=1||t==="")&&y.trim(s.replace(qt,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(t===""||r&&!r.filter)return}n.filter=qt.test(s)?s.replace(qt,i):s+" "+i}}),y(function(){y.support.reliableMarginRight||(y.cssHooks.marginRight={get:function(e,t){if(t)return y.swap(e,{display:"inline-block"},jt,[e,"marginRight"])}}),!y.support.pixelPosition&&y.fn.position&&y.each(["top","left"],function(e,t){y.cssHooks[t]={get:function(e,n){if(n)return n=jt(e,t),Vt.test(n)?y(e).position()[t]+"px":n}}})}),y.expr&&y.expr.filters&&(y.expr.filters.hidden=function(e){return e.offsetWidth===0&&e.offsetHeight===0||!y.support.reliableHiddenOffsets&&(e.style&&e.style.display||y.css(e,"display"))==="none"},y.expr.filters.visible=function(e){return!y.expr.filters.hidden(e)}),y.each({margin:"",padding:"",border:"Width"},function(e,t){y.cssHooks[e+t]={expand:function(n){var r=0,i={},s=typeof n=="string"?n.split(" "):[n];for(;r<4;r++)i[e+Gt[r]+t]=s[r]||s[r-2]||s[0];return i}},Wt.test(e)||(y.cssHooks[e+t].set=nn)});var an=/%20/g,fn=/\[\]$/,ln=/\r?\n/g,cn=/^(?:submit|button|image|reset)$/i,hn=/^(?:input|select|textarea|keygen)/i;y.fn.extend({serialize:function(){return y.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=y.prop(this,"elements");return e?y.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!y(this).is(":disabled")&&hn.test(this.nodeName)&&!cn.test(e)&&(this.checked||!Et.test(e))}).map(function(e,t){var n=y(this).val();return n==null?null:y.isArray(n)?y.map(n,function(e){return{name:t.name,value:e.replace(ln,"\r\n")}}):{name:t.name,value:n.replace(ln,"\r\n")}}).get()}}),y.param=function(e,n){var r,i=[],s=function(e,t){t=y.isFunction(t)?t():t==null?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=y.ajaxSettings&&y.ajaxSettings.traditional);if(y.isArray(e)||e.jquery&&!y.isPlainObject(e))y.each(e,function(){s(this.name,this.value)});else for(r in e)pn(r,e[r],n,s);return i.join("&").replace(an,"+")};var dn,vn,mn=y.now(),gn=/\?/,yn=/#.*$/,bn=/([?&])_=[^&]*/,wn=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,En=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Sn=/^(?:GET|HEAD)$/,xn=/^\/\//,Tn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Nn=y.fn.load,Cn={},kn={},Ln="*/".concat("*");try{vn=s.href}catch(An){vn=i.createElement("a"),vn.href="",vn=vn.href}dn=Tn.exec(vn.toLowerCase())||[],y.fn.load=function(e,n,r){if(typeof e!="string"&&Nn)return Nn.apply(this,arguments);var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),y.isFunction(n)?(r=n,n=t):n&&typeof n=="object"&&(s="POST"),u.length>0&&y.ajax({url:e,type:s,dataType:"html",data:n}).done(function(e){o=arguments,u.html(i?y("<div>").append(y.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){u.each(r,o||[e.responseText,t,e])}),this},y.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){y.fn[t]=function(e){return this.on(t,e)}}),y.each(["get","post"],function(e,n){y[n]=function(e,r,i,s){return y.isFunction(r)&&(s=s||i,i=r,r=t),y.ajax({url:e,type:n,dataType:s,data:r,success:i})}}),y.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:vn,type:"GET",isLocal:En.test(dn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ln,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":y.parseJSON,"text xml":y.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?_n(_n(e,y.ajaxSettings),t):_n(y.ajaxSettings,e)},ajaxPrefilter:On(Cn),ajaxTransport:On(kn),ajax:function(e,n){function N(e,n,o,a){var l,g,b,w,S,T=n;if(E===2)return;E=2,u&&clearTimeout(u),r=t,s=a||"",x.readyState=e>0?4:0,o&&(w=Dn(c,x,o));if(e>=200&&e<300||e===304)c.ifModified&&(S=x.getResponseHeader("Last-Modified"),S&&(y.lastModified[i]=S),S=x.getResponseHeader("etag"),S&&(y.etag[i]=S)),e===304?(l=!0,T="notmodified"):(l=Pn(c,w),T=l.state,g=l.data,b=l.error,l=!b);else{b=T;if(e||!T)T="error",e<0&&(e=0)}x.status=e,x.statusText=(n||T)+"",l?d.resolveWith(h,[g,T,x]):d.rejectWith(h,[x,T,b]),x.statusCode(m),m=t,f&&p.trigger(l?"ajaxSuccess":"ajaxError",[x,c,l?g:b]),v.fireWith(h,[x,T]),f&&(p.trigger("ajaxComplete",[x,c]),--y.active||y.event.trigger("ajaxStop"))}typeof e=="object"&&(n=e,e=t),n=n||{};var r,i,s,o,u,a,f,l,c=y.ajaxSetup({},n),h=c.context||c,p=c.context&&(h.nodeType||h.jquery)?y(h):y.event,d=y.Deferred(),v=y.Callbacks("once memory"),m=c.statusCode||{},g={},b={},E=0,S="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(E===2){if(!o){o={};while(t=wn.exec(s))o[t[1].toLowerCase()]=t[2]}t=o[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return E===2?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return E||(e=b[n]=b[n]||e,g[e]=t),this},overrideMimeType:function(e){return E||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(E<2)for(t in e)m[t]=[m[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||S;return r&&r.abort(t),N(0,t),this}};d.promise(x).complete=v.add,x.success=x.done,x.error=x.fail,c.url=((e||c.url||vn)+"").replace(yn,"").replace(xn,dn[1]+"//"),c.type=n.method||n.type||c.method||c.type,c.dataTypes=y.trim(c.dataType||"*").toLowerCase().match(w)||[""],c.crossDomain==null&&(a=Tn.exec(c.url.toLowerCase()),c.crossDomain=!(!a||a[1]===dn[1]&&a[2]===dn[2]&&(a[3]||(a[1]==="http:"?80:443))==(dn[3]||(dn[1]==="http:"?80:443)))),c.data&&c.processData&&typeof c.data!="string"&&(c.data=y.param(c.data,c.traditional)),Mn(Cn,c,n,x);if(E===2)return x;f=c.global,f&&y.active++===0&&y.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!Sn.test(c.type),i=c.url,c.hasContent||(c.data&&(i=c.url+=(gn.test(i)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=bn.test(i)?i.replace(bn,"$1_="+mn++):i+(gn.test(i)?"&":"?")+"_="+mn++)),c.ifModified&&(y.lastModified[i]&&x.setRequestHeader("If-Modified-Since",y.lastModified[i]),y.etag[i]&&x.setRequestHeader("If-None-Match",y.etag[i])),(c.data&&c.hasContent&&c.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",c.contentType),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!=="*"?", "+Ln+"; q=0.01":""):c.accepts["*"]);for(l in c.headers)x.setRequestHeader(l,c.headers[l]);if(!c.beforeSend||c.beforeSend.call(h,x,c)!==!1&&E!==2){S="abort";for(l in{success:1,error:1,complete:1})x[l](c[l]);r=Mn(kn,c,n,x);if(!r)N(-1,"No Transport");else{x.readyState=1,f&&p.trigger("ajaxSend",[x,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){x.abort("timeout")},c.timeout));try{E=1,r.send(g,N)}catch(T){if(!(E<2))throw T;N(-1,T)}}return x}return x.abort()},getScript:function(e,n){return y.get(e,t,n,"script")},getJSON:function(e,t,n){return y.get(e,t,n,"json")}}),y.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return y.globalEval(e),e}}}),y.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),y.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=i.head||y("head")[0]||i.documentElement;return{send:function(t,s){n=i.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){if(t||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||s(200,"success")},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Hn=[],Bn=/(=)\?(?=&|$)|\?\?/;y.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Hn.pop()||y.expando+"_"+mn++;return this[e]=!0,e}}),y.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.jsonp!==!1&&(Bn.test(n.url)?"url":typeof n.data=="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bn.test(n.data)&&"data");if(a||n.dataTypes[0]==="jsonp")return s=n.jsonpCallback=y.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,a?n[a]=n[a].replace(Bn,"$1"+s):n.jsonp!==!1&&(n.url+=(gn.test(n.url)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return u||y.error(s+" was not called"),u[0]},n.dataTypes[0]="json",o=e[s],e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,Hn.push(s)),u&&y.isFunction(o)&&o(u[0]),u=o=t}),"script"});var jn,Fn,In=0,qn=e.ActiveXObject&&function(){var e;for(e in jn)jn[e](t,!0)};y.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&Rn()||Un()}:Rn,Fn=y.ajaxSettings.xhr(),y.support.cors=!!Fn&&"withCredentials"in Fn,Fn=y.support.ajax=!!Fn,Fn&&y.ajaxTransport(function(n){if(!n.crossDomain||y.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c,h;try{if(r&&(i||a.readyState===4)){r=t,o&&(a.onreadystatechange=y.noop,qn&&delete jn[o]);if(i)a.readyState!==4&&a.abort();else{c={},u=a.status,h=a.responseXML,l=a.getAllResponseHeaders(),h&&h.documentElement&&(c.xml=h),typeof a.responseText=="string"&&(c.text=a.responseText);try{f=a.statusText}catch(p){f=""}!u&&n.isLocal&&!n.crossDomain?u=c.text?200:404:u===1223&&(u=204)}}}catch(d){i||s(-1,d)}c&&s(u,f,c,l)},n.async?a.readyState===4?setTimeout(r):(o=++In,qn&&(jn||(jn={},y(e).unload(qn)),jn[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var zn,Wn,Xn=/^(?:toggle|show|hide)$/,Vn=new RegExp("^(?:([+-])=|)("+b+")([a-z%]*)$","i"),$n=/queueHooks$/,Jn=[er],Kn={"*":[function(e,t){var n,r,i=this.createTween(e,t),s=Vn.exec(t),o=i.cur(),u=+o||0,a=1,f=20;if(s){n=+s[2],r=s[3]||(y.cssNumber[e]?"":"px");if(r!=="px"&&u){u=y.css(i.elem,e,!0)||n||1;do a=a||".5",u/=a,y.style(i.elem,e,u+r);while(a!==(a=i.cur()/o)&&a!==1&&--f)}i.unit=r,i.start=u,i.end=s[1]?u+(s[1]+1)*n:n}return i}]};y.Animation=y.extend(Yn,{tweener:function(e,t){y.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],Kn[n]=Kn[n]||[],Kn[n].unshift(t)},prefilter:function(e,t){t?Jn.unshift(e):Jn.push(e)}}),y.Tween=tr,tr.prototype={constructor:tr,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(y.cssNumber[n]?"":"px")},cur:function(){var e=tr.propHooks[this.prop];return e&&e.get?e.get(this):tr.propHooks._default.get(this)},run:function(e){var t,n=tr.propHooks[this.prop];return this.options.duration?this.pos=t=y.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):tr.propHooks._default.set(this),this}},tr.prototype.init.prototype=tr.prototype,tr.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=y.css(e.elem,e.prop,"auto"),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){y.fx.step[e.prop]?y.fx.step[e.prop](e):e.elem.style&&(e.elem.style[y.cssProps[e.prop]]!=null||y.cssHooks[e.prop])?y.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},tr.propHooks.scrollTop=tr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},y.each(["toggle","show","hide"],function(e,t){var n=y.fn[t];y.fn[t]=function(e,r,i){return e==null||typeof e=="boolean"?n.apply(this,arguments):this.animate(nr(t,!0),e,r,i)}}),y.fn.extend({fadeTo:function(e,t,n,r){return this.filter(en).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=y.isEmptyObject(e),s=y.speed(t,n,r),o=function(){var t=Yn(this,y.extend({},e),s);o.finish=function(){t.stop(!0)},(i||y._data(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=e!=null&&e+"queueHooks",s=y.timers,o=y._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&$n.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem===this&&(e==null||s[n].queue===e)&&(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&y.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=y._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=y.timers,o=r?r.length:0;n.finish=!0,y.queue(this,e,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this);for(t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),y.each({slideDown:nr("show"),slideUp:nr("hide"),slideToggle:nr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){y.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),y.speed=function(e,t,n){var r=e&&typeof e=="object"?y.extend({},e):{complete:n||!n&&t||y.isFunction(e)&&e,duration:e,easing:n&&t||t&&!y.isFunction(t)&&t};r.duration=y.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in y.fx.speeds?y.fx.speeds[r.duration]:y.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){y.isFunction(r.old)&&r.old.call(this),r.queue&&y.dequeue(this,r.queue)},r},y.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},y.timers=[],y.fx=tr.prototype.init,y.fx.tick=function(){var e,n=y.timers,r=0;zn=y.now();for(;r<n.length;r++)e=n[r],!e()&&n[r]===e&&n.splice(r--,1);n.length||y.fx.stop(),zn=t},y.fx.timer=function(e){e()&&y.timers.push(e)&&y.fx.start()},y.fx.interval=13,y.fx.start=function(){Wn||(Wn=setInterval(y.fx.tick,y.fx.interval))},y.fx.stop=function(){clearInterval(Wn),Wn=null},y.fx.speeds={slow:600,fast:200,_default:400},y.fx.step={},y.expr&&y.expr.filters&&(y.expr.filters.animated=function(e){return y.grep(y.timers,function(t){return e===t.elem}).length}),y.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){y.offset.setOffset(this,e,t)});var n,r,i={top:0,left:0},s=this[0],o=s&&s.ownerDocument;if(!o)return;return n=o.documentElement,y.contains(n,s)?(typeof s.getBoundingClientRect!="undefined"&&(i=s.getBoundingClientRect()),r=rr(o),{top:i.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:i.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):i},y.offset={setOffset:function(e,t,n){var r=y.css(e,"position");r==="static"&&(e.style.position="relative");var i=y(e),s=i.offset(),o=y.css(e,"top"),u=y.css(e,"left"),a=(r==="absolute"||r==="fixed")&&y.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),y.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+c),t.left!=null&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},y.fn.extend({position:function(){if(!this[0])return;var e,t,n={top:0,left:0},r=this[0];return y.css(r,"position")==="fixed"?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),y.nodeName(e[0],"html")||(n=e.offset()),n.top+=y.css(e[0],"borderTopWidth",!0),n.left+=y.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-y.css(r,"marginTop",!0),left:t.left-n.left-y.css(r,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||i.documentElement;while(e&&!y.nodeName(e,"html")&&y.css(e,"position")==="static")e=e.offsetParent;return e||i.documentElement})}}),y.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);y.fn[e]=function(i){return y.access(this,function(e,i,s){var o=rr(e);if(s===t)return o?n in o?o[n]:o.document.documentElement[i]:e[i];o?o.scrollTo(r?y(o).scrollLeft():s,r?s:y(o).scrollTop()):e[i]=s},e,i,arguments.length,null)}}),y.each({Height:"height",Width:"width"},function(e,n){y.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){y.fn[i]=function(i,s){var o=arguments.length&&(r||typeof i!="boolean"),u=r||(i===!0||s===!0?"margin":"border");return y.access(this,function(n,r,i){var s;return y.isWindow(n)?n.document.documentElement["client"+e]:n.nodeType===9?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?y.css(n,r,u):y.style(n,r,i,u)},n,o?i:t,o,null)}})}),e.jQuery=e.$=y,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return y})})(window),function(e,t){var n=function(){var t=e._data(document,"events");return t&&t.click&&e.grep(t.click,function(e){return e.namespace==="rails"}).length};n()&&e.error("jquery-ujs has already been loaded!");var r;e.rails=r={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},fire:function(t,n,r){var i=e.Event(n);return t.trigger(i,r),i.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(n){var i,s,o,u,a,f,l,c;if(r.fire(n,"ajax:before")){u=n.data("cross-domain"),a=u===t?null:u,f=n.data("with-credentials")||null,l=n.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType;if(n.is("form")){i=n.attr("method"),s=n.attr("action"),o=n.serializeArray();var h=n.data("ujs:submit-button");h&&(o.push(h),n.data("ujs:submit-button",null))}else n.is(r.inputChangeSelector)?(i=n.data("method"),s=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):(i=n.data("method"),s=r.href(n),o=n.data("params")||null);c={type:i||"GET",data:o,dataType:l,beforeSend:function(e,i){return i.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+i.accepts.script),r.fire(n,"ajax:beforeSend",[e,i])},success:function(e,t,r){n.trigger("ajax:success",[e,t,r])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,r){n.trigger("ajax:error",[e,t,r])},xhrFields:{withCredentials:f},crossDomain:a},s&&(c.url=s);var p=r.ajax(c);return n.trigger("ajax:send",p),p}return!1},handleMethod:function(n){var i=r.href(n),s=n.data("method"),o=n.attr("target"),u=e("meta[name=csrf-token]").attr("content"),a=e("meta[name=csrf-param]").attr("content"),f=e('<form method="post" action="'+i+'"></form>'),l='<input name="_method" value="'+s+'" type="hidden" />';a!==t&&u!==t&&(l+='<input name="'+a+'" value="'+u+'" type="hidden" />'),o&&f.attr("target",o),f.hide().append(l).appendTo("body"),f.submit()},disableFormElements:function(t){t.find(r.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(r.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t=e.data("confirm"),n=!1,i;return t?(r.fire(e,"confirm")&&(n=r.confirm(t),i=r.fire(e,"confirm:complete",[n])),n&&i):!0},blankInputs:function(t,n,r){var i=e(),s,o,u=n||"input,textarea",a=t.find(u);return a.each(function(){s=e(this),o=s.is(":checkbox,:radio")?s.is(":checked"):s.val();if(!o==!r){if(s.is(":radio")&&a.filter('input:radio:checked[name="'+s.attr("name")+'"]').length)return!0;i=i.add(s)}}),i.length?i:!1},nonBlankInputs:function(e,t){return r.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},callFormSubmitBindings:function(n,r){var i=n.data("events"),s=!0;return i!==t&&i.submit!==t&&e.each(i.submit,function(e,t){if(typeof t.handler=="function")return s=t.handler(r)}),s},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return r.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.data("ujs:enable-with",!1)),e.unbind("click.railsDisable")}},r.fire(e(document),"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,n){e.crossDomain||r.CSRFProtection(n)}),e(document).delegate(r.linkDisableSelector,"ajax:complete",function(){r.enableElement(e(this))}),e(document).delegate(r.linkClickSelector,"click.rails",function(n){var i=e(this),s=i.data("method"),o=i.data("params");if(!r.allowAction(i))return r.stopEverything(n);i.is(r.linkDisableSelector)&&r.disableElement(i);if(i.data("remote")!==t){if((n.metaKey||n.ctrlKey)&&(!s||s==="GET")&&!o)return!0;var u=r.handleRemote(i);return u===!1?r.enableElement(i):u.error(function(){r.enableElement(i)}),!1}if(i.data("method"))return r.handleMethod(i),!1}),e(document).delegate(r.inputChangeSelector,"change.rails",function(t
){var n=e(this);return r.allowAction(n)?(r.handleRemote(n),!1):r.stopEverything(t)}),e(document).delegate(r.formSubmitSelector,"submit.rails",function(n){var i=e(this),s=i.data("remote")!==t,o=r.blankInputs(i,r.requiredInputSelector),u=r.nonBlankInputs(i,r.fileInputSelector);if(!r.allowAction(i))return r.stopEverything(n);if(o&&i.attr("novalidate")==t&&r.fire(i,"ajax:aborted:required",[o]))return r.stopEverything(n);if(s){if(u){setTimeout(function(){r.disableFormElements(i)},13);var a=r.fire(i,"ajax:aborted:file",[u]);return a||setTimeout(function(){r.enableFormElements(i)},13),a}return!e.support.submitBubbles&&e().jquery<"1.7"&&r.callFormSubmitBindings(i,n)===!1?r.stopEverything(n):(r.handleRemote(i),!1)}setTimeout(function(){r.disableFormElements(i)},13)}),e(document).delegate(r.formInputClickSelector,"click.rails",function(t){var n=e(this);if(!r.allowAction(n))return r.stopEverything(t);var i=n.attr("name"),s=i?{name:i,value:n.val()}:null;n.closest("form").data("ujs:submit-button",s)}),e(document).delegate(r.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&r.disableFormElements(e(this))}),e(document).delegate(r.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&r.enableFormElements(e(this))}),e(function(){csrf_token=e("meta[name=csrf-token]").attr("content"),csrf_param=e("meta[name=csrf-param]").attr("content"),e('form input[name="'+csrf_param+'"]').val(csrf_token)}))}(jQuery),function(){var e=function(){function k(){if(w)return;try{var e=f.getElementsByTagName("body")[0].appendChild(z("span"));e.parentNode.removeChild(e)}catch(t){return}w=!0;var n=h.length;for(var r=0;r<n;r++)h[r]()}function L(e){w?e():h[h.length]=e}function A(e){if(typeof a.addEventListener!=t)a.addEventListener("load",e,!1);else if(typeof f.addEventListener!=t)f.addEventListener("load",e,!1);else if(typeof a.attachEvent!=t)W(a,"onload",e);else if(typeof a.onload=="function"){var n=a.onload;a.onload=function(){n(),e()}}else a.onload=e}function O(){c?M():_()}function M(){var e=f.getElementsByTagName("body")[0],r=z(n);r.setAttribute("type",s);var i=e.appendChild(r);if(i){var o=0;(function(){if(typeof i.GetVariable!=t){var n=i.GetVariable("$version");n&&(n=n.split(" ")[1].split(","),N.pv=[parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10)])}else if(o<10){o++,setTimeout(arguments.callee,10);return}e.removeChild(r),i=null,_()})()}else _()}function _(){var e=p.length;if(e>0)for(var n=0;n<e;n++){var r=p[n].id,i=p[n].callbackFn,s={success:!1,id:r};if(N.pv[0]>0){var o=U(r);if(o)if(X(p[n].swfVersion)&&!(N.wk&&N.wk<312))$(r,!0),i&&(s.success=!0,s.ref=D(r),i(s));else if(p[n].expressInstall&&P()){var u={};u.data=p[n].expressInstall,u.width=o.getAttribute("width")||"0",u.height=o.getAttribute("height")||"0",o.getAttribute("class")&&(u.styleclass=o.getAttribute("class")),o.getAttribute("align")&&(u.align=o.getAttribute("align"));var a={},f=o.getElementsByTagName("param"),l=f.length;for(var c=0;c<l;c++)f[c].getAttribute("name").toLowerCase()!="movie"&&(a[f[c].getAttribute("name")]=f[c].getAttribute("value"));H(u,a,r,i)}else B(o),i&&i(s)}else{$(r,!0);if(i){var h=D(r);h&&typeof h.SetVariable!=t&&(s.success=!0,s.ref=h),i(s)}}}}function D(e){var r=null,i=U(e);if(i&&i.nodeName=="OBJECT")if(typeof i.SetVariable!=t)r=i;else{var s=i.getElementsByTagName(n)[0];s&&(r=s)}return r}function P(){return!E&&X("6.0.65")&&(N.win||N.mac)&&!(N.wk&&N.wk<312)}function H(e,n,r,i){E=!0,y=i||null,b={success:!1,id:r};var s=U(r);if(s){s.nodeName=="OBJECT"?(m=j(s),g=null):(m=s,g=r),e.id=o;if(typeof e.width==t||!/%$/.test(e.width)&&parseInt(e.width,10)<310)e.width="310";if(typeof e.height==t||!/%$/.test(e.height)&&parseInt(e.height,10)<137)e.height="137";f.title=f.title.slice(0,47)+" - Flash Player Installation";var u=N.ie&&N.win?"ActiveX":"PlugIn",l="MMredirectURL="+a.location.toString().replace(/&/g,"%26")+"&MMplayerType="+u+"&MMdoctitle="+f.title;typeof n.flashvars!=t?n.flashvars+="&"+l:n.flashvars=l;if(N.ie&&N.win&&s.readyState!=4){var c=z("div");r+="SWFObjectNew",c.setAttribute("id",r),s.parentNode.insertBefore(c,s),s.style.display="none",function(){s.readyState==4?s.parentNode.removeChild(s):setTimeout(arguments.callee,10)}()}F(e,n,r)}}function B(e){if(N.ie&&N.win&&e.readyState!=4){var t=z("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(j(e),t),e.style.display="none",function(){e.readyState==4?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(j(e),e)}function j(e){var t=z("div");if(N.win&&N.ie)t.innerHTML=e.innerHTML;else{var r=e.getElementsByTagName(n)[0];if(r){var i=r.childNodes;if(i){var s=i.length;for(var o=0;o<s;o++)(i[o].nodeType!=1||i[o].nodeName!="PARAM")&&i[o].nodeType!=8&&t.appendChild(i[o].cloneNode(!0))}}}return t}function F(e,r,i){var o,u=U(i);if(N.wk&&N.wk<312)return o;if(u){typeof e.id==t&&(e.id=i);if(N.ie&&N.win){var a="";for(var f in e)e[f]!=Object.prototype[f]&&(f.toLowerCase()=="data"?r.movie=e[f]:f.toLowerCase()=="styleclass"?a+=' class="'+e[f]+'"':f.toLowerCase()!="classid"&&(a+=" "+f+'="'+e[f]+'"'));var l="";for(var c in r)r[c]!=Object.prototype[c]&&(l+='<param name="'+c+'" value="'+r[c]+'" />');u.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+a+">"+l+"</object>",d[d.length]=e.id,o=U(e.id)}else{var h=z(n);h.setAttribute("type",s);for(var p in e)e[p]!=Object.prototype[p]&&(p.toLowerCase()=="styleclass"?h.setAttribute("class",e[p]):p.toLowerCase()!="classid"&&h.setAttribute(p,e[p]));for(var v in r)r[v]!=Object.prototype[v]&&v.toLowerCase()!="movie"&&I(h,v,r[v]);u.parentNode.replaceChild(h,u),o=h}}return o}function I(e,t,n){var r=z("param");r.setAttribute("name",t),r.setAttribute("value",n),e.appendChild(r)}function q(e){var t=U(e);t&&t.nodeName=="OBJECT"&&(N.ie&&N.win?(t.style.display="none",function(){t.readyState==4?R(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function R(e){var t=U(e);if(t){for(var n in t)typeof t[n]=="function"&&(t[n]=null);t.parentNode.removeChild(t)}}function U(e){var t=null;try{t=f.getElementById(e)}catch(n){}return t}function z(e){return f.createElement(e)}function W(e,t,n){e.attachEvent(t,n),v[v.length]=[e,t,n]}function X(e){var t=N.pv,n=e.split(".");return n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10)||0,n[2]=parseInt(n[2],10)||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]?!0:!1}function V(e,r,i,s){if(N.ie&&N.mac)return;var o=f.getElementsByTagName("head")[0];if(!o)return;var u=i&&typeof i=="string"?i:"screen";s&&(S=null,x=null);if(!S||x!=u){var a=z("style");a.setAttribute("type","text/css"),a.setAttribute("media",u),S=o.appendChild(a),N.ie&&N.win&&typeof f.styleSheets!=t&&f.styleSheets.length>0&&(S=f.styleSheets[f.styleSheets.length-1]),x=u}N.ie&&N.win?S&&typeof S.addRule==n&&S.addRule(e,r):S&&typeof f.createTextNode!=t&&S.appendChild(f.createTextNode(e+" {"+r+"}"))}function $(e,t){if(!T)return;var n=t?"visible":"hidden";w&&U(e)?U(e).style.visibility=n:V("#"+e,"visibility:"+n)}function J(e){var n=/[\\\"<>\.;]/,r=n.exec(e)!=null;return r&&typeof encodeURIComponent!=t?encodeURIComponent(e):e}var t="undefined",n="object",r="Shockwave Flash",i="ShockwaveFlash.ShockwaveFlash",s="application/x-shockwave-flash",o="SWFObjectExprInst",u="onreadystatechange",a=window,f=document,l=navigator,c=!1,h=[O],p=[],d=[],v=[],m,g,y,b,w=!1,E=!1,S,x,T=!0,N=function(){var e=typeof f.getElementById!=t&&typeof f.getElementsByTagName!=t&&typeof f.createElement!=t,o=l.userAgent.toLowerCase(),u=l.platform.toLowerCase(),h=u?/win/.test(u):/win/.test(o),p=u?/mac/.test(u):/mac/.test(o),d=/webkit/.test(o)?parseFloat(o.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,v=!1,m=[0,0,0],g=null;if(typeof l.plugins!=t&&typeof l.plugins[r]==n)g=l.plugins[r].description,g&&(typeof l.mimeTypes==t||!l.mimeTypes[s]||!!l.mimeTypes[s].enabledPlugin)&&(c=!0,v=!1,g=g.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),m[0]=parseInt(g.replace(/^(.*)\..*$/,"$1"),10),m[1]=parseInt(g.replace(/^.*\.(.*)\s.*$/,"$1"),10),m[2]=/[a-zA-Z]/.test(g)?parseInt(g.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof a.ActiveXObject!=t)try{var y=new ActiveXObject(i);y&&(g=y.GetVariable("$version"),g&&(v=!0,g=g.split(" ")[1].split(","),m=[parseInt(g[0],10),parseInt(g[1],10),parseInt(g[2],10)]))}catch(b){}return{w3:e,pv:m,wk:d,ie:v,win:h,mac:p}}(),C=function(){if(!N.w3)return;(typeof f.readyState!=t&&f.readyState=="complete"||typeof f.readyState==t&&(f.getElementsByTagName("body")[0]||f.body))&&k(),w||(typeof f.addEventListener!=t&&f.addEventListener("DOMContentLoaded",k,!1),N.ie&&N.win&&(f.attachEvent(u,function(){f.readyState=="complete"&&(f.detachEvent(u,arguments.callee),k())}),a==top&&function(){if(w)return;try{f.documentElement.doScroll("left")}catch(e){setTimeout(arguments.callee,0);return}k()}()),N.wk&&function(){if(w)return;if(!/loaded|complete/.test(f.readyState)){setTimeout(arguments.callee,0);return}k()}(),A(k))}(),K=function(){N.ie&&N.win&&window.attachEvent("onunload",function(){var t=v.length;for(var n=0;n<t;n++)v[n][0].detachEvent(v[n][1],v[n][2]);var r=d.length;for(var i=0;i<r;i++)q(d[i]);for(var s in N)N[s]=null;N=null;for(var o in e)e[o]=null;e=null})}();return{registerObject:function(e,t,n,r){if(N.w3&&e&&t){var i={};i.id=e,i.swfVersion=t,i.expressInstall=n,i.callbackFn=r,p[p.length]=i,$(e,!1)}else r&&r({success:!1,id:e})},getObjectById:function(e){if(N.w3)return D(e)},embedSWF:function(e,r,i,s,o,u,a,f,l,c){var h={success:!1,id:r};N.w3&&!(N.wk&&N.wk<312)&&e&&r&&i&&s&&o?($(r,!1),L(function(){i+="",s+="";var p={};if(l&&typeof l===n)for(var d in l)p[d]=l[d];p.data=e,p.width=i,p.height=s;var v={};if(f&&typeof f===n)for(var m in f)v[m]=f[m];if(a&&typeof a===n)for(var g in a)typeof v.flashvars!=t?v.flashvars+="&"+g+"="+a[g]:v.flashvars=g+"="+a[g];if(X(o)){var y=F(p,v,r);p.id==r&&$(r,!0),h.success=!0,h.ref=y}else{if(u&&P()){p.data=u,H(p,v,r,c);return}$(r,!0)}c&&c(h)})):c&&c(h)},switchOffAutoHideShow:function(){T=!1},ua:N,getFlashPlayerVersion:function(){return{major:N.pv[0],minor:N.pv[1],release:N.pv[2]}},hasFlashPlayerVersion:X,createSWF:function(e,t,n){return N.w3?F(e,t,n):undefined},showExpressInstall:function(e,t,n,r){N.w3&&P()&&H(e,t,n,r)},removeSWF:function(e){N.w3&&q(e)},createCSS:function(e,t,n,r){N.w3&&V(e,t,n,r)},addDomLoadEvent:L,addLoadEvent:A,getQueryParamValue:function(e){var t=f.location.search||f.location.hash;if(t){/\?/.test(t)&&(t=t.split("?")[1]);if(e==null)return J(t);var n=t.split("&");for(var r=0;r<n.length;r++)if(n[r].substring(0,n[r].indexOf("="))==e)return J(n[r].substring(n[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if(E){var e=U(o);e&&m&&(e.parentNode.replaceChild(m,e),g&&($(g,!0),N.ie&&N.win&&(m.style.display="block")),y&&y(b)),E=!1}}}}();(function(t){t.fn.rdio=function(r){var i=t(this),s=i.data("rdio");if(s!=undefined)return s;var o="rdio_swf_"+Math.floor(Math.random()*1e4);t("<div></div>").attr("id",o).prependTo(i);var u=o+"_cb",a={};a.ready=function(e){i.trigger("ready.rdio",[e])},a.playStateChanged=function(e){i.trigger("playStateChanged.rdio",[e])},a.playingTrackChanged=function(e,t){i.trigger("playingTrackChanged.rdio",[e,t])},a.playingSourceChanged=function(e){i.trigger("playingSourceChanged.rdio",[e])},a.volumeChanged=function(e){i.trigger("volumeChanged.rdio",[e])},a.muteChanged=function(e){i.trigger("muteChanged.rdio",[e])},a.positionChanged=function(e){i.trigger("positionChanged.rdio",[e])},a.queueChanged=function(e){i.trigger("queueChanged.rdio",[e])},a.shuffleChanged=function(e){i.trigger("shuffleChanged.rdio",[e])},a.repeatChanged=function(e){i.trigger("repeatChanged.rdio",[e])},a.updateFrequencyData=function(e){i.trigger("updateFrequencyData.rdio",[e])},a.playingSomewhereElse=function(){i.trigger("playingSomewhereElse.rdio")},a.freeRemainingChanged=function(e){i.trigger("freeRemainingChanged.rdio",[frequencyData])},window[u]=a;var f={playbackToken:r,domain:document.domain,listener:u},l={allowScriptAccess:"always"},c={},h={embed:null};return e.embedSWF("http://www.rdio.com/api/swf/",o,1,1,"9.0.0","",f,l,c,function(e){h.embed=t("#"+o).get(0)}),h.play=function(e,t){this.embed.rdio_play(e,t)},h.pause=function(){this.embed.rdio_pause()},h.stop=function(){this.embed.rdio_stop()},h.next=function(e){this.embed.rdio_next(e)},h.previous=function(){this.embed.rdio_previous()},h.seek=function(e){this.embed.rdio_seek(e)},h.setShuffle=function(e){this.embed.rdio_setShuffle(e)},h.setRepeat=function(e){this.embed.rdio_setRepeat(e)},h.queue=function(e,t){this.embed.rdio_queue(e,t)},h.setVolume=function(e){this.embed.rdio_setVolume(e)},h.setMute=function(e){this.embed.rdio_setMute(e)},h.playQueuedTrack=function(e,t){this.embed.rdio_playQueuedTrack(e,t)},h.moveQueuedSource=function(e,t){this.embed.rdio_moveQueuedSource(e,t)},h.clearQueue=function(){this.embed.rdio_clearQueue()},h.setCurrentPosition=function(e){this.embed.rdio_setCurrentPosition(e)},h.removeFromQueue=function(e){this.embed.rdio_removeFromQueue(e)},h.sendState=function(){this.embed.rdio_sendState()},h.startFrequencyAnalyzer=function(e){this.embed.rdio_startFrequencyAnalyzer(e)},h.stopFrequencyAnalyzer=function(){this.embed.rdio_stopFrequencyAnalyzer()},i.data("rdio",h),h}})(jQuery)}(),!function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t)if(e.style[n]!==undefined)return t[n]}();return e&&{end:e}}()})}(window.jQuery),!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function s(){i.trigger("closed").remove()}var n=e(this),r=n.attr("data-target"),i;r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),i=e(r),t&&t.preventDefault(),i.length||(i=n.hasClass("alert")?n:n.parent()),i.trigger(t=e.Event("close"));if(t.isDefaultPrevented())return;i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,s):s()};var r=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("alert");i||r.data("alert",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n);if(this.isShown||n.isDefaultPrevented())return;this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")})},hide:function(t){t&&t.preventDefault();var n=this;t=e.Event("hide"),this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]!==e.target&&!t.$element.has(e.target).length&&t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){t.which==27&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(e){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.$backdrop.click(this.options.backdrop=="static"?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(this.removeBackdrop,this)):this.removeBackdrop()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),s=e.extend({},e.fn.modal.defaults,r.data(),typeof n=="object"&&n);i||r.data("modal",i=new t(this,s)),typeof n=="string"?i[n]():s.show&&i.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault(),i.modal(s).one("hide",function(){n.focus()})})}(window.jQuery),!function(e){"use strict";function r(){e(t).each(function(){i(e(this)).removeClass("open")})}function i(t){var n=t.attr("data-target"),r;return n||(n=t.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),r=e(n),r.length||(r=t.parent()),r}var t="[data-toggle=dropdown]",n=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(t){var n=e(this),s,o;if(n.is(".disabled, :disabled"))return;return s=i(n),o=s.hasClass("open"),r(),o||s.toggleClass("open"),n.focus(),!1},keydown:function(t){var n,r,s,o,u,a;if(!/(38|40|27)/.test(t.keyCode))return;n=e(this),t.preventDefault(),t.stopPropagation();if(n.is(".disabled, :disabled"))return;o=i(n),u=o.hasClass("open");if(!u||u&&t.keyCode==27)return n.click();r=e("[role=menu] li:not(.divider):visible a",o);if(!r.length)return;a=r.index(r.filter(":focus")),t.keyCode==38&&a>0&&a--,t.keyCode==40&&a<r.length-1&&a++,~a||(a=0),r.eq(a).focus()}};var s=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var r=e(this),i=r.data("dropdown");i||r.data("dropdown",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.dropdown.Constructor=n,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.dropdown.data-api touchstart.dropdown.data-api",r).on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("touchstart.dropdown.data-api",".dropdown-menu",function(e){e.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",t,n.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",t+", [role=menu]",n.prototype.keydown)}(window.jQuery),!function(e){"use strict";function t(t,n){var r=e.proxy(this.process,this),i=e(t).is("body")?e(window):e(t),s;this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=i.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(s=e(t).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t=this,n;this.offsets=e([]),this.targets=e([]),n=this.$body.find(this.selector).map(function(){var n=e(this),r=n.data("target")||n.attr("href"),i=/^#\w/.test(r)&&e(r);return i&&i.length&&[[i.position().top+t.$scrollElement.scrollTop(),r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},process:function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;if(e>=n)return s!=(o=i.last()[0])&&this.activate(o);for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])},activate:function(t){var n,r;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(r).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("scrollspy"),s=typeof n=="object"&&n;i||r.data("scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.attr("data-target"),i,s,o;r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;i=n.find(".active:last a")[0],o=e.Event("show",{relatedTarget:i}),t.trigger(o);if(o.isDefaultPrevented())return;s=e(r),this.activate(t.parent("li"),n),this.activate(s,s.parent(),function(){t.trigger({type:"shown",relatedTarget:i})})},activate:function(t,n,r){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var i=n.find("> .active"),s=r&&e.support.transition&&i.hasClass("fade");s?i.one(e.support.transition.end,o):o(),i.removeClass("in")}};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("tab");i||r.data("tab",i=new t(this)),typeof n=="string"&&i[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s;this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,this.options.trigger=="click"?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):this.options.trigger!="manual"&&(i=this.options.trigger=="hover"?"mouseenter":"focus",s=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,t,this.$element.data()),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(!n.options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},show:function(){var e,t,n,r,i,s,o;if(this.hasContent()&&this.enabled){e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),s=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(s),e.detach().css({top:0,left:0,display:"block"}).insertAfter(this.$element),n=this.getPosition(t),r=e[0].offsetWidth,i=e[0].offsetHeight;switch(t?s.split(" ")[1]:s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}e.offset(o).addClass(s).addClass("in")}},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function r(){var t=setTimeout(function(){n.off(e.support.transition.end).detach()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.detach()})}var t=this,n=this.tip();return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?r():n.detach(),this},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);n[n.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;i||r.data("tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-content")||(typeof n.content=="function"?n.content.call(t[0]):n.content),e},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("popover"),s=typeof n=="object"&&n;i||r.data("popover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"></div></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout(function(){e=="loadingText"?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("button"),s=typeof n=="object"&&n;i||r.data("button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,r,i;if(this.transitioning)return;t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),r=this.$parent&&this.$parent.find("> .accordion-group > .in");if(r&&r.length){i=r.data("collapse");if(i&&i.transitioning)return;r.collapse("hide"),i||r.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])},hide:function(){var t;if(this.transitioning)return;t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0)},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[e!==null?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,r){var i=this,s=function(){n.type=="show"&&i.reset(),i.transitioning=0,i.$element.trigger(r)};this.$element.trigger(n);if(n.isDefaultPrevented())return;this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("collapse"),s=typeof n=="object"&&n;i||r.data("collapse",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n=e(this),r,i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i).data("collapse")?"toggle":n.data();n[e(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(i).collapse(s)})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=n,this.options.pause=="hover"&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},to:function(t){var n=this.$element.find(".item.active"),r=n.parent().children(),i=r.index(n),s=this;if(t>r.length-1||t<0)return;return this.sliding?this.$element.one("slid",function(){s.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",e(r[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o=t=="next"?"left":"right",u=t=="next"?"first":"last",a=this,f;this.sliding=!0,s&&this.pause(),i=i.length?i:this.$element.find(".item")[u](),f=e.Event("slide"
,{relatedTarget:i[0]});if(i.hasClass("active"))return;if(e.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(f);if(f.isDefaultPrevented())return;i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),this.$element.one(e.support.transition.end,function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger("slid")},0)})}else{this.$element.trigger(f);if(f.isDefaultPrevented())return;r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("carousel"),s=e.extend({},e.fn.carousel.defaults,typeof n=="object"&&n),o=typeof n=="string"?n:s.slide;i||r.data("carousel",i=new t(this,s)),typeof n=="number"?i.to(n):o?i[o]():s.interval&&i.cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.carousel.data-api","[data-slide]",function(t){var n=e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=e.extend({},i.data(),n.data());i.carousel(s),t.preventDefault()})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var t=[],n=[],r=[],i;while(i=e.shift())i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?n.push(i):r.push(i):t.push(i);return t.concat(n,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,r){return t=e(n.options.item).attr("data-value",r),t.find("a").html(n.highlighter(r)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();r.length||(r=e(this.$menu.find("li")[0])),r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t=typeof this.$element[e]=="function"),t},move:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){if(this.suppressKeyPressRepeat)return;this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},blur:function(e){var t=this;setTimeout(function(){t.hide()},150)},click:function(e){e.stopPropagation(),e.preventDefault(),this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each(function(){var r=e(this),i=r.data("typeahead"),s=typeof n=="object"&&n;i||r.data("typeahead",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);if(n.data("typeahead"))return;t.preventDefault(),n.typeahead(n.data())})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var t=e(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),i=this.options.offset,s=i.bottom,o=i.top,u="affix affix-top affix-bottom",a;typeof i!="object"&&(s=o=i),typeof o=="function"&&(o=i.top()),typeof s=="function"&&(s=i.bottom()),a=this.unpin!=null&&n+this.unpin<=r.top?!1:s!=null&&r.top+this.$element.height()>=t-s?"bottom":o!=null&&n<=o?"top":!1;if(this.affixed===a)return;this.affixed=a,this.unpin=a=="bottom"?r.top-n:null,this.$element.removeClass(u).addClass("affix"+(a?"-"+a:""))};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("affix"),s=typeof n=="object"&&n;i||r.data("affix",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){if(e instanceof x)return e;if(!(this instanceof x))return new x(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.4.3";var T=x.each=x.forEach=function(e,t,r){if(e==null)return;if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(r,e[i],i,e)===n)return}else for(var o in e)if(x.has(e,o)&&t.call(r,e[o],o,e)===n)return};x.map=x.collect=function(e,t,n){var r=[];return e==null?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},x.filter=x.select=function(e,t,n){var r=[];return e==null?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return e==null?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return e==null?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};x.contains=x.include=function(e,t){return e==null?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2);return x.map(e,function(e){return(x.isFunction(t)?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.where=function(e,t){return x.isEmpty(t)?[]:x.filter(e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-Infinity;var r={computed:-Infinity,value:-Infinity};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return Infinity;var r={computed:Infinity,value:Infinity};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})}),r.value},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r};var k=function(e){return x.isFunction(e)?e:function(t){return t[e]}};x.sortBy=function(e,t,n){var r=k(t);return x.pluck(x.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index<t.index?-1:1}),"value")};var L=function(e,t,n,r){var i={},s=k(t||x.identity);return T(e,function(t,o){var u=s.call(n,t,o,e);r(i,u,t)}),i};x.groupBy=function(e,t,n){return L(e,t,n,function(e,t,n){(x.has(e,t)?e[t]:e[t]=[]).push(n)})},x.countBy=function(e,t,n){return L(e,t,n,function(e,t){x.has(e,t)||(e[t]=0),e[t]++})},x.sortedIndex=function(e,t,n,r){n=n==null?x.identity:k(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return e==null?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return e==null?void 0:t!=null&&!n?u.call(e,0,t):e[0]},x.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))},x.last=function(e,t,n){return e==null?void 0:t!=null&&!n?u.call(e,Math.max(e.length-t,0)):e[e.length-1]},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,t==null||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return T(e,function(e){x.isArray(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){if(t?!r||o[o.length-1]!==n:!x.contains(o,n))o.push(n),s.push(e[r])}),s},x.union=function(){return x.uniq(a.apply(r,arguments))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){var e=u.call(arguments),t=x.max(x.pluck(e,"length")),n=new Array(t);for(var r=0;r<t;r++)n[r]=x.pluck(e,""+r);return n},x.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var O=function(){};x.bind=function(e,t){var n,r;if(e.bind===S&&S)return S.apply(e,u.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return n=u.call(arguments,2),r=function(){if(this instanceof r){O.prototype=e.prototype;var i=new O;O.prototype=null;var s=e.apply(i,n.concat(u.call(arguments)));return Object(s)===s?s:i}return e.apply(t,n.concat(u.call(arguments)))}},x.bindAll=function(e){var t=u.call(arguments,1);return t.length==0&&(t=x.functions(e)),T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t){var n,r,i,s,o=0,u=function(){o=new Date,i=null,s=e.apply(n,r)};return function(){var a=new Date,f=t-(a-o);return n=this,r=arguments,f<=0?(clearTimeout(i),i=null,o=a,s=e.apply(n,r)):i||(i=setTimeout(u,f)),s}},x.debounce=function(e,t,n){var r,i;return function(){var s=this,o=arguments,u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r;return clearTimeout(r),r=setTimeout(u,t),a&&(i=e.apply(s,o)),i}},x.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},x.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},x.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return e<=0?t():function(){if(--e<1)return t.apply(this,arguments)}},x.keys=E||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)x.has(e,n)&&(t[t.length]=n);return t},x.values=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push(e[n]);return t},x.pairs=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push([n,e[n]]);return t},x.invert=function(e){var t={};for(var n in e)x.has(e,n)&&(t[e[n]]=n);return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]==null&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var M=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;n.push(e),r.push(t);var o=0,u=!0;if(i=="[object Array]"){o=e.length,u=o==t.length;if(u)while(o--)if(!(u=M(e[o],t[o],n,r)))break}else{var a=e.constructor,l=t.constructor;if(a!==l&&!(x.isFunction(a)&&a instanceof a&&x.isFunction(l)&&l instanceof l))return!1;for(var c in e)if(x.has(e,c)){o++;if(!(u=x.has(t,c)&&M(e[c],t[c],n,r)))break}if(u){for(c in t)if(x.has(t,c)&&!(o--))break;u=!o}}return n.pop(),r.pop(),u};x.isEqual=function(e,t){return M(e,t,[],[])},x.isEmpty=function(e){if(e==null)return!0;if(x.isArray(e)||x.isString(e))return e.length===0;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&e.nodeType===1},x.isArray=w||function(e){return f.call(e)=="[object Array]"},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),typeof /./!="function"&&(x.isFunction=function(e){return typeof e=="function"}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||f.call(e)=="[object Boolean]"},x.isNull=function(e){return e===null},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.times=function(e,t,n){var r=Array(e);for(var i=0;i<e;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return t==null&&(t=e,e=0),e+(0|Math.random()*(t-e+1))};var _={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};_.unescape=x.invert(_.escape);var D={escape:new RegExp("["+x.keys(_.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(_.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return t==null?"":(""+t).replace(D[e],function(t){return _[e][t]})}}),x.result=function(e,t){if(e==null)return null;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,n.apply(x,e))}})};var P=0;x.uniqueId=function(e){var t=""+ ++P;return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){n=x.defaults({},n,x.templateSettings);var r=new RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(r,function(t,n,r,o,u){return s+=e.slice(i,u).replace(j,function(e){return"\\"+B[e]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(s+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),o&&(s+="';\n"+o+"\n__p+='"),i=u+t.length,t}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(n.variable||"obj","_",s)}catch(u){throw u.source=s,u}if(t)return o(t,x);var a=function(e){return o.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+s+"}",a},x.chain=function(e){return x(e).chain()};var F=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],F.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){var e=this,t=e.Backbone,n=[],r=n.push,i=n.slice,s=n.splice,o;typeof exports!="undefined"?o=exports:o=e.Backbone={},o.VERSION="0.9.10";var u=e._;!u&&typeof require!="undefined"&&(u=require("underscore")),o.$=e.jQuery||e.Zepto||e.ender,o.noConflict=function(){return e.Backbone=t,this},o.emulateHTTP=!1,o.emulateJSON=!1;var a=/\s+/,f=function(e,t,n,r){if(!n)return!0;if(typeof n=="object")for(var i in n)e[t].apply(e,[i,n[i]].concat(r));else{if(!a.test(n))return!0;var s=n.split(a);for(var o=0,u=s.length;o<u;o++)e[t].apply(e,[s[o]].concat(r))}},l=function(e,t){var n,r=-1,i=e.length;switch(t.length){case 0:while(++r<i)(n=e[r]).callback.call(n.ctx);return;case 1:while(++r<i)(n=e[r]).callback.call(n.ctx,t[0]);return;case 2:while(++r<i)(n=e[r]).callback.call(n.ctx,t[0],t[1]);return;case 3:while(++r<i)(n=e[r]).callback.call(n.ctx,t[0],t[1],t[2]);return;default:while(++r<i)(n=e[r]).callback.apply(n.ctx,t)}},c=o.Events={on:function(e,t,n){if(!f(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!f(this,"once",e,[t,n])||!t)return this;var r=this,i=u.once(function(){r.off(e,i),t.apply(this,arguments)});return i._callback=t,this.on(e,i,n),this},off:function(e,t,n){var r,i,s,o,a,l,c,h;if(!this._events||!f(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;o=e?[e]:u.keys(this._events);for(a=0,l=o.length;a<l;a++){e=o[a];if(r=this._events[e]){s=[];if(t||n)for(c=0,h=r.length;c<h;c++)i=r[c],(t&&t!==i.callback&&t!==i.callback._callback||n&&n!==i.context)&&s.push(i);this._events[e]=s}}return this},trigger:function(e){if(!this._events)return this;var t=i.call(arguments,1);if(!f(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&l(n,t),r&&l(r,arguments),this},listenTo:function(e,t,n){var r=this._listeners||(this._listeners={}),i=e._listenerId||(e._listenerId=u.uniqueId("l"));return r[i]=e,e.on(t,typeof t=="object"?this:n,this),this},stopListening:function(e,t,n){var r=this._listeners;if(!r)return;if(e)e.off(t,typeof t=="object"?this:n,this),!t&&!n&&delete r[e._listenerId];else{typeof t=="object"&&(n=this);for(var i in r)r[i].off(t,n,this);this._listeners={}}return this}};c.bind=c.on,c.unbind=c.off,u.extend(o,c);var h=o.Model=function(e,t){var n,r=e||{};this.cid=u.uniqueId("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(r=this.parse(r,t)||{});if(n=u.result(this,"defaults"))r=u.defaults({},r,n);this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};u.extend(h.prototype,c,{changed:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return u.clone(this.attributes)},sync:function(){return o.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return u.escape(this.get(e))},has:function(e){return this.get(e)!=null},set:function(e,t,n){var r,i,s,o,a,f,l,c;if(e==null)return this;typeof e=="object"?(i=e,n=t):(i={})[e]=t,n||(n={});if(!this._validate(i,n))return!1;s=n.unset,a=n.silent,o=[],f=this._changing,this._changing=!0,f||(this._previousAttributes=u.clone(this.attributes),this.changed={}),c=this.attributes,l=this._previousAttributes,this.idAttribute in i&&(this.id=i[this.idAttribute]);for(r in i)t=i[r],u.isEqual(c[r],t)||o.push(r),u.isEqual(l[r],t)?delete this.changed[r]:this.changed[r]=t,s?delete c[r]:c[r]=t;if(!a){o.length&&(this._pending=!0);for(var h=0,p=o.length;h<p;h++)this.trigger("change:"+o[h],this,c[o[h]],n)}if(f)return this;if(!a)while(this._pending)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,u.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,u.extend({},e,{unset:!0}))},hasChanged:function(e){return e==null?!u.isEmpty(this.changed):u.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?u.clone(this.changed):!1;var t,n=!1,r=this._changing?this._previousAttributes:this.attributes;for(var i in e){if(u.isEqual(r[i],t=e[i]))continue;(n||(n={}))[i]=t}return n},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return u.clone(this._previousAttributes)},fetch:function(e){e=e?u.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=e.success;return e.success=function(e,n,r){if(!e.set(e.parse(n,r),r))return!1;t&&t(e,n,r)},this.sync("read",this,e)},save:function(e,t,n){var r,i,s,o,a=this.attributes;return e==null||typeof e=="object"?(r=e,n=t):(r={})[e]=t,r&&(!n||!n.wait)&&!this.set(r,n)?!1:(n=u.extend({validate:!0},n),this._validate(r,n)?(r&&n.wait&&(this.attributes=u.extend({},a,r)),n.parse===void 0&&(n.parse=!0),i=n.success,n.success=function(e,t,n){e.attributes=a;var s=e.parse(t,n);n.wait&&(s=u.extend(r||{},s));if(u.isObject(s)&&!e.set(s,n))return!1;i&&i(e,t,n)},s=this.isNew()?"create":n.patch?"patch":"update",s==="patch"&&(n.attrs=r),o=this.sync(s,this,n),r&&n.wait&&(this.attributes=a),o):!1)},destroy:function(e){e=e?u.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(e,t,i){(i.wait||e.isNew())&&r(),n&&n(e,t,i)};if(this.isNew())return e.success(this,null,e),!1;var i=this.sync("delete",this,e);return e.wait||r(),i},url:function(){var e=u.result(this,"urlRoot")||u.result(this.collection,"url")||M();return this.isNew()?e:e+(e.charAt(e.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(e){return!this.validate||!this.validate(this.attributes,e)},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=u.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,t||{}),!1):!0}});var p=o.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this.models=[],this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,u.extend({silent:!0},t))};u.extend(p.prototype,c,{model:h,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return o.sync.apply(this,arguments)},add:function(e,t){e=u.isArray(e)?e.slice():[e],t||(t={});var n,i,o,a,f,l,c,h,p,d;c=[],h=t.at,p=this.comparator&&h==null&&t.sort!=0,d=u.isString(this.comparator)?this.comparator:null;for(n=0,i=e.length;n<i;n++){if(!(o=this._prepareModel(a=e[n],t))){this.trigger("invalid",this,a,t);continue}if(f=this.get(o)){t.merge&&(f.set(a===o?o.attributes:a,t),p&&!l&&f.hasChanged(d)&&(l=!0));continue}c.push(o),o.on("all",this._onModelEvent,this),this._byId[o.cid]=o,o.id!=null&&(this._byId[o.id]=o)}c.length&&(p&&(l=!0),this.length+=c.length,h!=null?s.apply(this.models,[h,0].concat(c)):r.apply(this.models,c)),l&&this.sort({silent:!0});if(t.silent)return this;for(n=0,i=c.length;n<i;n++)(o=c[n]).trigger("add",o,this,t);return l&&this.trigger("sort",this,t),this},remove:function(e,t){e=u.isArray(e)?e.slice():[e],t||(t={});var n,r,i,s;for(n=0,r=e.length;n<r;n++){s=this.get(e[n]);if(!s)continue;delete this._byId[s.id],delete this._byId[s.cid],i=this.indexOf(s),this.models.splice(i,1),this.length--,t.silent||(t.index=i,s.trigger("remove",s,this,t)),this._removeReference(s)}return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,u.extend({at:this.length},t)),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,u.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){return e==null?void 0:(this._idAttr||(this._idAttr=this.model.prototype.idAttribute),this._byId[e.id||e.cid||e[this._idAttr]||e])},at:function(e){return this.models[e]},where:function(e){return u.isEmpty(e)?[]:this.filter(function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),u.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(u.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return u.invoke(this.models,"get",e)},update:function(e,t){t=u.extend({add:!0,merge:!0,remove:!0},t),t.parse&&(e=this.parse(e,t));var n,r,i,s,o=[],a=[],f={};u.isArray(e)||(e=e?[e]:[]);if(t.add&&!t.remove)return this.add(e,t);for(r=0,i=e.length;r<i;r++)n=e[r],s=this.get(n),t.remove&&s&&(f[s.cid]=!0),(t.add&&!s||t.merge&&s)&&o.push(n);if(t.remove)for(r=0,i=this.models.length;r<i;r++)n=this.models[r],f[n.cid]||a.push(n);return a.length&&this.remove(a,t),o.length&&this.add(o,t),this},reset:function(e,t){t||(t={}),t.parse&&(e=this.parse(e,t));for(var n=0,r=this.models.length;n<r;n++)this._removeReference(this.models[n]);return t.previousModels=this.models.slice(),this._reset(),e&&this.add(e,u.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},fetch:function(e){e=e?u.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=e.success;return e.success=function(e,n,r){var i=r.update?"update":"reset";e[i](n,r),t&&t(e,n,r)},this.sync("read",this,e)},create:function(e,t){t=t?u.clone(t):{};if(!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,r=t.success;return t.success=function(e,t,i){i.wait&&n.add(e,i),r&&r(e,t,i)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models.length=0,this._byId={}},_prepareModel:function(e,t){if(e instanceof h)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var n=new this.model(e,t);return n._validate(e,t)?n:!1},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e==="add"||e==="remove")&&n!==this)return;e==="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],t.id!=null&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments)},sortedIndex:function(e,t,n){t||(t=this.comparator);var r=u.isFunction(t)?t:function(e){return e.get(t)};return u.sortedIndex(this.models,e,r,n)}});var d=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];u.each(d,function(e){p.prototype[e]=function(){var t=i.call(arguments);return t.unshift(this.models),u[e].apply(u,t)}});var v=["groupBy","countBy","sortBy"];u.each(v,function(e){p.prototype[e]=function(t,n){var r=u.isFunction(t)?t:function(e){return e.get(t)};return u[e](this.models,r,n)}});var m=o.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},g=/\((.*?)\)/g,y=/(\(\?)?:\w+/g,b=/\*\w+/g,w=/[\-{}\[\]+?.,\\\^$|#\s]/g;u.extend(m.prototype,c,{initialize:function(){},route:function(e,t,n){return u.isRegExp(e)||(e=this._routeToRegExp(e)),n||(n=this[t]),o.history.route(e,u.bind(function(r){var i=this._extractParameters(e,r);n&&n.apply(this,i),this.trigger.apply(this,["route:"+t].concat(i)),this.trigger("route",t,i),o.history.trigger("route",this,t,i)},this)),this},navigate:function(e,t){return o.history.navigate(e,t),this},_bindRoutes:function(){if(!this.routes)return;var e,t=u.keys(this.routes);while((e=t.pop())!=null)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(w,"\\$&").replace(g,"(?:$1)?").replace(y,function(e,t){return t?e:"([^/]+)"}).replace(b,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var E=o.History=function(){this.handlers=[],u.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location
,this.history=window.history)},S=/^[#\/]|\s+$/g,x=/^\/+|\/+$/g,T=/msie [\w.]+/,N=/\/$/;E.started=!1,u.extend(E.prototype,c,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(N,"");e.indexOf(n)||(e=e.substr(n.length))}else e=this.getHash();return e.replace(S,"")},start:function(e){if(E.started)throw new Error("Backbone.history has already been started");E.started=!0,this.options=u.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var t=this.getFragment(),n=document.documentMode,r=T.exec(navigator.userAgent.toLowerCase())&&(!n||n<=7);this.root=("/"+this.root+"/").replace(x,"/"),r&&this._wantsHashChange&&(this.iframe=o.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?o.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?o.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var i=this.location,s=i.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!s)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&s&&i.hash&&(this.fragment=this.getHash().replace(S,""),this.history.replaceState({},document.title,this.root+this.fragment+i.search));if(!this.options.silent)return this.loadUrl()},stop:function(){o.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),E.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=u.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0});return n},navigate:function(e,t){if(!E.started)return!1;if(!t||t===!0)t={trigger:t};e=this.getFragment(e||"");if(this.fragment===e)return;this.fragment=e;var n=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),o.history=new E;var C=o.View=function(e){this.cid=u.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},k=/^(\S+)\s*(.*)$/,L=["model","collection","el","id","attributes","className","tagName","events"];u.extend(C.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof o.$?e:o.$(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=u.result(this,"events")))return;this.undelegateEvents();for(var t in e){var n=e[t];u.isFunction(n)||(n=this[e[t]]);if(!n)throw new Error('Method "'+e[t]+'" does not exist');var r=t.match(k),i=r[1],s=r[2];n=u.bind(n,this),i+=".delegateEvents"+this.cid,s===""?this.$el.on(i,n):this.$el.on(i,s,n)}},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=u.extend({},u.result(this,"options"),e)),u.extend(this,u.pick(e,L)),this.options=e},_ensureElement:function(){if(!this.el){var e=u.extend({},u.result(this,"attributes"));this.id&&(e.id=u.result(this,"id")),this.className&&(e["class"]=u.result(this,"className"));var t=o.$("<"+u.result(this,"tagName")+">").attr(e);this.setElement(t,!1)}else this.setElement(u.result(this,"el"),!1)}});var A={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};o.sync=function(e,t,n){var r=A[e];u.defaults(n||(n={}),{emulateHTTP:o.emulateHTTP,emulateJSON:o.emulateJSON});var i={type:r,dataType:"json"};n.url||(i.url=u.result(t,"url")||M()),n.data==null&&t&&(e==="create"||e==="update"||e==="patch")&&(i.contentType="application/json",i.data=JSON.stringify(n.attrs||t.toJSON(n))),n.emulateJSON&&(i.contentType="application/x-www-form-urlencoded",i.data=i.data?{model:i.data}:{});if(n.emulateHTTP&&(r==="PUT"||r==="DELETE"||r==="PATCH")){i.type="POST",n.emulateJSON&&(i.data._method=r);var s=n.beforeSend;n.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",r);if(s)return s.apply(this,arguments)}}i.type!=="GET"&&!n.emulateJSON&&(i.processData=!1);var a=n.success;n.success=function(e){a&&a(t,e,n),t.trigger("sync",t,e,n)};var f=n.error;n.error=function(e){f&&f(t,e,n),t.trigger("error",t,e,n)};var l=n.xhr=o.ajax(u.extend(i,n));return t.trigger("request",t,l,n),l},o.ajax=function(){return o.$.ajax.apply(o.$,arguments)};var O=function(e,t){var n=this,r;e&&u.has(e,"constructor")?r=e.constructor:r=function(){return n.apply(this,arguments)},u.extend(r,n,t);var i=function(){this.constructor=r};return i.prototype=n.prototype,r.prototype=new i,e&&u.extend(r.prototype,e),r.__super__=n.prototype,r};h.extend=p.extend=m.extend=C.extend=E.extend=O;var M=function(){throw new Error('A "url" property or function must be specified')}}.call(this),function(){function l(e){return e.target}function c(e){return e.source}function h(e,t){try{for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}catch(r){e.prototype=t}}function d(e){var t=-1,n=e.length,r=[];while(++t<n)r.push(e[t]);return r}function v(e){return Array.prototype.slice.call(e)}function y(){}function E(e){return e}function S(){return!0}function x(e){return typeof e=="function"?e:function(){return e}}function T(e,t,n){return function(){var r=n.apply(t,arguments);return arguments.length?e:r}}function N(e){return e!=null&&!isNaN(e)}function C(e){return e.length}function L(e){return e.trim().replace(/\s+/g," ")}function A(e){var t=1;while(e*t%1)t*=10;return t}function M(e){return e.length===1?function(t,n){e(t==null?n:null)}:e}function _(e){return e.responseText}function D(e){return JSON.parse(e.responseText)}function P(e){var t=document.createRange();return t.selectNode(document.body),t.createContextualFragment(e.responseText)}function H(e){return e.responseXML}function j(){}function F(e){function r(){var n=t,r=-1,i=n.length,s;while(++r<i)(s=n[r].on)&&s.apply(this,arguments);return e}var t=[],n=new y;return r.on=function(r,i){var s=n.get(r),o;return arguments.length<2?s&&s.on:(s&&(s.on=null,t=t.slice(0,o=t.indexOf(s)).concat(t.slice(o+1)),n.remove(r)),i&&t.push(n.set(r,{on:i})),e)},r}function R(e,t){return t-(e?1+Math.floor(Math.log(e+Math.pow(10,1+Math.floor(Math.log(e)/Math.LN10)-t))/Math.LN10):1)}function U(e){return e+""}function V(e,t){var n=Math.pow(10,Math.abs(8-t)*3);return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function Q(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function G(e){return function(t){return 1-e(1-t)}}function Y(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function Z(e){return e*e}function et(e){return e*e*e}function tt(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function nt(e){return function(t){return Math.pow(t,e)}}function rt(e){return 1-Math.cos(e*o/2)}function it(e){return Math.pow(2,10*(e-1))}function st(e){return 1-Math.sqrt(1-e*e)}function ot(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/(2*o)*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,10*-r)*Math.sin((r-n)*2*o/t)}}function ut(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function at(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function ft(){d3.event.stopPropagation(),d3.event.preventDefault()}function lt(){var e=d3.event,t;while(t=e.sourceEvent)e=t;return e}function ct(e){var t=new j,n=0,r=arguments.length;while(++n<r)t[arguments[n]]=F(t);return t.of=function(n,r){return function(i){try{var s=i.sourceEvent=d3.event;i.target=e,d3.event=i,t[i.type].apply(n,r)}finally{d3.event=s}}},t}function ht(e){var t=[e.a,e.b],n=[e.c,e.d],r=dt(t),i=pt(t,n),s=dt(vt(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*f,this.translate=[e.e,e.f],this.scale=[r,s],this.skew=s?Math.atan2(i,s)*f:0}function pt(e,t){return e[0]*t[0]+e[1]*t[1]}function dt(e){var t=Math.sqrt(pt(e,e));return t&&(e[0]/=t,e[1]/=t),t}function vt(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function yt(e){return e=="transform"?d3.interpolateTransform:d3.interpolate}function bt(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return(n-e)*t}}function wt(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return Math.max(0,Math.min(1,(n-e)*t))}}function Et(){}function St(e,t,n){return new xt(e,t,n)}function xt(e,t,n){this.r=e,this.g=t,this.b=n}function Nt(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function Ct(e,t,n){var r=0,i=0,s=0,o,u,a;o=/([a-z]+)\((.*)\)/i.exec(e);if(o){u=o[2].split(",");switch(o[1]){case"hsl":return n(parseFloat(u[0]),parseFloat(u[1])/100,parseFloat(u[2])/100);case"rgb":return t(Ot(u[0]),Ot(u[1]),Ot(u[2]))}}return(a=Mt.get(e))?t(a.r,a.g,a.b):(e!=null&&e.charAt(0)==="#"&&(e.length===4?(r=e.charAt(1),r+=r,i=e.charAt(2),i+=i,s=e.charAt(3),s+=s):e.length===7&&(r=e.substring(1,3),i=e.substring(3,5),s=e.substring(5,7)),r=parseInt(r,16),i=parseInt(i,16),s=parseInt(s,16)),t(r,i,s))}function kt(e,t,n){var r=Math.min(e/=255,t/=255,n/=255),i=Math.max(e,t,n),s=i-r,o,u,a=(i+r)/2;return s?(u=a<.5?s/(i+r):s/(2-i-r),e==i?o=(t-n)/s+(t<n?6:0):t==i?o=(n-e)/s+2:o=(e-t)/s+4,o*=60):u=o=0,_t(o,u,a)}function Lt(e,t,n){e=At(e),t=At(t),n=At(n);var r=Qt((.4124564*e+.3575761*t+.1804375*n)/zt),i=Qt((.2126729*e+.7151522*t+.072175*n)/Wt),s=Qt((.0193339*e+.119192*t+.9503041*n)/Xt);return qt(116*i-16,500*(r-i),200*(i-s))}function At(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Ot(e){var t=parseFloat(e);return e.charAt(e.length-1)==="%"?Math.round(t*2.55):t}function _t(e,t,n){return new Dt(e,t,n)}function Dt(e,t,n){this.h=e,this.s=t,this.l=n}function Ht(e,t,n){function s(e){return e>360?e-=360:e<0&&(e+=360),e<60?r+(i-r)*e/60:e<180?i:e<240?r+(i-r)*(240-e)/60:r}function o(e){return Math.round(s(e)*255)}var r,i;return e%=360,e<0&&(e+=360),t=t<0?0:t>1?1:t,n=n<0?0:n>1?1:n,i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i,St(o(e+120),o(e),o(e-120))}function Bt(e,t,n){return new jt(e,t,n)}function jt(e,t,n){this.h=e,this.c=t,this.l=n}function It(e,t,n){return qt(n,Math.cos(e*=a)*t,Math.sin(e)*t)}function qt(e,t,n){return new Rt(e,t,n)}function Rt(e,t,n){this.l=e,this.a=t,this.b=n}function $t(e,t,n){var r=(e+16)/116,i=r+t/500,s=r-n/200;return i=Kt(i)*zt,r=Kt(r)*Wt,s=Kt(s)*Xt,St(Gt(3.2404542*i-1.5371385*r-.4985314*s),Gt(-0.969266*i+1.8760108*r+.041556*s),Gt(.0556434*i-.2040259*r+1.0572252*s))}function Jt(e,t,n){return Bt(Math.atan2(n,t)/o*180,Math.sqrt(t*t+n*n),e)}function Kt(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function Qt(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function Gt(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function Yt(e){return g(e,sn),e}function on(e){return function(){return Zt(e,this)}}function un(e){return function(){return en(e,this)}}function an(e,t){function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,t)}function s(){this.setAttributeNS(e.space,e.local,t)}function o(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}function u(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=d3.ns.qualify(e),t==null?e.local?r:n:typeof t=="function"?e.local?u:o:e.local?s:i}function fn(e){return new RegExp("(?:^|\\s+)"+d3.requote(e)+"(?:\\s+|$)","g")}function ln(e,t){function r(){var r=-1;while(++r<n)e[r](this,t)}function i(){var r=-1,i=t.apply(this,arguments);while(++r<n)e[r](this,i)}e=e.trim().split(/\s+/).map(cn);var n=e.length;return typeof t=="function"?i:r}function cn(e){var t=fn(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.className,s=i.baseVal!=null,o=s?i.baseVal:i;r?(t.lastIndex=0,t.test(o)||(o=L(o+" "+e),s?i.baseVal=o:n.className=o)):o&&(o=L(o.replace(t," ")),s?i.baseVal=o:n.className=o)}}function hn(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function s(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return t==null?r:typeof t=="function"?s:i}function pn(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}return t==null?n:typeof t=="function"?i:r}function dn(e){return{__data__:e}}function vn(e){return function(){return rn(this,e)}}function mn(e){return arguments.length||(e=d3.ascending),function(t,n){return e(t&&t.__data__,n&&n.__data__)}}function gn(e,t,n){function s(){var t=this[r];t&&(this.removeEventListener(e,t,t.$),delete this[r])}function o(){function u(e){var n=d3.event;d3.event=e,o[0]=i.__data__;try{t.apply(i,o)}finally{d3.event=n}}var i=this,o=p(arguments);s.call(this),this.addEventListener(e,this[r]=u,u.$=n),u._=t}var r="__on"+e,i=e.indexOf(".");return i>0&&(e=e.substring(0,i)),t?o:s}function yn(e,t){for(var n=0,r=e.length;n<r;n++)for(var i=e[n],s=0,o=i.length,u;s<o;s++)(u=i[s])&&t(u,s,n);return e}function wn(e){return g(e,En),e}function Sn(e,t){return g(e,xn),e.id=t,e}function kn(e,t,n,r){var i=e.__transition__||(e.__transition__={active:0,count:0}),s=i[n];if(!s){var o=r.time;return s=i[n]={tween:new y,event:d3.dispatch("start","end"),time:o,ease:r.ease,delay:r.delay,duration:r.duration},++i.count,d3.timer(function(r){function p(r){return i.active>n?v():(i.active=n,f.start.call(e,u,t),s.tween.forEach(function(n,r){(r=r.call(e,u,t))&&h.push(r)}),d(r)||d3.timer(d,0,o),1)}function d(r){if(i.active!==n)return v();var s=(r-l)/c,o=a(s),p=h.length;while(p>0)h[--p].call(e,o);if(s>=1)return v(),f.end.call(e,u,t),1}function v(){return--i.count?delete i[n]:delete e.__transition__,1}var u=e.__data__,a=s.ease,f=s.event,l=s.delay,c=s.duration,h=[];return l<=r?p(r):d3.timer(p,l,o),1},0,o),s}}function Ln(e){return e==null&&(e=""),function(){this.textContent=e}}function An(e,t,n,r){var i=e.id;return yn(e,typeof n=="function"?function(e,s,o){e.__transition__[i].tween.set(t,r(n.call(e,e.__data__,s,o)))}:(n=r(n),function(e){e.__transition__[i].tween.set(t,n)}))}function Hn(){var e,t=Date.now(),n=_n;while(n)e=t-n.then,e>=n.delay&&(n.flush=n.callback(e)),n=n.next;var r=Bn()-t;r>24?(isFinite(r)&&(clearTimeout(Pn),Pn=setTimeout(Hn,r)),Dn=0):(Dn=1,jn(Hn))}function Bn(){var e=null,t=_n,n=Infinity;while(t)t.flush?(delete Mn[t.callback.id],t=e?e.next=t.next:_n=t.next):(n=Math.min(n,t.then+t.delay),t=(e=t).next);return n}function In(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(Fn<0&&(window.scrollX||window.scrollY)){n=d3.select(document.body).append("svg").style("position","absolute").style("top",0).style("left",0);var i=n[0][0].getScreenCTM();Fn=!i.f&&!i.e,n.remove()}return Fn?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function qn(){}function Rn(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function Un(e){return e.rangeExtent?e.rangeExtent():Rn(e.range())}function zn(e,t){var n=0,r=e.length-1,i=e[n],s=e[r],o;s<i&&(o=n,n=r,r=o,o=i,i=s,s=o);if(t=t(s-i))e[n]=t.floor(i),e[r]=t.ceil(s);return e}function Wn(){return Math}function Xn(e,t,n,r){function o(){var o=Math.min(e.length,t.length)>2?Yn:Gn,a=r?wt:bt;return i=o(e,t,a,n),s=o(t,e,a,d3.interpolate),u}function u(e){return i(e)}var i,s;return u.invert=function(e){return s(e)},u.domain=function(t){return arguments.length?(e=t.map(Number),o()):e},u.range=function(e){return arguments.length?(t=e,o()):t},u.rangeRound=function(e){return u.range(e).interpolate(d3.interpolateRound)},u.clamp=function(e){return arguments.length?(r=e,o()):r},u.interpolate=function(e){return arguments.length?(n=e,o()):n},u.ticks=function(t){return Kn(e,t)},u.tickFormat=function(t){return Qn(e,t)},u.nice=function(){return zn(e,$n),o()},u.copy=function(){return Xn(e,t,n,r)},o()}function Vn(e,t){return d3.rebind(e,t,"range","rangeRound","interpolate","clamp")}function $n(e){return e=Math.pow(10,Math.round(Math.log(e)/Math.LN10)-1),e&&{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}}function Jn(e,t){var n=Rn(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),s=t/r*i;return s<=.15?i*=10:s<=.35?i*=5:s<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+i*.5,n[2]=i,n}function Kn(e,t){return d3.range.apply(d3,Jn(e,t))}function Qn(e,t){return d3.format(",."+Math.max(0,-Math.floor(Math.log(Jn(e,t)[2])/Math.LN10+.01))+"f")}function Gn(e,t,n,r){var i=n(e[0],e[1]),s=r(t[0],t[1]);return function(e){return s(i(e))}}function Yn(e,t,n,r){var i=[],s=[],o=0,u=Math.min(e.length,t.length)-1;e[u]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());while(++o<=u)i.push(n(e[o-1],e[o])),s.push(r(t[o-1],t[o]));return function(t){var n=d3.bisect(e,t,1,u)-1;return s[n](i[n](t))}}function Zn(e,t){function r(n){return e(t(n))}var n=t.pow;return r.invert=function(t){return n(e.invert(t))},r.domain=function(i){return arguments.length?(t=i[0]<0?nr:tr,n=t.pow,e.domain(i.map(t)),r):e.domain().map(n)},r.nice=function(){return e.domain(zn(e.domain(),Wn)),r},r.ticks=function(){var r=Rn(e.domain()),i=[];if(r.every(isFinite)){var s=Math.floor(r[0]),o=Math.ceil(r[1]),u=n(r[0]),a=n(r[1]);if(t===nr){i.push(n(s));for(;s++<o;)for(var f=9;f>0;f--)i.push(n(s)*f)}else{for(;s<o;s++)for(var f=1;f<10;f++)i.push(n(s)*f);i.push(n(s))}for(s=0;i[s]<u;s++);for(o=i.length;i[o-1]>a;o--);i=i.slice(s,o)}return i},r.tickFormat=function(e,i){arguments.length<2&&(i=er);if(!arguments.length)return i;var s=Math.max(.1,e/r.ticks().length),o=t===nr?(u=-1e-12,Math.floor):(u=1e-12,Math.ceil),u;return function(e){return e/n(o(t(e)+u))<=s?i(e):""}},r.copy=function(){return Zn(e.copy(),t)},Vn(r,e)}function tr(e){return Math.log(e<0?0:e)/Math.LN10}function nr(e){return-Math.log(e>0?0:-e)/Math.LN10}function rr(e,t){function i(t){return e(n(t))}var n=ir(t),r=ir(1/t);return i.invert=function(t){return r(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain(t.map(n)),i):e.domain().map(r)},i.ticks=function(e){return Kn(i.domain(),e)},i.tickFormat=function(e){return Qn(i.domain(),e)},i.nice=function(){return i.domain(zn(i.domain(),$n))},i.exponent=function(e){if(!arguments.length)return t;var s=i.domain();return n=ir(t=e),r=ir(1/t),i.domain(s)},i.copy=function(){return rr(e.copy(),t)},Vn(i,e)}function ir(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function sr(e,t){function s(t){return r[((n.get(t)||n.set(t,e.push(t)))-1)%r.length]}function o(t,n){return d3.range(e.length).map(function(e){return t+n*e})}var n,r,i;return s.domain=function(r){if(!arguments.length)return e;e=[],n=new y;var i=-1,o=r.length,u;while(++i<o)n.has(u=r[i])||n.set(u,e.push(u));return s[t.t].apply(s,t.a)},s.range=function(e){return arguments.length?(r=e,i=0,t={t:"range",a:arguments},s):r},s.rangePoints=function(n,u){arguments.length<2&&(u=0);var a=n[0],f=n[1],l=(f-a)/(Math.max(1,e.length-1)+u);return r=o(e.length<2?(a+f)/2:a+l*u/2,l),i=0,t={t:"rangePoints",a:arguments},s},s.rangeBands=function(n,u,a){arguments.length<2&&(u=0),arguments.length<3&&(a=u);var f=n[1]<n[0],l=n[f-0],c=n[1-f],h=(c-l)/(e.length-u+2*a);return r=o(l+h*a,h),f&&r.reverse(),i=h*(1-u),t={t:"rangeBands",a:arguments},s},s.rangeRoundBands=function(n,u,a){arguments.length<2&&(u=0),arguments.length<3&&(a=u);var f=n[1]<n[0],l=n[f-0],c=n[1-f],h=Math.floor((c-l)/(e.length-u+2*a)),p=c-l-(e.length-u)*h;return r=o(l+Math.round(p/2),h),f&&r.reverse(),i=Math.round(h*(1-u)),t={t:"rangeRoundBands",a:arguments},s},s.rangeBand=function(){return i},s.rangeExtent=function(){return Rn(t.a[0])},s.copy=function(){return sr(e,t)},s.domain(e)}function lr(e,t){function r(){var r=0,s=t.length;n=[];while(++r<s)n[r-1]=d3.quantile(e,r/s);return i}function i(e){return isNaN(e=+e)?NaN:t[d3.bisect(n,e)]}var n;return i.domain=function(t){return arguments.length?(e=t.filter(function(e){return!isNaN(e)}).sort(d3.ascending),r()):e},i.range=function(e){return arguments.length?(t=e,r()):t},i.quantiles=function(){return n},i.copy=function(){return lr(e,t)},r()}function cr(e,t,n){function s(t){return n[Math.max(0,Math.min(i,Math.floor(r*(t-e))))]}function o(){return r=n.length/(t-e),i=n.length-1,s}var r,i;return s.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],o()):[e,t]},s.range=function(e){return arguments.length?(n=e,o()):n},s.copy=function(){return cr(e,t,n)},o()}function hr(e,t){function n(n){return t[d3.bisect(e,n)]}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return hr(e,t)},n}function pr(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return Kn(e,t)},t.tickFormat=function(t){return Qn(e,t)},t.copy=function(){return pr(e)},t}function mr(e){return e.innerRadius}function gr(e){return e.outerRadius}function yr(e){return e.startAngle}function br(e){return e.endAngle}function wr(e){function u(s){function d(){u.push("M",i(e(a),o))}var u=[],a=[],f=-1,l=s.length,c,h=x(t),p=x(n);while(++f<l)r.call(this,c=s[f],f)?a.push([+h.call(this,c,f),+p.call(this,c,f)]):a.length&&(d(),a=[]);return a.length&&d(),u.length?u.join(""):null}var t=Er,n=Sr,r=S,i=Tr,s=i.key,o=.7;return u.x=function(e){return arguments.length?(t=e,u):t},u.y=function(e){return arguments.length?(n=e,u):n},u.defined=function(e){return arguments.length?(r=e,u):r},u.interpolate=function(e){return arguments.length?(typeof e=="function"?s=i=e:s=(i=xr.get(e)||Tr).key,u):s},u.tension=function(e){return arguments.length?(o=e,u):o},u}function Er(e){return e[0]}function Sr(e){return e[1]}function Tr(e){return e.join("L")}function Nr(e){return Tr(e)+"Z"}function Cr(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function kr(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function Lr(e,t){return e.length<4?Tr(e):e[1]+Mr(e.slice(1,e.length-1),_r(e,t))}function Ar(e,t){return e.length<3?Tr(e):e[0]+Mr((e.push(e[0]),e),_r([e[e.length-2]].concat(e,[e[1]]),t))}function Or(e,t){return e.length<3?Tr(e):e[0]+Mr(e,_r(e,t))}function Mr(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return Tr(e);var n=e.length!=t.length,r="",i=e[0],s=e[1],o=t[0],u=o,a=1;n&&(r+="Q"+(s[0]-o[0]*2/3)+","+(s[1]-o[1]*2/3)+","+s[0]+","+s[1],i=e[1],a=2);if(t.length>1){u=t[1],s=e[a],a++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(s[0]-u[0])+","+(s[1]-u[1])+","+s[0]+","+s[1];for(var f=2;f<t.length;f++,a++)s=e[a],u=t[f],r+="S"+(s[0]-u[0])+","+(s[1]-u[1])+","+s[0]+","+s[1]}if(n){var l=e[a];r+="Q"+(s[0]+u[0]*2/3)+","+(s[1]+u[1]*2/3)+","+l[0]+","+l[1]}return r}function _r(e,t){var n=[],r=(1-t)/2,i,s=e[0],o=e[1],u=1,a=e.length;while(++u<a)i=s,s=o,o=e[u],n.push([r*(o[0]-i[0]),r*(o[1]-i[1])]);return n}function Dr(e){if(e.length<3)return Tr(e);var t=1,n=e.length,r=e[0],i=r[0],s=r[1],o=[i,i,i,(r=e[1])[0]],u=[s,s,s,r[1]],a=[i,",",s];Rr(a,o,u);while(++t<n)r=e[t],o.shift(),o.push(r[0]),u.shift(),u.push(r[1]),Rr(a,o,u);t=-1;while(++t<2)o.shift(),o.push(r[0]),u.shift(),u.push(r[1]),Rr(a,o,u);return a.join("")}function Pr(e){if(e.length<4)return Tr(e);var t=[],n=-1,r=e.length,i,s=[0],o=[0];while(++n<3)i=e[n],s.push(i[0]),o.push(i[1]);t.push(jr(qr,s)+","+jr(qr,o)),--n;while(++n<r)i=e[n],s.shift(),s.push(i[0]),o.shift(),o.push(i[1]),Rr(t,s,o);return t.join("")}function Hr(e){var t,n=-1,r=e.length,i=r+4,s,o=[],u=[];while(++n<4)s=e[n%r],o.push(s[0]),u.push(s[1]);t=[jr(qr,o),",",jr(qr,u)],--n;while(++n<i)s=e[n%r],o.shift(),o.push(s[0]),u.shift(),u.push(s[1]),Rr(t,o,u);return t.join("")}function Br(e,t){var n=e.length-1;if(n){var r=e[0][0],i=e[0][1],s=e[n][0]-r,o=e[n][1]-i,u=-1,a,f;while(++u<=n)a=e[u],f=u/n,a[0]=t*a[0]+(1-t)*(r+f*s),a[1]=t*a[1]+(1-t)*(i+f*o)}return Dr(e)}function jr(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Rr(e,t,n){e.push("C",jr(Fr,t),",",jr(Fr,n),",",jr(Ir,t),",",jr(Ir,n),",",jr(qr,t),",",jr(qr,n))}function Ur(e,t){return(t[1]-e[1])/(t[0]-e[0])}function zr(e){var t=0,n=e.length-1,r=[],i=e[0],s=e[1],o=r[0]=Ur(i,s);while(++t<n)r[t]=(o+(o=Ur(i=s,s=e[t+1])))/2;return r[t]=o,r}function Wr(e){var t=[],n,r,i,s,o=zr(e),u=-1,a=e.length-1;while(++u<a)n=Ur(e[u],e[u+1]),Math.abs(n)<1e-6?o[u]=o[u+1]=0:(r=o[u]/n,i=o[u+1]/n,s=r*r+i*i,s>9&&(s=n*3/Math.sqrt(s),o[u]=s*r,o[u+1]=s*i));u=-1;while(++u<=a)s=(e[Math.min(a,u+1)][0]-e[Math.max(0,u-1)][0])/(6*(1+o[u]*o[u])),t.push([s||0,o[u]*s||0]);return t}function Xr(e){return e.length<3?Tr(e):e[0]+Mr(e,Wr(e))}function Vr(e){var t,n=-1,r=e.length,i,s;while(++n<r)t=e[n],i=t[0],s=t[1]+dr,t[0]=i*Math.cos(s),t[1]=i*Math.sin(s);return e}function $r(e){function c(u){function T(){c.push("M",o(e(p),l),f,a(e(h.reverse()),l),"Z")}var c=[],h=[],p=[],d=-1,v=u.length,m,g=x(t),y=x(r),b=t===n?function(){return E}:x(n),w=r===i?function(){return S}:x(i),E,S;while(++d<v)s.call(this,m=u[d],d)?(h.push([E=+g.call(this,m,d),S=+y.call(this,m,d)]),p.push([+b.call(this,m,d),+w.call(this,m,d)])):h.length&&(T(),h=[],p=[]);return h.length&&T(),c.length?c.join(""):null}var t=Er,n=Er,r=0,i=Sr,s=S,o=Tr,u=o.key,a=o,f="L",l=.7;return c.x=function(e){return arguments.length?(t=n=e,c):n},c.x0=function(e){return arguments.length?(t=e,c):t},c.x1=function(e){return arguments.length?(n=e,c):n},c.y=function(e){return arguments.length?(r=i=e,c):i},c.y0=function(e){return arguments.length?(r=e,c):r},c.y1=function(e){return arguments.length?(i=e,c):i},c.defined=function(e){return arguments.length?(s=e,c):s},c.interpolate=function(e){return arguments.length?(typeof e=="function"?u=o=e:u=(o=xr.get(e)||Tr).key,a=o.reverse||o,f=o.closed?"M":"L",c):u},c.tension=function(e){return arguments.length?(l=e,c):l},c}function Jr(e){return e.radius}function Kr(e){return[e.x,e.y]}function Qr(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]+dr;return[n*Math.cos(r),n*Math.sin(r)]}}function Gr(){return 64}function Yr(){return"circle"}function Zr(e){var t=Math.sqrt(e/o);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+ -t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function ri(e,t){e.attr("transform",function(e){return"translate("+t(e)+",0)"})}function ii(e,t){e.attr("transform",function(e){return"translate(0,"+t(e)+")"})}function si(e,t,n){i=[];if(n&&t.length>1){var r=Rn(e.domain()),i,s=-1,o=t.length,u=(t[1]-t[0])/++n,a,f;while(++s<o)for(a=n;--a>0;)(f=+t[s]-a*u)>=r[0]&&i.push(f);for(--s,a=0;++a<n&&(f=+t[s]+a*u)<r[1];)i.push(f)}return i}function li(){ai||(ai=d3.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var e=d3.event,t;try{ai.scrollTop=1e3,ai.dispatchEvent(e),t=1e3-ai.scrollTop}catch(n){t=e.wheelDelta||-e.detail*5}return t}function ci(e){var t=e.source,n=e.target,r=pi(t,n),i=[t];while(t!==r)t=t.parent,i.push(t);var s=i.length;while(n!==r)i.splice(s,0,n),n=n.parent;return i}function hi(e){var t=[],n=e.parent;while(n!=null)t.push(e),e=n,n=n.parent;return t.push(e),t}function pi(e,t){if(e===t)return e;var n=hi(e),r=hi(t),i=n.pop(),s=r.pop(),o=null;while(i===s)o=i,i=n.pop(),s=r.pop();return o}function di(e){e.fixed|=2}function vi(e){e.fixed&=1}function mi(e){e.fixed|=4,e.px=e.x,e.py=e.y}function gi(e){e.fixed&=3}function yi(e,t,n){var r=0,i=0;e.charge=0;if(!e.leaf){var s=e.nodes,o=s.length,u=-1,a;while(++u<o){a=s[u];if(a==null)continue;yi(a,t,n),e.charge+=a.charge,r+=a.charge*a.cx,i+=a.charge*a.cy}}if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var f=t*n[e.point.index];e.charge+=e.pointCharge=f,r+=f*e.point.x,i+=f*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function bi(){return 20}function wi(){return 1}function Si(e){return e.x}function xi(e){return e.y}function Ti(e,t,n){e.y0=t,e.y=n}function ki(e){return d3.range(e.length)}function Li(e){var t=-1,n=e[0].length,r=[];while(++t<n)r[t]=0;return r}function Ai(e){var t=1,n=0,r=e[0][1],i,s=e.length;for(;t<s;++t)(i=e[t][1])>r&&(n=t,r=i);return n}function Oi(e){return e.reduce(Mi,0)}function Mi(e,t){return e+t[1]}function _i(e,t){return Di(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function Di(e,t){var n=-1,r=+e[0],i=(e[1]-r)/t,s=[];while(++n<=t)s[n]=i*n+r;return s}function Pi(e){return[d3.min(e),d3.max(e)]}function Hi(e,t){return d3.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=Ii,e}function Bi(e){return e.children}function ji(e){return e.value}function Fi(e,t){return t.value-e.value}function Ii(e){return d3.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function qi(e,t){return e.value-t.value}function Ri(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function Ui(e,t){e._pack_next=t,t._pack_prev=e}function zi(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return i*i-n*n-r*r>.001}function Wi(e){function p(e){n=Math.min(e.x-e.r,n),r=Math.max(e.x+e.r,r),i=Math.min(e.y-e.r,i),s=Math.max(e.y+e.r,s)}if(!(t=e.children)||!(h=t.length))return;var t,n=Infinity,r=-Infinity,i=Infinity,s=-Infinity,o,u,a,f,l,c,h;t.forEach(Xi),o=t[0],o.x=-o.r,o.y=0,p(o);if(h>1){u=t[1],u.x=u.r,u.y=0,p(u);if(h>2){a=t[2],Ji(o,u,a),p(a),Ri(o,a),o._pack_prev=a,Ri(a,u),u=o._pack_next;for(f=3;f<h;f++){Ji(o,u,a=t[f]);var d=0,v=1,m=1;for(l=u._pack_next;l!==u;l=l._pack_next,v++)if(zi(l,a)){d=1;break}if(d==1)for(c=o._pack_prev;c!==l._pack_prev;c=c._pack_prev,m++)if(zi(c,a))break;d?(v<m||v==m&&u.r<o.r?Ui(o,u=l):Ui(o=c,u),f--):(Ri(o,a),u=a,p(a))}}}var g=(n+r)/2,y=(i+s)/2,b=0;for(f=0;f<h;f++)a=t[f],a.x-=g,a.y-=y,b=Math.max(b,a.r+Math.sqrt(a.x*a.x+a.y*a.y));e.r=b,t.forEach(Vi)}function Xi(e){e._pack_next=e._pack_prev=e}function Vi(e){delete e._pack_next,delete e._pack_prev}function $i(e,t,n,r){var i=e.children;e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r;if(i){var s=-1,o=i.length;while(++s<o)$i(i[s],t,n,r)}}function Ji(e,t,n){var r=e.r+n.r,i=t.x-e.x,s=t.y-e.y;if(r&&(i||s)){var o=t.r+n.r,u=i*i+s*s;o*=o,r*=r;var a=.5+(r-o)/(2*u),f=Math.sqrt(Math.max(0,2*o*(r+u)-(r-=u)*r-o*o))/(2*u);n.x=e.x+a*i+f*s,n.y=e.y+a*s-f*i}else n.x=e.x+r,n.y=e.y}function Ki(e){return 1+d3.max(e,function(e){return e.y})}function Qi(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Gi(e){var t=e.children;return t&&t.length?Gi(t[0]):e}function Yi(e){var t=e.children,n;return t&&(n=t.length)?Yi(t[n-1]):e}function Zi(e,t){return e.parent==t.parent?1:2}function es(e){var t=e.children;return t&&t.length?t[0]:e._tree.thread}function ts(e){var t=e.children,n;return t&&(n=t.length)?t[n-1]:e._tree.thread}function ns(e,t){var n=e.children;if(n&&(i=n.length)){var r,i,s=-1;while(++s<i)t(r=ns(n[s],t),e)>0&&(e=r)}return e}function rs(e,t){return e.x-t.x}function is(e,t){return t.x-e.x}function ss(e,t){return e.depth-t.depth}function os(e,t){function n(e,r){var i=e.children;if(i&&(a=i.length)){var s,o=null,u=-1,a;while(++u<a)s=i[u],n(s,o),o=s}t(e,r)}n(e,null)}function us(e){var t=0,n=0,r=e.children,i=r.length,s;while(--i>=0)s=r[i]._tree,s.prelim+=t,s.mod+=t,t+=s.shift+(n+=s.change)}function as(e,t,n){e=e._tree,t=t._tree;var r=n/(t.number-e.number);e.change+=r,t.change-=r,t.shift+=n,t.prelim+=n,t.mod+=n}function fs(e,t,n){return e._tree.ancestor.parent==t.parent?e._tree.ancestor:n}function ls(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function cs(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],s=e.dy-t[0]-t[2];return i<0&&(
n+=i/2,i=0),s<0&&(r+=s/2,s=0),{x:n,y:r,dx:i,dy:s}}function hs(e,t){function i(e,n){return d3.xhr(e,t,n).response(s)}function s(e){return i.parse(e.responseText)}function o(t){return t.map(u).join(e)}function u(e){return n.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var n=new RegExp('["'+e+"\n]"),r=e.charCodeAt(0);return i.parse=function(e){var t;return i.parseRows(e,function(e){if(t)return t(e);t=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}")})},i.parseRows=function(e,t){function c(){if(u>=o)return i;if(l)return l=!1,n;var t=u;if(e.charCodeAt(t)===34){var s=t;while(s++<o)if(e.charCodeAt(s)===34){if(e.charCodeAt(s+1)!==34)break;++s}u=s+2;var a=e.charCodeAt(s+1);return a===13?(l=!0,e.charCodeAt(s+2)===10&&++u):a===10&&(l=!0),e.substring(t+1,s).replace(/""/g,'"')}while(u<o){var a=e.charCodeAt(u++),f=1;if(a===10)l=!0;else if(a===13)l=!0,e.charCodeAt(u)===10&&(++u,++f);else if(a!==r)continue;return e.substring(t,u-f)}return e.substring(t)}var n={},i={},s=[],o=e.length,u=0,a=0,f,l;while((f=c())!==i){var h=[];while(f!==n&&f!==i)h.push(f),f=c();if(t&&!(h=t(h,a++)))continue;s.push(h)}return s},i.format=function(e){return e.map(o).join("\n")},i}function ps(e,t){vs.hasOwnProperty(e.type)&&vs[e.type](e,t)}function ms(e,t,n){var r=-1,i=e.length-n,s;t.lineStart();while(++r<i)s=e[r],t.point(s[0],s[1]);t.lineEnd()}function gs(e,t){var n=-1,r=e.length;t.polygonStart();while(++n<r)ms(e[n],t,1);t.polygonEnd()}function ys(e){return[Math.atan2(e[1],e[0]),Math.asin(Math.max(-1,Math.min(1,e[2])))]}function bs(e,t){return Math.abs(e[0]-t[0])<u&&Math.abs(e[1]-t[1])<u}function ws(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function Es(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Ss(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function xs(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Ts(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Ns(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Cs(e){function r(t){function c(n,r){n=e(n,r),t.point(n[0],n[1])}function h(){s=NaN,l.point=p,t.lineStart()}function p(l,c){var h=ws([l,c]),p=e(l,c);i(s,o,r,u,a,f,s=p[0],o=p[1],r=l,u=h[0],a=h[1],f=h[2],n,t),t.point(s,o)}function d(){l.point=c,t.lineEnd()}function v(){var e,c,v,m,g,y,b;h(),l.point=function(t,n){p(e=t,c=n),v=s,m=o,g=u,y=a,b=f,l.point=p},l.lineEnd=function(){i(s,o,r,u,a,f,v,m,e,g,y,b,n,t),l.lineEnd=d,d()}}var r,s,o,u,a,f,l={point:c,lineStart:h,lineEnd:d,polygonStart:function(){t.polygonStart(),l.lineStart=v},polygonEnd:function(){t.polygonEnd(),l.lineStart=h}};return l}function i(n,r,s,o,a,f,l,c,h,p,d,v,m,g){var y=l-n,b=c-r,w=y*y+b*b;if(w>4*t&&m--){var E=o+p,S=a+d,x=f+v,T=Math.sqrt(E*E+S*S+x*x),N=Math.asin(x/=T),C=Math.abs(Math.abs(x)-1)<u?(s+h)/2:Math.atan2(S,E),k=e(C,N),L=k[0],A=k[1],O=L-n,M=A-r,_=b*O-y*M;if(_*_/w>t||Math.abs((y*O+b*M)/w-.5)>.3)i(n,r,s,o,a,f,L,A,C,E/=T,S/=T,x,m,g),g.point(L,A),i(L,A,C,E,S,x,l,c,h,p,d,v,m,g)}}var t=.5,n=16;return r.precision=function(e){return arguments.length?(n=(t=e*e)>0&&16,r):Math.sqrt(t)},r}function ks(e,t){function o(e,t){var n=Math.sqrt(i-2*r*Math.sin(t))/r;return[n*Math.sin(e*=r),s-n*Math.cos(e)]}var n=Math.sin(e),r=(n+Math.sin(t))/2,i=1+n*(2*r-n),s=Math.sqrt(i)/r;return o.invert=function(e,t){var n=s-t;return[Math.atan2(e,n)/r,Math.asin((i-(e*e+n*n)*r*r)/(2*r))]},o}function Os(e){function o(e,s){e<t&&(t=e),e>r&&(r=e),s<n&&(n=s),s>i&&(i=s)}function u(){s.point=s.lineEnd=qn}var t,n,r,i,s={point:o,lineStart:qn,lineEnd:qn,polygonStart:function(){s.lineEnd=u},polygonEnd:function(){s.point=o}};return function(o){return i=r=-(t=n=Infinity),d3.geo.stream(o,e(s)),[[t,n],[r,i]]}}function js(e,t){if(Ms)return;++_s,e*=a;var n=Math.cos(t*=a);Ds+=(n*Math.cos(e)-Ds)/_s,Ps+=(n*Math.sin(e)-Ps)/_s,Hs+=(Math.sin(t)-Hs)/_s}function Fs(){var e,t;Ms=1,Is(),Ms=2;var n=Bs.point;Bs.point=function(r,i){n(e=r,t=i)},Bs.lineEnd=function(){Bs.point(e,t),qs(),Bs.lineEnd=qs}}function Is(){function r(r,i){r*=a;var s=Math.cos(i*=a),o=s*Math.cos(r),u=s*Math.sin(r),f=Math.sin(i),l=Math.atan2(Math.sqrt((l=t*f-n*u)*l+(l=n*o-e*f)*l+(l=e*u-t*o)*l),e*o+t*u+n*f);_s+=l,Ds+=l*(e+(e=o)),Ps+=l*(t+(t=u)),Hs+=l*(n+(n=f))}var e,t,n;if(Ms>1)return;Ms<1&&(Ms=1,_s=Ds=Ps=Hs=0),Bs.point=function(i,s){i*=a;var o=Math.cos(s*=a);e=o*Math.cos(i),t=o*Math.sin(i),n=Math.sin(s),Bs.point=r}}function qs(){Bs.point=js}function Rs(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,s,u,a){if(i!=null){i=Us(n,i),s=Us(n,s);if(u>0?i<s:i>s)i+=u*2*o}else i=e+u*2*o,s=e;var f;for(var l=u*t,c=i;u>0?c>s:c<s;c-=l)a.point((f=ys([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],f[1])}}function Us(e,t){var n=ws(t);n[0]-=e,Ns(n);var r=Math.acos(Math.max(-1,Math.min(1,-n[1])));return((-n[2]<0?-r:r)+2*Math.PI-u)%(2*Math.PI)}function zs(e,t,n){return function(r){function o(t,n){e(t,n)&&r.point(t,n)}function a(e,t){i.point(e,t)}function f(){s.point=a,i.lineStart()}function l(){s.point=o,i.lineEnd()}function y(e,t){m.point(e,t),g.push([e,t])}function b(){m.lineStart(),g=[]}function w(){y(g[0][0],g[0][1]),m.lineEnd();var e=m.clean(),t=v.buffer(),n,i=t.length;if(!i){d=!0,p+=Ks(g,-1),g=null;return}g=null;if(e&1){n=t[0],h+=Ks(n,1);var i=n.length-1,s=-1,o;r.lineStart();while(++s<i)r.point((o=n[s])[0],o[1]);r.lineEnd();return}i>1&&e&2&&t.push(t.pop().concat(t.shift())),c.push(t.filter($s))}var i=t(r),s={point:o,lineStart:f,lineEnd:l,polygonStart:function(){s.point=y,s.lineStart=b,s.lineEnd=w,d=!1,p=h=0,c=[],r.polygonStart()},polygonEnd:function(){s.point=o,s.lineStart=f,s.lineEnd=l,c=d3.merge(c);if(c.length)Ws(c,n,r);else if(h<-u||d&&p<-u)r.lineStart(),n(null,null,1,r),r.lineEnd();r.polygonEnd(),c=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}},c,h,p,d,v=Js(),m=t(v),g;return s}}function Ws(e,t,n){var r=[],i=[];e.forEach(function(e){var t=e.length;if(t<=1)return;var n=e[0],s=e[t-1],o={point:n,points:e,other:null,visited:!1,entry:!0,subject:!0},u={point:n,points:[n],other:o,visited:!1,entry:!1,subject:!1};o.other=u,r.push(o),i.push(u),o={point:s,points:[s],other:null,visited:!1,entry:!1,subject:!0},u={point:s,points:[s],other:o,visited:!1,entry:!0,subject:!1},o.other=u,r.push(o),i.push(u)}),i.sort(Vs),Xs(r),Xs(i);if(!r.length)return;var s=r[0],o,u,a;for(;;){o=s;while(o.visited)if((o=o.next)===s)return;u=o.points,n.lineStart();do{o.visited=o.other.visited=!0;if(o.entry){if(o.subject)for(var f=0;f<u.length;f++)n.point((a=u[f])[0],a[1]);else t(o.point,o.next.point,1,n);o=o.next}else{if(o.subject){u=o.prev.points;for(var f=u.length;--f>=0;)n.point((a=u[f])[0],a[1])}else t(o.point,o.prev.point,-1,n);o=o.prev}o=o.other,u=o.points}while(!o.visited);n.lineEnd()}}function Xs(e){if(!(t=e.length))return;var t,n=0,r=e[0],i;while(++n<t)r.next=i=e[n],i.prev=r,r=i;r.next=i=e[0],i.prev=r}function Vs(e,t){return((e=e.point)[0]<0?e[1]-o/2-u:o/2-e[1])-((t=t.point)[0]<0?t[1]-o/2-u:o/2-t[1])}function $s(e){return e.length>1}function Js(){var e=[],t;return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:qn,buffer:function(){var n=e;return e=[],t=null,n}}}function Ks(e,t){if(!(n=e.length))return 0;var n,r=0,i=0,s=e[0],a=s[0],f=s[1],l=Math.cos(f),c=Math.atan2(t*Math.sin(a)*l,Math.sin(f)),h=1-t*Math.cos(a)*l,p=c,d,v;while(++r<n){s=e[r],l=Math.cos(f=s[1]),d=Math.atan2(t*Math.sin(a=s[0])*l,Math.sin(f)),v=1-t*Math.cos(a)*l;if(Math.abs(h-2)<u&&Math.abs(v-2)<u)continue;Math.abs(v)<u||Math.abs(h)<u||(Math.abs(Math.abs(d-c)-o)<u?v+h>2&&(i+=4*(d-c)):Math.abs(h-2)<u?i+=4*(d-p):i+=((3*o+d-c)%(2*o)-o)*(h+v)),p=c,c=d,h=v}return i}function Gs(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(s,a){var f=s>0?o:-o,l=Math.abs(s-t);Math.abs(l-o)<u?(e.point(t,n=(n+a)/2>0?o/2:-o/2),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(f,n),e.point(s,n),i=0):r!==f&&l>=o&&(Math.abs(t-r)<u&&(t-=r*u),Math.abs(s-f)<u&&(s-=f*u),n=Ys(t,n,s,a),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(f,n),i=0),e.point(t=s,n=a),r=f},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function Ys(e,t,n,r){var i,s,o=Math.sin(e-n);return Math.abs(o)>u?Math.atan((Math.sin(t)*(s=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*s*o)):(t+r)/2}function Zs(e,t,n,r){var i;if(e==null)i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i),r.point(o,0),r.point(o,-i),r.point(0,-i),r.point(-o,-i),r.point(-o,0),r.point(-o,i);else if(Math.abs(e[0]-t[0])>u){var s=(e[0]<t[0]?1:-1)*o;i=n*s/2,r.point(-s,i),r.point(0,i),r.point(s,i)}else r.point(t[0],t[1])}function eo(e){function i(e,t){return Math.cos(e)*Math.cos(t)>n}function s(e){var t,n,r,s;return{lineStart:function(){r=n=!1,s=1},point:function(a,f){var l=[a,f],c,h=i(a,f);!t&&(r=n=h)&&e.lineStart();if(h!==n){c=o(t,l);if(bs(t,c)||bs(l,c))l[0]+=u,l[1]+=u,h=i(l[0],l[1])}h!==n&&(s=0,(n=h)?(e.lineStart(),c=o(l,t),e.point(c[0],c[1])):(c=o(t,l),e.point(c[0],c[1]),e.lineEnd()),t=c),h&&(!t||!bs(t,l))&&e.point(l[0],l[1]),t=l},lineEnd:function(){n&&e.lineEnd(),t=null},clean:function(){return s|(r&&n)<<1}}}function o(e,t){var r=ws(e,0),i=ws(t,0),s=[1,0,0],o=Ss(r,i),u=Es(o,o),a=o[0],f=u-a*a;if(!f)return e;var l=n*u/f,c=-n*a/f,h=Ss(s,o),p=Ts(s,l),d=Ts(o,c);xs(p,d);var v=h,m=Es(p,v),g=Es(v,v),y=Math.sqrt(m*m-g*(Es(p,p)-1)),b=Ts(v,(-m-y)/g);return xs(b,p),ys(b)}var t=e*a,n=Math.cos(t),r=Rs(t,6*a);return zs(i,s,r)}function to(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])}),n}function no(e,t){return[e,t]}function io(e,t,n){var r=d3.range(e,t-u,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function so(e,t,n){var r=d3.range(e,t-u,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function oo(e,t,n,r){function v(e){var t=Math.sin(e*=p)*d,n=Math.sin(p-e)*d,r=n*f+t*c,i=n*l+t*h,o=n*s+t*u;return[Math.atan2(i,r)/a,Math.atan2(o,Math.sqrt(r*r+i*i))/a]}var i=Math.cos(t),s=Math.sin(t),o=Math.cos(r),u=Math.sin(r),f=i*Math.cos(e),l=i*Math.sin(e),c=o*Math.cos(n),h=o*Math.sin(n),p=Math.acos(Math.max(-1,Math.min(1,s*u+i*o*Math.cos(n-e)))),d=1/Math.sin(p);return v.distance=p,v}function uo(e,t){return[e/(2*o),Math.max(-0.5,Math.min(.5,Math.log(Math.tan(o/4+t/2))/(2*o)))]}function fo(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+ -2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function lo(e){var t=Cs(function(t,n){return e([t*f,n*f])});return function(e){return e=t(e),{point:function(t,n){e.point(t*a,n*a)},sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}}function co(){function r(n,r){t.push("M",n,",",r,e)}function i(e,r){t.push("M",e,",",r),n.point=s}function s(e,n){t.push("L",e,",",n)}function o(){n.point=r}function u(){t.push("Z")}var e=fo(4.5),t=[],n={point:r,lineStart:function(){n.point=i},lineEnd:o,polygonStart:function(){n.lineEnd=u},polygonEnd:function(){n.lineEnd=o,n.point=r},pointRadius:function(t){return e=fo(t),n},result:function(){if(t.length){var e=t.join("");return t=[],e}}};return n}function ho(e){function r(n,r){e.moveTo(n,r),e.arc(n,r,t,0,2*o)}function i(t,r){e.moveTo(t,r),n.point=s}function s(t,n){e.lineTo(t,n)}function u(){n.point=r}function a(){e.closePath()}var t=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:u,polygonStart:function(){n.lineEnd=a},polygonEnd:function(){n.lineEnd=u,n.point=r},pointRadius:function(e){return t=e,n},result:qn};return n}function go(){function i(e,t){vo+=r*e-n*t,n=e,r=t}var e,t,n,r;mo.point=function(s,o){mo.point=i,e=n=s,t=r=o},mo.lineEnd=function(){i(e,t)}}function bo(e,t){if(Ms)return;Ds+=e,Ps+=t,++Hs}function wo(){function n(n,r){var i=n-e,s=r-t,o=Math.sqrt(i*i+s*s);Ds+=o*(e+n)/2,Ps+=o*(t+r)/2,Hs+=o,e=n,t=r}var e,t;if(Ms!==1){if(!(Ms<1))return;Ms=1,Ds=Ps=Hs=0}yo.point=function(r,i){yo.point=n,e=r,t=i}}function Eo(){yo.point=bo}function So(){function i(e,t){var i=r*e-n*t;Ds+=i*(n+e),Ps+=i*(r+t),Hs+=i*3,n=e,r=t}var e,t,n,r;Ms<2&&(Ms=2,Ds=Ps=Hs=0),yo.point=function(s,o){yo.point=i,e=n=s,t=r=o},yo.lineEnd=function(){i(e,t)}}function Co(){function l(e,t){e*=a,t*=a;if(Math.abs(Math.abs(i)-o/2)<u&&Math.abs(Math.abs(t)-o/2)<u)return;var l=Math.cos(t),c=Math.sin(t);if(Math.abs(i-o/2)<u)To+=(e-n)*2;else{var h=e-r,p=Math.cos(h),d=Math.atan2(Math.sqrt((d=l*Math.sin(h))*d+(d=s*c-f*l*p)*d),f*c+s*l*p),v=(d+o+i+t)/4;To+=(h<0&&h>-o||h>o?-4:4)*Math.atan(Math.sqrt(Math.abs(Math.tan(v)*Math.tan(v-d/2)*Math.tan(v-o/4-i/2)*Math.tan(v-o/4-t/2))))}n=r,r=e,i=t,s=l,f=c}var e,t,n,r,i,s,f;No.point=function(o,u){No.point=l,n=r=(e=o)*a,i=(t=u)*a,s=Math.cos(i),f=Math.sin(i)},No.lineEnd=function(){l(e,t)}}function ko(e){return Lo(function(){return e})()}function Lo(e){function b(e){return e=r(e[0]*a,e[1]*a),[e[0]*s+v,m-e[1]*s]}function w(e){return e=r.invert((e[0]-v)/s,(m-e[1])/s),e&&[e[0]*f,e[1]*f]}function E(){r=to(n=Oo(h,p,d),t);var e=t(l,c);return v=o-e[0]*s,m=u+e[1]*s,b}var t,n,r,i=Cs(function(e,n){return e=t(e,n),[e[0]*s+v,m-e[1]*s]}),s=150,o=480,u=250,l=0,c=0,h=0,p=0,d=0,v,m,g=Qs,y=null;return b.stream=function(e){return Ao(n,g(i(e)))},b.clipAngle=function(e){return arguments.length?(g=e==null?(y=e,Qs):eo(y=+e),b):y},b.scale=function(e){return arguments.length?(s=+e,E()):s},b.translate=function(e){return arguments.length?(o=+e[0],u=+e[1],E()):[o,u]},b.center=function(e){return arguments.length?(l=e[0]%360*a,c=e[1]%360*a,E()):[l*f,c*f]},b.rotate=function(e){return arguments.length?(h=e[0]%360*a,p=e[1]%360*a,d=e.length>2?e[2]%360*a:0,E()):[h*f,p*f,d*f]},d3.rebind(b,i,"precision"),function(){return t=e.apply(this,arguments),b.invert=t.invert&&w,E()}}function Ao(e,t){return{point:function(n,r){r=e(n*a,r*a),n=r[0],t.point(n>o?n-2*o:n<-o?n+2*o:n,r[1])},sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Oo(e,t,n){return e?t||n?to(_o(e),Do(t,n)):_o(e):t||n?Do(t,n):no}function Mo(e){return function(t,n){return t+=e,[t>o?t-2*o:t<-o?t+2*o:t,n]}}function _o(e){var t=Mo(e);return t.invert=Mo(-e),t}function Do(e,t){function o(e,t){var o=Math.cos(t),u=Math.cos(e)*o,a=Math.sin(e)*o,f=Math.sin(t),l=f*n+u*r;return[Math.atan2(a*i-l*s,u*n-f*r),Math.asin(Math.max(-1,Math.min(1,l*i+a*s)))]}var n=Math.cos(e),r=Math.sin(e),i=Math.cos(t),s=Math.sin(t);return o.invert=function(e,t){var o=Math.cos(t),u=Math.cos(e)*o,a=Math.sin(e)*o,f=Math.sin(t),l=f*i-a*s;return[Math.atan2(a*i+f*s,u*n+l*r),Math.asin(Math.max(-1,Math.min(1,l*n-u*r)))]},o}function Ho(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),s=e(r*i);return[s*i*Math.sin(t),s*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),s=Math.sin(i),o=Math.cos(i);return[Math.atan2(e*s,r*o),Math.asin(r&&n*s/r)]},n}function Bo(e,t,n,r){var i,s,o,u,a,f,l;return i=r[e],s=i[0],o=i[1],i=r[t],u=i[0],a=i[1],i=r[n],f=i[0],l=i[1],(l-o)*(u-s)-(a-o)*(f-s)>0}function jo(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Fo(e,t,n,r){var i=e[0],s=n[0],o=t[0]-i,u=r[0]-s,a=e[1],f=n[1],l=t[1]-a,c=r[1]-f,h=(u*(a-f)-c*(i-s))/(c*o-u*l);return[i+h*o,a+h*l]}function qo(e,t){var n={list:e.map(function(e,t){return{index:t,x:e[0],y:e[1]}}).sort(function(e,t){return e.y<t.y?-1:e.y>t.y?1:e.x<t.x?-1:e.x>t.x?1:0}),bottomSite:null},r={list:[],leftEnd:null,rightEnd:null,init:function(){r.leftEnd=r.createHalfEdge(null,"l"),r.rightEnd=r.createHalfEdge(null,"l"),r.leftEnd.r=r.rightEnd,r.rightEnd.l=r.leftEnd,r.list.unshift(r.leftEnd,r.rightEnd)},createHalfEdge:function(e,t){return{edge:e,side:t,vertex:null,l:null,r:null}},insert:function(e,t){t.l=e,t.r=e.r,e.r.l=t,e.r=t},leftBound:function(e){var t=r.leftEnd;do t=t.r;while(t!=r.rightEnd&&i.rightOf(t,e));return t=t.l,t},del:function(e){e.l.r=e.r,e.r.l=e.l,e.edge=null},right:function(e){return e.r},left:function(e){return e.l},leftRegion:function(e){return e.edge==null?n.bottomSite:e.edge.region[e.side]},rightRegion:function(e){return e.edge==null?n.bottomSite:e.edge.region[Io[e.side]]}},i={bisect:function(e,t){var n={region:{l:e,r:t},ep:{l:null,r:null}},r=t.x-e.x,i=t.y-e.y,s=r>0?r:-r,o=i>0?i:-i;return n.c=e.x*r+e.y*i+(r*r+i*i)*.5,s>o?(n.a=1,n.b=i/r,n.c/=r):(n.b=1,n.a=r/i,n.c/=i),n},intersect:function(e,t){var n=e.edge,r=t.edge;if(!n||!r||n.region.r==r.region.r)return null;var i=n.a*r.b-n.b*r.a;if(Math.abs(i)<1e-10)return null;var s=(n.c*r.b-r.c*n.b)/i,o=(r.c*n.a-n.c*r.a)/i,u=n.region.r,a=r.region.r,f,l;u.y<a.y||u.y==a.y&&u.x<a.x?(f=e,l=n):(f=t,l=r);var c=s>=l.region.r.x;return c&&f.side==="l"||!c&&f.side==="r"?null:{x:s,y:o}},rightOf:function(e,t){var n=e.edge,r=n.region.r,i=t.x>r.x;if(i&&e.side==="l")return 1;if(!i&&e.side==="r")return 0;if(n.a===1){var s=t.y-r.y,o=t.x-r.x,u=0,a=0;!i&&n.b<0||i&&n.b>=0?a=u=s>=n.b*o:(a=t.x+t.y*n.b>n.c,n.b<0&&(a=!a),a||(u=1));if(!u){var f=r.x-n.region.l.x;a=n.b*(o*o-s*s)<f*s*(1+2*o/f+n.b*n.b),n.b<0&&(a=!a)}}else{var l=n.c-n.a*t.x,c=t.y-l,h=t.x-r.x,p=l-r.y;a=c*c>h*h+p*p}return e.side==="l"?a:!a},endPoint:function(e,n,r){e.ep[n]=r;if(!e.ep[Io[n]])return;t(e)},distance:function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}},s={list:[],insert:function(e,t,n){e.vertex=t,e.ystar=t.y+n;for(var r=0,i=s.list,o=i.length;r<o;r++){var u=i[r];if(e.ystar>u.ystar||e.ystar==u.ystar&&t.x>u.vertex.x)continue;break}i.splice(r,0,e)},del:function(e){for(var t=0,n=s.list,r=n.length;t<r&&n[t]!=e;++t);n.splice(t,1)},empty:function(){return s.list.length===0},nextEvent:function(e){for(var t=0,n=s.list,r=n.length;t<r;++t)if(n[t]==e)return n[t+1];return null},min:function(){var e=s.list[0];return{x:e.vertex.x,y:e.ystar}},extractMin:function(){return s.list.shift()}};r.init(),n.bottomSite=n.list.shift();var o=n.list.shift(),u,a,f,l,c,h,p,d,v,m,g,y,b;for(;;){s.empty()||(u=s.min());if(o&&(s.empty()||o.y<u.y||o.y==u.y&&o.x<u.x))a=r.leftBound(o),f=r.right(a),p=r.rightRegion(a),y=i.bisect(p,o),h=r.createHalfEdge(y,"l"),r.insert(a,h),m=i.intersect(a,h),m&&(s.del(a),s.insert(a,m,i.distance(m,o))),a=h,h=r.createHalfEdge(y,"r"),r.insert(a,h),m=i.intersect(h,f),m&&s.insert(h,m,i.distance(m,o)),o=n.list.shift();else{if(!!s.empty())break;a=s.extractMin(),l=r.left(a),f=r.right(a),c=r.right(f),p=r.leftRegion(a),d=r.rightRegion(f),g=a.vertex,i.endPoint(a.edge,a.side,g),i.endPoint(f.edge,f.side,g),r.del(a),s.del(f),r.del(f),b="l",p.y>d.y&&(v=p,p=d,d=v,b="r"),y=i.bisect(p,d),h=r.createHalfEdge(y,b),r.insert(l,h),i.endPoint(y,Io[b],g),m=i.intersect(l,h),m&&(s.del(l),s.insert(l,m,i.distance(m,p))),m=i.intersect(h,c),m&&s.insert(h,m,i.distance(m,p))}}for(a=r.right(r.leftEnd);a!=r.rightEnd;a=r.right(a))t(a.edge)}function Ro(){return{leaf:!0,nodes:[],point:null}}function Uo(e,t,n,r,i,s){if(!e(t,n,r,i,s)){var o=(n+i)*.5,u=(r+s)*.5,a=t.nodes;a[0]&&Uo(e,a[0],n,r,o,u),a[1]&&Uo(e,a[1],o,r,i,u),a[2]&&Uo(e,a[2],n,u,o,s),a[3]&&Uo(e,a[3],o,u,i,s)}}function Xo(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function eu(e,t,n,r){var i,s,o=0,u=t.length,a=n.length;while(o<u){if(r>=a)return-1;i=t.charCodeAt(o++);if(i===37){s=hu[t.charAt(o++)];if(!s||(r=s(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function tu(e){return new RegExp("^(?:"+e.map(d3.requote).join("|")+")","i")}function nu(e){var t=new y,n=-1,r=e.length;while(++n<r)t.set(e[n].toLowerCase(),n);return t}function ru(e,t,n){e+="";var r=e.length;return r<n?(new Array(n-r+1)).join(t)+e:e}function pu(e,t,n){su.lastIndex=0;var r=su.exec(t.substring(n));return r?n+=r[0].length:-1}function du(e,t,n){iu.lastIndex=0;var r=iu.exec(t.substring(n));return r?n+=r[0].length:-1}function vu(e,t,n){au.lastIndex=0;var r=au.exec(t.substring(n));return r?(e.m=fu.get(r[0].toLowerCase()),n+=r[0].length):-1}function mu(e,t,n){ou.lastIndex=0;var r=ou.exec(t.substring(n));return r?(e.m=uu.get(r[0].toLowerCase()),n+=r[0].length):-1}function gu(e,t,n){return eu(e,cu.c.toString(),t,n)}function yu(e,t,n){return eu(e,cu.x.toString(),t,n)}function bu(e,t,n){return eu(e,cu.X.toString(),t,n)}function wu(e,t,n){Au.lastIndex=0;var r=Au.exec(t.substring(n,n+4));return r?(e.y=+r[0],n+=r[0].length):-1}function Eu(e,t,n){Au.lastIndex=0;var r=Au.exec(t.substring(n,n+2));return r?(e.y=Su(+r[0]),n+=r[0].length):-1}function Su(e){return e+(e>68?1900:2e3)}function xu(e,t,n){Au.lastIndex=0;var r=Au.exec(t.substring(n,n+2));return r?(e.m=r[0]-1,n+=r[0].length):-1}function Tu(e,t,n){Au.lastIndex=0;var r=Au.exec(t.substring(n,n+2));return r?(e.d=+r[0],n+=r[0].length):-1}function Nu(e,t,n){Au.lastIndex=0;var r=Au.exec(t.substring(n,n+2));return r?(e.H=+r[0],n+=r[0].length):-1}function Cu(e,t,n){Au.lastIndex=0;var r=Au.exec(t.substring(n,n+2));return r?(e.M=+r[0],n+=r[0].length):-1}function ku(e,t,n){Au.lastIndex=0;var r=Au.exec(t.substring(n,n+2));return r?(e.S=+r[0],n+=r[0].length):-1}function Lu(e,t,n){Au.lastIndex=0;var r=Au.exec(t.substring(n,n+3));return r?(e.L=+r[0],n+=r[0].length):-1}function Ou(e,t,n){var r=Mu.get(t.substring(n,n+=2).toLowerCase());return r==null?-1:(e.p=r,n)}function _u(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=~~(Math.abs(t)/60),i=Math.abs(t)%60;return n+ru(r,"0",2)+ru(i,"0",2)}function Pu(e){return e.toISOString()}function Hu(e,t,n){function r(t){var n=e(t),r=s(n,1);return t-n<r-t?n:r}function i(n){return t(n=e(new zo(n-1)),1),n}function s(e,n){return t(e=new zo(+e),n),e}function o(e,r,s){var o=i(e),u=[];if(s>1)while(o<r)n(o)%s||u.push(new Date(+o)),t(o,1);else while(o<r)u.push(new Date(+o)),t(o,1);return u}function u(e,t,n){try{zo=Xo;var r=new Xo;return r._=e,o(r,t,n)}finally{zo=Date}}e.floor=e,e.round=r,e.ceil=i,e.offset=s,e.range=o;var a=e.utc=Bu(e);return a.floor=a,a.round=Bu(r),a.ceil=Bu(i),a.offset=Bu(s),a.range=u,e}function Bu(e){return function(t,n){try{zo=Xo;var r=new Xo;return r._=t,e(r,n)._}finally{zo=Date}}}function ju(e,t,n){function r(t){return e(t)}return r.invert=function(t){return Iu(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(Iu)},r.nice=function(e){return r.domain(zn(r.domain(),function(){return e}))},r.ticks=function(n,i){var s=Fu(r.domain());if(typeof n!="function"){var o=s[1]-s[0],u=o/n,a=d3.bisect(zu,u);if(a==zu.length)return t.year(s,n);if(!a)return e.ticks(n).map(Iu);Math.log(u/zu[a-1])<Math.log(zu[a]/u)&&--a,n=t[a],i=n[1],n=n[0].range}return n(s[0],new Date(+s[1]+1),i)},r.tickFormat=function(){return n},r.copy=function(){return ju(e.copy(),t,n)},d3.rebind(r,e,"range","rangeRound","interpolate","clamp")}function Fu(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function Iu(e){return new Date(e)}function qu(e){return function(t){var n=e.length-1,r=e[n];while(!r[1](t))r=e[--n];return r[0](t)}}function Ru(e){var t=new Date(e,0,1);return t.setFullYear(e),t}function Uu(e){var t=e.getFullYear(),n=Ru(t),r=Ru(t+1);return t+(e-n)/(r-n)}function Gu(e){var t=new Date(Date.UTC(e,0,1));return t.setUTCFullYear(e),t}function Yu(e){var t=e.getUTCFullYear(),n=Gu(t),r=Gu(t+1);return t+(e-n)/(r-n)}var e=".",t=",",n=[3,3];Date.now||(Date.now=function(){return+(new Date)});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(r){var i=CSSStyleDeclaration.prototype,s=i.setProperty;i.setProperty=function(e,t,n){s.call(this,e,t+"",n)}}d3={version:"3.0.5"};var o=Math.PI,u=1e-6,a=o/180,f=180/o,p=v;try{p(document.documentElement.childNodes)[0].nodeType}catch(m){p=d}var g=[].__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};d3.map=function(e){var t=new y;for(var n in e)t.set(n,e[n]);return t},h(y,{has:function(e){return b+e in this},get:function(e){return this[b+e]},set:function(e,t){return this[b+e]=t},remove:function(e){return e=b+e,e in this&&delete this[e]},keys:function(){var e=[];return this.forEach(function(t){e.push(t)}),e},values:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e},entries:function(){var e=[];return this.forEach(function(t,n){e.push({key:t,value:n})}),e},forEach:function(e){for(var t in this)t.charCodeAt(0)===w&&e.call(this,t.substring(1),this[t])}});var b="\0",w=b.charCodeAt(0);d3.functor=x,d3.rebind=function(e,t){var n=1,r=arguments.length,i;while(++n<r)e[i=arguments[n]]=T(e,t,t[i]);return e},d3.ascending=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},d3.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},d3.mean=function(e,t){var n=e.length,r,i=0,s=-1,o=0;if(arguments.length===1)while(++s<n)N(r=e[s])&&(i+=(r-i)/++o);else while(++s<n)N(r=t.call(e,e[s],s))&&(i+=(r-i)/++o);return o?i:undefined},d3.median=function(e,t){return arguments.length>1&&(e=e.map(t)),e=e.filter(N),e.length?d3.quantile(e.sort(d3.ascending),.5):undefined},d3.min=function(e,t){var n=-1,r=e.length,i,s;if(arguments.length===1){while(++n<r&&((i=e[n])==null||i!=i))i=undefined;while(++n<r)(s=e[n])!=null&&i>s&&(i=s)}else{while(++n<r&&((i=t.call(e,e[n],n))==null||i!=i))i=undefined;while(++n<r)(s=t.call(e,e[n],n))!=null&&i>s&&(i=s)}return i},d3.max=function(e,t){var n=-1,r=e.length,i,s;if(arguments.length===1){while(++n<r&&((i=e[n])==null||i!=i))i=undefined;while(++n<r)(s=e[n])!=null&&s>i&&(i=s)}else{while(++n<r&&((i=t.call(e,e[n],n))==null||i!=i))i=undefined;while(++n<r)(s=t.call(e,e[n],n))!=null&&s>i&&(i=s)}return i},d3.extent=function(e,t){var n=-1,r=e.length,i,s,o;if(arguments.length===1){while(++n<r&&((i=o=e[n])==null||i!=i))i=o=undefined;while(++n<r)(s=e[n])!=null&&(i>s&&(i=s),o<s&&(o=s))}else{while(++n<r&&((i=o=t.call(e,e[n],n))==null||i!=i))i=undefined;while(++n<r)(s=t.call(e,e[n],n))!=null&&(i>s&&(i=s),o<s&&(o=s))}return[i,o]},d3.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,r,i;do n=Math.random()*2-1,r=Math.random()*2-1,i=n*n+r*r;while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(e,t){var n=arguments.length;n<2&&(t=1),n<1&&(e=0);var r=d3.random.normal();return function(){return Math.exp(e+t*r())}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t/e}}},d3.sum=function(e,t){var n=0,r=e.length,i,s=-1;if(arguments.length===1)while(++s<r)isNaN(i=+e[s])||(n+=i);else while(++s<r)isNaN(i=+t.call(e,e[s],s))||(n+=i);return n},d3.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],s=n-r;return s?i+s*(e[r]-i):i},d3.shuffle=function(e){var t=e.length,n,r;while(t)r=Math.random()*t--|0,n=e[t],e[t]=e[r],e[r]=n;return e},d3.transpose=function(e){return d3.zip.apply(d3,e)},d3.zip=function(){if(!(i=arguments.length))return[];for(var e=-1,t=d3.min(arguments,C),n=new Array(t);++e<t;)for(var r=-1,i,s=n[e]=new Array(i);++r<i;)s[r]=arguments[r][e];return n},d3.bisector=function(e){return{left:function(t,n,r,i){arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);while(r<i){var s=r+i>>>1;e.call(t,t[s],s)<n?r=s+1:i=s}return r},right:function(t,n,r,i){arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);while(r<i){var s=r+i>>>1;n<e.call(t,t[s],s)?i=s:r=s+1}return r}}};var k=d3.bisector(function(e){return e});d3.bisectLeft=k.left,d3.bisect=d3.bisectRight=k.right,d3.nest=function(){function s(n,o){if(o>=t.length)return i?i.call(e,n):r?n.sort(r):n;var u=-1,a=n.length,f=t[o++],l,c,h=new y,p,d={};while(++u<a)(p=h.get(l=f(c=n[u])))?p.push(c):h.set(l,[c]);return h.forEach(function(e,t){d[e]=s(t,o)}),d}function o(e,r){if(r>=t.length)return e;var i=[],s=n[r++],u;for(u in e)i.push({key:u,values:o(e[u],r)});return s&&i.sort(function(e,t){return s(e.key,t.key)}),i}var e={},t=[],n=[],r,i;return e.map=function(e){return s(e,0)},e.entries=function(e){return o(s(e,0),0)},e.key=function(n){return t.push(n),e},e.sortKeys=function(r){return n[t.length-1]=r,e},e.sortValues=function(t){return r=t,e},e.rollup=function(t){return i=t,e},e},d3.keys=function(e){var t=[];for(var n in e)t.push(n);return t},d3.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},d3.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},d3.permute=function(e,t){var n=[],r=-1,i=t.length;while(++r<i)n[r]=e[t[r]];return n},d3.merge=function(e){return Array.prototype.concat.apply([],e)},d3.range=function(e,t,n){arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0));if((t-e)/n===Infinity)throw new Error("infinite range");var r=[],i=A(Math.abs(n)),s=-1,o;e*=i,t*=i,n*=i;if(n<0)while((o=e+n*++s)>t)r.push(o/i);else while((o=e+n*++s)<t)r.push(o/i);return r},d3.requote=function(e){return e.replace(O,"\\$&")};var O=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;d3.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)},d3.xhr=function(e,t,n){function a(){var e=u.status;!e&&u.responseText||e>=200&&e<300||e===304?i.load.call(r,o.call(r,u)):i.error.call(r,u)}var r={},i=d3.dispatch("progress","load","error"),s={},o=E,u=new(window.XDomainRequest&&/^(http(s)?:)?\/\//.test(e)?XDomainRequest:XMLHttpRequest);return"onload"in u?u.onload=u.onerror=a:u.onreadystatechange=function(){u.readyState>3&&a()},u.onprogress=function(e){var t=d3.event;d3.event=e;try{i.progress.call(r,u)}finally{d3.event=t}},r.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?s[e]:(t==null?delete s[e]:s[e]=t+"",r)},r.mimeType=function(e){return arguments.length?(t=e==null?null:e+"",r):t},r.response=function(e){return o=e,r},["get","post"].forEach(function(e){r[e]=function(){return r.send.apply(r,[e].concat(p(arguments)))}}),r.send=function(n,i,o){arguments.length===2&&typeof i=="function"&&(o=i,i=null),u.open(n,e,!0),t!=null&&!("accept"in s)&&(s.accept=t+",*/*");if(u.setRequestHeader)for(var a in s)u.setRequestHeader(a,s[a]);return t!=null&&u.overrideMimeType&&u.overrideMimeType(t),o!=null&&r.on("error",o).on("load",function(e){o(null,e)}),u.send(i==null?null:i),r},r.abort=function(){return u.abort(),r},d3.rebind(r,i,"on"),arguments.length===2&&typeof t=="function"&&(n=t,t=null),n==null?r:r.get(M(n))},d3.text=function(){return d3.xhr.apply(d3,arguments).response(_)},d3.json=function(e,t){return d3.xhr(e,"application/json",t).response(D)},d3.html=function(e,t){return d3.xhr(e,"text/html",t).response(P)},d3.xml=function(){return d3.xhr.apply(d3,arguments).response(H)};var B={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:B,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.substring(0,t),e=e.substring(t+1)),B.hasOwnProperty(n)?{space:B[n],local:e}:e}},d3.dispatch=function(){var e=new j,t=-1,n=arguments.length;while(++t<n)e[arguments[t]]=F(e);return e},j.prototype.on=function(e,t){var n=e.indexOf("."),r="";return n>0&&(r=e.substring(n+1),e=e.substring(0,n)),arguments.length<2?this[e].on(r):this[e].on(r,t)},d3.format=function(t){var n=I.exec(t),r=n[1]||" ",i=n[2]||">",s=n[3]||"",o=n[4]||"",u=n[5],a=+n[6],f=n[7],l=n[8],c=n[9],h=1,p="",d=!1;l&&(l=+l.substring(1));if(u||r==="0"&&i==="=")u=r="0",i="=",f&&(a-=Math.floor((a-1)/4));switch(c){case"n":f=!0,c="g";break;case"%":h=100,p="%",c="f";break;case"p":h=100,p="%",c="r";break;case"b":case"o":case"x":case"X":o&&(o="0"+c.toLowerCase());case"c":case"d":d=!0,l=0;break;case"s":h=-1,c="r"}o==="#"&&(o=""),c=="r"&&!l&&(c="g"),c=q.get(c)||U;var v=u&&f;return function(t){if(d&&t%1)return"";var n=t<0||t===0&&1/t<0?(t=-t,"-"):s;if(h<0){var m=d3.formatPrefix(t,l);t=m.scale(t),p=m.symbol}else t*=h;t=c(t,l),!u&&f&&(t=z(t));var g=o.length+t.length+(v?0:n.length),y=g<a?(new Array(g=a-g+1)).join(r):"";return v&&(t=z(y+t)),e&&t.replace(".",e),n+=o,(i==="<"?n+t+y:i===">"?y+n+t:i==="^"?y.substring(0,g>>=1)+n+t+y.substring(g):n+(v?t:y+t))+p}};var I=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,q=d3.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return d3.round(e,t=R(e,t)).toFixed(Math.max(0,Math.min(20,t)))}}),z=E;if(n){var W=n.length;z=function(e){var r=e.lastIndexOf("."),i=r>=0?"."+e.substring(r+1):(r=e.length,""),s=[],o=0,u=n[0];while(r>0&&u>0)s.push(e.substring(r-=u,r+u)),u=n[o=(o+1)%W];return s.reverse().join(t||"")+i}}var X=["y","z","a","f","p","n","μ","m","","k","M","G","T","P","E","Z","Y"].map(V);d3.formatPrefix=function(e,t){var n=0;return e&&(e<0&&(e*=-1),t&&(e=d3.round(e,R(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,Math.floor((n<=0?n+1:n-1)/3)*3))),X[8+n/3]};var $=function(){return E},J=d3.map({linear:$,poly:nt,quad:function(){return Z},cubic:function(){return et},sin:function(){return rt},exp:function(){return it},circle:function(){return st},elastic:ot,back:ut,bounce:function(){return at}}),K=d3.map({"in":E,out:G,"in-out":Y,"out-in":function(e){return Y
(G(e))}});d3.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.substring(0,t):e,r=t>=0?e.substring(t+1):"in";return n=J.get(n)||$,r=K.get(r)||E,Q(r(n.apply(null,Array.prototype.slice.call(arguments,1))))},d3.event=null,d3.transform=function(e){var t=document.createElementNS(d3.ns.prefix.svg,"g");return(d3.transform=function(e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate();return new ht(n?n.matrix:mt)})(e)},ht.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var mt={a:1,b:0,c:0,d:1,e:0,f:0};d3.interpolate=function(e,t){var n=d3.interpolators.length,r;while(--n>=0&&!(r=d3.interpolators[n](e,t)));return r},d3.interpolateNumber=function(e,t){return t-=e,function(n){return e+t*n}},d3.interpolateRound=function(e,t){return t-=e,function(n){return Math.round(e+t*n)}},d3.interpolateString=function(e,t){var n,r,i,s=0,o=0,u=[],a=[],f,l;gt.lastIndex=0;for(r=0;n=gt.exec(t);++r)n.index&&u.push(t.substring(s,o=n.index)),a.push({i:u.length,x:n[0]}),u.push(null),s=gt.lastIndex;s<t.length&&u.push(t.substring(s));for(r=0,f=a.length;(n=gt.exec(e))&&r<f;++r){l=a[r];if(l.x==n[0]){if(l.i)if(u[l.i+1]==null){u[l.i-1]+=l.x,u.splice(l.i,1);for(i=r+1;i<f;++i)a[i].i--}else{u[l.i-1]+=l.x+u[l.i+1],u.splice(l.i,2);for(i=r+1;i<f;++i)a[i].i-=2}else if(u[l.i+1]==null)u[l.i]=l.x;else{u[l.i]=l.x+u[l.i+1],u.splice(l.i+1,1);for(i=r+1;i<f;++i)a[i].i--}a.splice(r,1),f--,r--}else l.x=d3.interpolateNumber(parseFloat(n[0]),parseFloat(l.x))}while(r<f)l=a.pop(),u[l.i+1]==null?u[l.i]=l.x:(u[l.i]=l.x+u[l.i+1],u.splice(l.i+1,1)),f--;return u.length===1?u[0]==null?a[0].x:function(){return t}:function(e){for(r=0;r<f;++r)u[(l=a[r]).i]=l.x(e);return u.join("")}},d3.interpolateTransform=function(e,t){var n=[],r=[],i,s=d3.transform(e),o=d3.transform(t),u=s.translate,a=o.translate,f=s.rotate,l=o.rotate,c=s.skew,h=o.skew,p=s.scale,d=o.scale;return u[0]!=a[0]||u[1]!=a[1]?(n.push("translate(",null,",",null,")"),r.push({i:1,x:d3.interpolateNumber(u[0],a[0])},{i:3,x:d3.interpolateNumber(u[1],a[1])})):a[0]||a[1]?n.push("translate("+a+")"):n.push(""),f!=l?(f-l>180?l+=360:l-f>180&&(f+=360),r.push({i:n.push(n.pop()+"rotate(",null,")")-2,x:d3.interpolateNumber(f,l)})):l&&n.push(n.pop()+"rotate("+l+")"),c!=h?r.push({i:n.push(n.pop()+"skewX(",null,")")-2,x:d3.interpolateNumber(c,h)}):h&&n.push(n.pop()+"skewX("+h+")"),p[0]!=d[0]||p[1]!=d[1]?(i=n.push(n.pop()+"scale(",null,",",null,")"),r.push({i:i-4,x:d3.interpolateNumber(p[0],d[0])},{i:i-2,x:d3.interpolateNumber(p[1],d[1])})):(d[0]!=1||d[1]!=1)&&n.push(n.pop()+"scale("+d+")"),i=r.length,function(e){var t=-1,s;while(++t<i)n[(s=r[t]).i]=s.x(e);return n.join("")}},d3.interpolateRgb=function(e,t){e=d3.rgb(e),t=d3.rgb(t);var n=e.r,r=e.g,i=e.b,s=t.r-n,o=t.g-r,u=t.b-i;return function(e){return"#"+Nt(Math.round(n+s*e))+Nt(Math.round(r+o*e))+Nt(Math.round(i+u*e))}},d3.interpolateHsl=function(e,t){e=d3.hsl(e),t=d3.hsl(t);var n=e.h,r=e.s,i=e.l,s=t.h-n,o=t.s-r,u=t.l-i;return s>180?s-=360:s<-180&&(s+=360),function(e){return Ht(n+s*e,r+o*e,i+u*e)+""}},d3.interpolateLab=function(e,t){e=d3.lab(e),t=d3.lab(t);var n=e.l,r=e.a,i=e.b,s=t.l-n,o=t.a-r,u=t.b-i;return function(e){return $t(n+s*e,r+o*e,i+u*e)+""}},d3.interpolateHcl=function(e,t){e=d3.hcl(e),t=d3.hcl(t);var n=e.h,r=e.c,i=e.l,s=t.h-n,o=t.c-r,u=t.l-i;return s>180?s-=360:s<-180&&(s+=360),function(e){return It(n+s*e,r+o*e,i+u*e)+""}},d3.interpolateArray=function(e,t){var n=[],r=[],i=e.length,s=t.length,o=Math.min(e.length,t.length),u;for(u=0;u<o;++u)n.push(d3.interpolate(e[u],t[u]));for(;u<i;++u)r[u]=e[u];for(;u<s;++u)r[u]=t[u];return function(e){for(u=0;u<o;++u)r[u]=n[u](e);return r}},d3.interpolateObject=function(e,t){var n={},r={},i;for(i in e)i in t?n[i]=yt(i)(e[i],t[i]):r[i]=e[i];for(i in t)i in e||(r[i]=t[i]);return function(e){for(i in n)r[i]=n[i](e);return r}};var gt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;d3.interpolators=[d3.interpolateObject,function(e,t){return t instanceof Array&&d3.interpolateArray(e,t)},function(e,t){return(typeof e=="string"||typeof t=="string")&&d3.interpolateString(e+"",t+"")},function(e,t){return(typeof t=="string"?Mt.has(t)||/^(#|rgb\(|hsl\()/.test(t):t instanceof Et)&&d3.interpolateRgb(e,t)},function(e,t){return!isNaN(e=+e)&&!isNaN(t=+t)&&d3.interpolateNumber(e,t)}],Et.prototype.toString=function(){return this.rgb()+""},d3.rgb=function(e,t,n){return arguments.length===1?e instanceof xt?St(e.r,e.g,e.b):Ct(""+e,St,Ht):St(~~e,~~t,~~n)};var Tt=xt.prototype=new Et;Tt.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return!t&&!n&&!r?St(i,i,i):(t&&t<i&&(t=i),n&&n<i&&(n=i),r&&r<i&&(r=i),St(Math.min(255,Math.floor(t/e)),Math.min(255,Math.floor(n/e)),Math.min(255,Math.floor(r/e))))},Tt.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),St(Math.floor(e*this.r),Math.floor(e*this.g),Math.floor(e*this.b))},Tt.hsl=function(){return kt(this.r,this.g,this.b)},Tt.toString=function(){return"#"+Nt(this.r)+Nt(this.g)+Nt(this.b)};var Mt=d3.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});Mt.forEach(function(e,t){Mt.set(e,Ct(t,St,Ht))}),d3.hsl=function(e,t,n){return arguments.length===1?e instanceof Dt?_t(e.h,e.s,e.l):Ct(""+e,kt,_t):_t(+e,+t,+n)};var Pt=Dt.prototype=new Et;Pt.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),_t(this.h,this.s,this.l/e)},Pt.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),_t(this.h,this.s,e*this.l)},Pt.rgb=function(){return Ht(this.h,this.s,this.l)},d3.hcl=function(e,t,n){return arguments.length===1?e instanceof jt?Bt(e.h,e.c,e.l):e instanceof Rt?Jt(e.l,e.a,e.b):Jt((e=Lt((e=d3.rgb(e)).r,e.g,e.b)).l,e.a,e.b):Bt(+e,+t,+n)};var Ft=jt.prototype=new Et;Ft.brighter=function(e){return Bt(this.h,this.c,Math.min(100,this.l+Ut*(arguments.length?e:1)))},Ft.darker=function(e){return Bt(this.h,this.c,Math.max(0,this.l-Ut*(arguments.length?e:1)))},Ft.rgb=function(){return It(this.h,this.c,this.l).rgb()},d3.lab=function(e,t,n){return arguments.length===1?e instanceof Rt?qt(e.l,e.a,e.b):e instanceof jt?It(e.l,e.c,e.h):Lt((e=d3.rgb(e)).r,e.g,e.b):qt(+e,+t,+n)};var Ut=18,zt=.95047,Wt=1,Xt=1.08883,Vt=Rt.prototype=new Et;Vt.brighter=function(e){return qt(Math.min(100,this.l+Ut*(arguments.length?e:1)),this.a,this.b)},Vt.darker=function(e){return qt(Math.max(0,this.l-Ut*(arguments.length?e:1)),this.a,this.b)},Vt.rgb=function(){return $t(this.l,this.a,this.b)};var Zt=function(e,t){return t.querySelector(e)},en=function(e,t){return t.querySelectorAll(e)},tn=document.documentElement,nn=tn.matchesSelector||tn.webkitMatchesSelector||tn.mozMatchesSelector||tn.msMatchesSelector||tn.oMatchesSelector,rn=function(e,t){return nn.call(e,t)};typeof Sizzle=="function"&&(Zt=function(e,t){return Sizzle(e,t)[0]||null},en=function(e,t){return Sizzle.uniqueSort(Sizzle(e,t))},rn=Sizzle.matchesSelector);var sn=[];d3.selection=function(){return bn},d3.selection.prototype=sn,sn.select=function(e){var t=[],n,r,i,s;typeof e!="function"&&(e=on(e));for(var o=-1,u=this.length;++o<u;){t.push(n=[]),n.parentNode=(i=this[o]).parentNode;for(var a=-1,f=i.length;++a<f;)(s=i[a])?(n.push(r=e.call(s,s.__data__,a)),r&&"__data__"in s&&(r.__data__=s.__data__)):n.push(null)}return Yt(t)},sn.selectAll=function(e){var t=[],n,r;typeof e!="function"&&(e=un(e));for(var i=-1,s=this.length;++i<s;)for(var o=this[i],u=-1,a=o.length;++u<a;)if(r=o[u])t.push(n=p(e.call(r,r.__data__,u))),n.parentNode=r;return Yt(t)},sn.attr=function(e,t){if(arguments.length<2){if(typeof e=="string"){var n=this.node();return e=d3.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(an(t,e[t]));return this}return this.each(an(e,t))},sn.classed=function(e,t){if(arguments.length<2){if(typeof e=="string"){var n=this.node(),r=(e=e.trim().split(/^|\s+/g)).length,i=-1;if(t=n.classList){while(++i<r)if(!t.contains(e[i]))return!1}else{t=n.className,t.baseVal!=null&&(t=t.baseVal);while(++i<r)if(!fn(e[i]).test(t))return!1}return!0}for(t in e)this.each(ln(t,e[t]));return this}return this.each(ln(e,t))},sn.style=function(e,t,n){var r=arguments.length;if(r<3){if(typeof e!="string"){r<2&&(t="");for(n in e)this.each(hn(n,e[n],t));return this}if(r<2)return getComputedStyle(this.node(),null).getPropertyValue(e);n=""}return this.each(hn(e,t,n))},sn.property=function(e,t){if(arguments.length<2){if(typeof e=="string")return this.node()[e];for(t in e)this.each(pn(t,e[t]));return this}return this.each(pn(e,t))},sn.text=function(e){return arguments.length?this.each(typeof e=="function"?function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}:e==null?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},sn.html=function(e){return arguments.length?this.each(typeof e=="function"?function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}:e==null?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},sn.append=function(e){function t(){return this.appendChild(document.createElementNS(this.namespaceURI,e))}function n(){return this.appendChild(document.createElementNS(e.space,e.local))}return e=d3.ns.qualify(e),this.select(e.local?n:t)},sn.insert=function(e,t){function n(){return this.insertBefore(document.createElementNS(this.namespaceURI,e),Zt(t,this))}function r(){return this.insertBefore(document.createElementNS(e.space,e.local),Zt(t,this))}return e=d3.ns.qualify(e),this.select(e.local?r:n)},sn.remove=function(){return this.each(function(){var e=this.parentNode;e&&e.removeChild(this)})},sn.data=function(e,t){function o(e,n){var r,i=e.length,s=n.length,o=Math.min(i,s),l=new Array(s),c=new Array(s),h=new Array(i),p,d;if(t){var v=new y,m=new y,g=[],b;for(r=-1;++r<i;)b=t.call(p=e[r],p.__data__,r),v.has(b)?h[r]=p:v.set(b,p),g.push(b);for(r=-1;++r<s;)b=t.call(n,d=n[r],r),(p=v.get(b))?(l[r]=p,p.__data__=d):m.has(b)||(c[r]=dn(d)),m.set(b,d),v.remove(b);for(r=-1;++r<i;)v.has(g[r])&&(h[r]=e[r])}else{for(r=-1;++r<o;)p=e[r],d=n[r],p?(p.__data__=d,l[r]=p):c[r]=dn(d);for(;r<s;++r)c[r]=dn(n[r]);for(;r<i;++r)h[r]=e[r]}c.update=l,c.parentNode=l.parentNode=h.parentNode=e.parentNode,u.push(c),a.push(l),f.push(h)}var n=-1,r=this.length,i,s;if(!arguments.length){e=new Array(r=(i=this[0]).length);while(++n<r)if(s=i[n])e[n]=s.__data__;return e}var u=wn([]),a=Yt([]),f=Yt([]);if(typeof e=="function")while(++n<r)o(i=this[n],e.call(i,i.parentNode.__data__,n));else while(++n<r)o(i=this[n],e);return a.enter=function(){return u},a.exit=function(){return f},a},sn.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},sn.filter=function(e){var t=[],n,r,i;typeof e!="function"&&(e=vn(e));for(var s=0,o=this.length;s<o;s++){t.push(n=[]),n.parentNode=(r=this[s]).parentNode;for(var u=0,a=r.length;u<a;u++)(i=r[u])&&e.call(i,i.__data__,u)&&n.push(i)}return Yt(t)},sn.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n=this[e],r=n.length-1,i=n[r],s;--r>=0;)if(s=n[r])i&&i!==s.nextSibling&&i.parentNode.insertBefore(s,i),i=s;return this},sn.sort=function(e){e=mn.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},sn.on=function(e,t,n){var r=arguments.length;if(r<3){if(typeof e!="string"){r<2&&(t=!1);for(n in e)this.each(gn(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(gn(e,t,n))},sn.each=function(e){return yn(this,function(t,n,r){e.call(t,t.__data__,n,r)})},sn.call=function(e){var t=p(arguments);return e.apply(t[0]=this,t),this},sn.empty=function(){return!this.node()},sn.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],r=0,i=n.length;r<i;r++){var s=n[r];if(s)return s}return null},sn.transition=function(){var e=Nn||++Tn,t=[],n,r,i=Object.create(Cn);i.time=Date.now();for(var s=-1,o=this.length;++s<o;){t.push(n=[]);for(var u=this[s],a=-1,f=u.length;++a<f;)(r=u[a])&&kn(r,a,e,i),n.push(r)}return Sn(t,e)};var bn=Yt([[document]]);bn[0].parentNode=tn,d3.select=function(e){return typeof e=="string"?bn.select(e):Yt([[e]])},d3.selectAll=function(e){return typeof e=="string"?bn.selectAll(e):Yt([p(e)])};var En=[];d3.selection.enter=wn,d3.selection.enter.prototype=En,En.append=sn.append,En.insert=sn.insert,En.empty=sn.empty,En.node=sn.node,En.select=function(e){var t=[],n,r,i,s,o;for(var u=-1,a=this.length;++u<a;){i=(s=this[u]).update,t.push(n=[]),n.parentNode=s.parentNode;for(var f=-1,l=s.length;++f<l;)(o=s[f])?(n.push(i[f]=r=e.call(s.parentNode,o.__data__,f)),r.__data__=o.__data__):n.push(null)}return Yt(t)};var xn=[],Tn=0,Nn,Cn={ease:tt,delay:0,duration:250};xn.call=sn.call,xn.empty=sn.empty,xn.node=sn.node,d3.transition=function(e){return arguments.length?Nn?e.transition():e:bn.transition()},d3.transition.prototype=xn,xn.select=function(e){var t=this.id,n=[],r,i,s;typeof e!="function"&&(e=on(e));for(var o=-1,u=this.length;++o<u;){n.push(r=[]);for(var a=this[o],f=-1,l=a.length;++f<l;)(s=a[f])&&(i=e.call(s,s.__data__,f))?("__data__"in s&&(i.__data__=s.__data__),kn(i,f,t,s.__transition__[t]),r.push(i)):r.push(null)}return Sn(n,t)},xn.selectAll=function(e){var t=this.id,n=[],r,i,s,o,u;typeof e!="function"&&(e=un(e));for(var a=-1,f=this.length;++a<f;)for(var l=this[a],c=-1,h=l.length;++c<h;)if(s=l[c]){u=s.__transition__[t],i=e.call(s,s.__data__,c),n.push(r=[]);for(var p=-1,d=i.length;++p<d;)kn(o=i[p],p,t,u),r.push(o)}return Sn(n,t)},xn.filter=function(e){var t=[],n,r,i;typeof e!="function"&&(e=vn(e));for(var s=0,o=this.length;s<o;s++){t.push(n=[]);for(var r=this[s],u=0,a=r.length;u<a;u++)(i=r[u])&&e.call(i,i.__data__,u)&&n.push(i)}return Sn(t,this.id,this.time).ease(this.ease())},xn.attr=function(e,t){function i(){this.removeAttribute(r)}function s(){this.removeAttributeNS(r.space,r.local)}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var n=yt(e),r=d3.ns.qualify(e);return An(this,"attr."+e,t,function(e){function t(){var t=this.getAttribute(r),i;return t!==e&&(i=n(t,e),function(e){this.setAttribute(r,i(e))})}function o(){var t=this.getAttributeNS(r.space,r.local),i;return t!==e&&(i=n(t,e),function(e){this.setAttributeNS(r.space,r.local,i(e))})}return e==null?r.local?s:i:(e+="",r.local?o:t)})},xn.attrTween=function(e,t){function r(e,r){var i=t.call(this,e,r,this.getAttribute(n));return i&&function(e){this.setAttribute(n,i(e))}}function i(e,r){var i=t.call(this,e,r,this.getAttributeNS(n.space,n.local));return i&&function(e){this.setAttributeNS(n.space,n.local,i(e))}}var n=d3.ns.qualify(e);return this.tween("attr."+e,n.local?i:r)},xn.style=function(e,t,n){function s(){this.style.removeProperty(e)}var r=arguments.length;if(r<3){if(typeof e!="string"){r<2&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}var i=yt(e);return An(this,"style."+e,t,function(t){function r(){var r=getComputedStyle(this,null).getPropertyValue(e),s;return r!==t&&(s=i(r,t),function(t){this.style.setProperty(e,s(t),n)})}return t==null?s:(t+="",r)})},xn.styleTween=function(e,t,n){return arguments.length<3&&(n=""),this.tween("style."+e,function(r,i){var s=t.call(this,r,i,getComputedStyle(this,null).getPropertyValue(e));return s&&function(t){this.style.setProperty(e,s(t),n)}})},xn.text=function(e){return An(this,"text",e,Ln)},xn.remove=function(){return this.each("end.transition",function(){var e;!this.__transition__&&(e=this.parentNode)&&e.removeChild(this)})},xn.ease=function(e){var t=this.id;return arguments.length<1?this.node().__transition__[t].ease:(typeof e!="function"&&(e=d3.ease.apply(d3,arguments)),yn(this,function(n){n.__transition__[t].ease=e}))},xn.delay=function(e){var t=this.id;return yn(this,typeof e=="function"?function(n,r,i){n.__transition__[t].delay=e.call(n,n.__data__,r,i)|0}:(e|=0,function(n){n.__transition__[t].delay=e}))},xn.duration=function(e){var t=this.id;return yn(this,typeof e=="function"?function(n,r,i){n.__transition__[t].duration=Math.max(1,e.call(n,n.__data__,r,i)|0)}:(e=Math.max(1,e|0),function(n){n.__transition__[t].duration=e}))},xn.each=function(e,t){var n=this.id;if(arguments.length<2){var r=Cn,i=Nn;Nn=n,yn(this,function(t,r,i){Cn=t.__transition__[n],e.call(t,t.__data__,r,i)}),Cn=r,Nn=i}else yn(this,function(r){r.__transition__[n].event.on(e,t)});return this},xn.transition=function(){var e=this.id,t=++Tn,n=[],r,i,s,o;for(var u=0,a=this.length;u<a;u++){n.push(r=[]);for(var i=this[u],f=0,l=i.length;f<l;f++){if(s=i[f])o=Object.create(s.__transition__[e]),o.delay+=o.duration,kn(s,f,t,o);r.push(s)}}return Sn(n,t)},xn.tween=function(e,t){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(e):yn(this,t==null?function(t){t.__transition__[n].tween.remove(e)}:function(r){r.__transition__[n].tween.set(e,t)})};var On=0,Mn={},_n=null,Dn,Pn;d3.timer=function(e,t,n){if(arguments.length<3){if(arguments.length<2)t=0;else if(!isFinite(t))return;n=Date.now()}var r=Mn[e.id];r&&r.callback===e?(r.then=n,r.delay=t):Mn[e.id=++On]=_n={callback:e,then:n,delay:t,next:_n},Dn||(Pn=clearTimeout(Pn),Dn=1,jn(Hn))},d3.timer.flush=function(){var e,t=Date.now(),n=_n;while(n)e=t-n.then,n.delay||(n.flush=n.callback(e)),n=n.next;Bn()};var jn=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,17)};d3.mouse=function(e){return In(e,lt())};var Fn=/WebKit/.test(navigator.userAgent)?-1:0;d3.touches=function(e,t){return arguments.length<2&&(t=lt().touches),t?p(t).map(function(t){var n=In(e,t);return n.identifier=t.identifier,n}):[]},d3.scale={},d3.scale.linear=function(){return Xn([0,1],[0,1],d3.interpolate,!1)},d3.scale.log=function(){return Zn(d3.scale.linear(),tr)};var er=d3.format(".0e");tr.pow=function(e){return Math.pow(10,e)},nr.pow=function(e){return-Math.pow(10,-e)},d3.scale.pow=function(){return rr(d3.scale.linear(),1)},d3.scale.sqrt=function(){return d3.scale.pow().exponent(.5)},d3.scale.ordinal=function(){return sr([],{t:"range",a:[[]]})},d3.scale.category10=function(){return d3.scale.ordinal().range(or)},d3.scale.category20=function(){return d3.scale.ordinal().range(ur)},d3.scale.category20b=function(){return d3.scale.ordinal().range(ar)},d3.scale.category20c=function(){return d3.scale.ordinal().range(fr)};var or=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],ur=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],ar=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],fr=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];d3.scale.quantile=function(){return lr([],[])},d3.scale.quantize=function(){return cr(0,1,[0,1])},d3.scale.threshold=function(){return hr([.5],[0,1])},d3.scale.identity=function(){return pr([0,1])},d3.svg={},d3.svg.arc=function(){function i(){var i=e.apply(this,arguments),s=t.apply(this,arguments),u=n.apply(this,arguments)+dr,a=r.apply(this,arguments)+dr,f=(a<u&&(f=u,u=a,a=f),a-u),l=f<o?"0":"1",c=Math.cos(u),h=Math.sin(u),p=Math.cos(a),d=Math.sin(a);return f>=vr?i?"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+ -s+"A"+s+","+s+" 0 1,1 0,"+s+"M0,"+i+"A"+i+","+i+" 0 1,0 0,"+ -i+"A"+i+","+i+" 0 1,0 0,"+i+"Z":"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+ -s+"A"+s+","+s+" 0 1,1 0,"+s+"Z":i?"M"+s*c+","+s*h+"A"+s+","+s+" 0 "+l+",1 "+s*p+","+s*d+"L"+i*p+","+i*d+"A"+i+","+i+" 0 "+l+",0 "+i*c+","+i*h+"Z":"M"+s*c+","+s*h+"A"+s+","+s+" 0 "+l+",1 "+s*p+","+s*d+"L0,0"+"Z"}var e=mr,t=gr,n=yr,r=br;return i.innerRadius=function(t){return arguments.length?(e=x(t),i):e},i.outerRadius=function(e){return arguments.length?(t=x(e),i):t},i.startAngle=function(e){return arguments.length?(n=x(e),i):n},i.endAngle=function(e){return arguments.length?(r=x(e),i):r},i.centroid=function(){var i=(e.apply(this,arguments)+t.apply(this,arguments))/2,s=(n.apply(this,arguments)+r.apply(this,arguments))/2+dr;return[Math.cos(s)*i,Math.sin(s)*i]},i};var dr=-o/2,vr=2*o-1e-6;d3.svg.line=function(){return wr(E)};var xr=d3.map({linear:Tr,"linear-closed":Nr,"step-before":Cr,"step-after":kr,basis:Dr,"basis-open":Pr,"basis-closed":Hr,bundle:Br,cardinal:Or,"cardinal-open":Lr,"cardinal-closed":Ar,monotone:Xr});xr.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Fr=[0,2/3,1/3,0],Ir=[0,1/3,2/3,0],qr=[0,1/6,2/3,1/6];d3.svg.line.radial=function(){var e=wr(Vr);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Cr.reverse=kr,kr.reverse=Cr,d3.svg.area=function(){return $r(E)},d3.svg.area.radial=function(){var e=$r(Vr);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},d3.svg.chord=function(){function s(n,r){var i=u(this,e,n,r),s=u(this,t,n,r);return"M"+i.p0+f(i.r,i.p1,i.a1-i.a0)+(a(i,s)?h(i.r,i.p1,i.r,i.p0):h(i.r,i.p1,s.r,s.p0)+f(s.r,s.p1,s.a1-s.a0)+h(s.r,s.p1,i.r,i.p0))+"Z"}function u(e,t,s,o){var u=t.call(e,s,o),a=n.call(e,u,o),f=r.call(e,u,o)+dr,l=i.call(e,u,o)+dr;return{r:a,a0:f,a1:l,p0:[a*Math.cos(f),a*Math.sin(f)],p1:[a*Math.cos(l),a*Math.sin(l)]}}function a(e,t){return e.a0==t.a0&&e.a1==t.a1}function f(e,t,n){return"A"+e+","+e+" 0 "+ +(n>o)+",1 "+t}function h(e,t,n,r){return"Q 0,0 "+r}var e=c,t=l,n=Jr,r=yr,i=br;return s.radius=function(e){return arguments.length?(n=x(e),s):n},s.source=function(t){return arguments.length?(e=x(t),s):e},s.target=function(e){return arguments.length?(t=x(e),s):t},s.startAngle=function(e){return arguments.length?(r=x(e),s):r},s.endAngle=function(e){return arguments.length?(i=x(e),s):i},s},d3.svg.diagonal=function(){function r(r,i){var s=e.call(this,r,i),o=t.call(this,r,i),u=(s.y+o.y)/2,a=[s,{x:s.x,y:u},{x:o.x,y:u},o];return a=a.map(n),"M"+a[0]+"C"+a[1]+" "+a[2]+" "+a[3]}var e=c,t=l,n=Kr;return r.source=function(t){return arguments.length?(e=x(t),r):e},r.target=function(e){return arguments.length?(t=x(e),r):t},r.projection=function(e){return arguments.length?(n=e,r):n},r},d3.svg.diagonal.radial=function(){var e=d3.svg.diagonal(),t=Kr,n=e.projection;return e.projection=function(e){return arguments.length?n(Qr(t=e)):t},e},d3.svg.symbol=function(){function n(n,r){return(ei.get(e.call(this,n,r))||Zr)(t.call(this,n,r))}var e=Yr,t=Gr;return n.type=function(t){return arguments.length?(e=x(t),n):e},n.size=function(e){return arguments.length?(t=x(e),n):t},n};var ei=d3.map({circle:Zr,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+ -3*t+","+ -t+"H"+ -t+"V"+ -3*t+"H"+t+"V"+ -t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+ -t+"V"+t+"H"+ -3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*ni)),n=t*ni;return"M0,"+ -t+"L"+n+",0"+" 0,"+t+" "+ -n+",0"+"Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+ -t+","+ -t+"L"+t+","+ -t+" "+t+","+t+" "+ -t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/ti),n=t*ti/2;return"M0,"+n+"L"+t+","+ -n+" "+ -t+","+ -n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/ti),n=t*ti/2;return"M0,"+ -n+"L"+t+","+n+" "+ -t+","+n+"Z"}});d3.svg.symbolTypes=ei.keys();var ti=Math.sqrt(3),ni=Math.tan(30*a);d3.svg.axis=function(){function l(l){l.each(function(){var l=d3.select(this),c=u==null?e.ticks?e.ticks.apply(e,o):e.domain():u,h=a==null?e.tickFormat?e.tickFormat.apply(e,o):String:a,p=si(e,c,f),d=l.selectAll(".minor").data(p,String),v=d.enter().insert("line","g").attr("class","tick minor").style("opacity",1e-6),m=d3.transition(d.exit()).style("opacity",1e-6).remove(),g=d3.transition(d).style("opacity",1),y=l.selectAll("g").data(c,String),b=y.enter().insert("g","path").style("opacity",1e-6),w=d3.transition(y.exit()).style("opacity",1e-6).remove(),E=d3.transition(y).style("opacity",1),S,x=Un(e),T=l.selectAll(".domain").data([0]),N=d3.transition(T),C=e.copy(),k=this.__chart__||C;this.__chart__=C,T.enter().append("path").attr("class","domain"),b.append("line").attr("class","tick"),b.append("text");var L=b.select("line"),A=E.select("line"),O=y.select("text").text(h),M=b.select("text"),_=E.select("text");switch(t){case"bottom":S=ri,v.attr("y2",r),g.attr("x2",0).attr("y2",r),L.attr("y2",n),M.attr("y",Math.max(n,0)+s),A.attr("x2",0).attr("y2",n),_.attr("x",0).attr("y",Math.max(n,0)+s),O.attr("dy",".71em").style("text-anchor","middle"),N.attr("d","M"+x[0]+","+i+"V0H"+x[1]+"V"+i);break;case"top":S=ri,v.attr("y2",-r),g.attr("x2",0).attr("y2",-r),L.attr("y2",-n),M.attr("y",-(Math.max(n,0)+s)),A.attr("x2",0).attr("y2",-n),_.attr("x",0).attr("y",-(Math.max(n,0)+s)),O.attr("dy","0em").style("text-anchor","middle"),N.attr("d","M"+x[0]+","+ -i+"V0H"+x[1]+"V"+ -i);break;case"left":S=ii,v.attr("x2",-r),g.attr("x2",-r).attr("y2",0),L.attr("x2",-n),M.attr("x",-(Math.max(n,0)+s)),A.attr("x2",-n).attr("y2",0),_.attr("x",-(Math.max(n,0)+s)).attr("y",0),O.attr("dy",".32em").style("text-anchor","end"),N.attr("d","M"+ -i+","+x[0]+"H0V"+x[1]+"H"+ -i);break;case"right":S=ii,v.attr("x2",r),g.attr("x2",r).attr("y2",0),L.attr("x2",n),M.attr("x",Math.max(n,0)+s),A.attr("x2",n).attr("y2",0),_.attr("x",Math.max(n,0)+s).attr("y",0),O.attr("dy",".32em").style("text-anchor","start"),N.attr("d","M"+i+","+x[0]+"H0V"+x[1]+"H"+i)}if(e.ticks)b.call(S,k),E.call(S,C),w.call(S,C),v.call(S,k),g.call(S,C),m.call(S,C);else{var D=C.rangeBand()/2,P=function(e){return C(e)+D};b.call(S,P),E.call(S,P)}})}var e=d3.scale.linear(),t="bottom",n=6,r=6,i=6,s=3,o=[10],u=null,a,f=0;return l.scale=function(t){return arguments.length?(e=t,l):e},l.orient=function(e){return arguments.length?(t=e,l):t},l.ticks=function(){return arguments.length?(o=arguments,l):o},l.tickValues=function(e){return arguments.length?(u=e,l):u},l.tickFormat=function(e){return arguments.length?(a=e,l):a},l.tickSize=function(e,t){if(!arguments.length)return n;var s=arguments.length-1;return n=+e,r=s>1?+t:n,i=s>0?+arguments[s]:n,l},l.tickPadding=function(e){return arguments.length?(s=+e,l):s},l.tickSubdivide=function(e){return arguments.length?(f=+e,l):f},l},d3.svg.brush=function(){function o(e){e.each(function(){var e=d3.select(this),i=e.selectAll(".background").data([0]),s=e.selectAll(".extent").data([0]),c=e.selectAll(".resize").data(r,String),h;e.style("pointer-events","all").on("mousedown.brush",l).on("touchstart.brush",l),i.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),s.enter().append("rect").attr("class","extent").style("cursor","move"),c.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return oi[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),c.style("display",o.empty()?"none":null),c.exit().remove(),t&&(h=Un(t),i.attr("x",h[0]).attr("width",h[1]-h[0]),a(e)),n&&(h=Un(n),i.attr("y",h[0]).attr("height",h[1]-h[0]),f(e)),u(e)})}function u(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+i[+/e$/.test(e)][0]+","+i[+/^s/.test(e)][1]+")"})}function a(e){e.select(".extent").attr("x",i[0][0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",i[1][0]-i[0][0])}function f(e){e.select(".extent").attr("y",i[0][1]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",i[1][1]-i[0][1])}function l(){function x(){var e=d3.event.changedTouches;return e?d3.touches(r,e)[0]:d3.mouse(r)}function T(){d3.event.keyCode==32&&(m||(g=null,y[0]-=i[1][0],y[1]-=i[1][1],m=2),ft())}function N(){d3.event.keyCode==32&&m==2&&(y[0]+=i[1][0],y[1]+=i[1][1],m=0,ft())}function C(){var e=x(),r=!1;b&&(e[0]+=b[0],e[1]+=b[1]),m||(d3.event.altKey?(g||(g=[(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]),y[0]=i[+(e[0]<g[0])][0],y[1]=i[+(e[1]<g[1])][1]):g=null),d&&k(e,t,0)&&(a(h),r=!0),v&&k(e,n,1)&&(f(h),r=!0),r&&(u(h),c({type:"brush",mode:m?"move":"resize"}))}function k(e,t,n){var r=Un(t),o=r[0],u=r[1],a=y[n],f=i[1][n]-i[0][n],l,c;m&&(o-=a,u-=f+a),l=Math.max(o,Math.min(u,e[n])),m?c=(l+=a)+f:(g&&(a=Math.max(o,Math.min(u,2*g[n]-l))),a<l?(c=l,l=a):c=a);if(i[0][n]!==l||i[1][n]!==c)return s=null,i[0][n]=l,i[1][n]=c,!0}function L(){C(),h.style("pointer-events","all").selectAll(".resize").style("display",o.empty()?"none":null),d3.select("body").style("cursor",null),w.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),c({type:"brushend"}),ft()}var r=this,l=d3.select(d3.event.target),c=e.of(r,arguments),h=d3.select(r),p=l.datum(),d=!/^(n|s)$/.test(p)&&t,v=!/^(e|w)$/.test(p)&&n,m=l.classed("extent"),g,y=x(),b,w=d3.select(window).on("mousemove.brush",C).on("mouseup.brush",L).on("touchmove.brush",C).on("touchend.brush",L).on("keydown.brush",T).on("keyup.brush",N);if(m)y[0]=i[0][0]-y[0],y[1]=i[0][1]-y[1];else if(p){var E=+/w$/.test(p),S=+/^n/.test(p);b=[i[1-E][0]-y[0],i[1-S][1]-y[1]],y[0]=i[E][0],y[1]=i[S][1]}else d3.event.altKey&&(g=y.slice());h.style("pointer-events","none").selectAll(".resize").style("display",null),d3.select("body").style("cursor",l.style("cursor")),c({type:"brushstart"}),C(),ft()}var e=ct(o,"brushstart","brush","brushend"),t=null,n=null,r=ui[0],i=[[0,0],[0,0]],s;return o.x=function(e){return arguments.length?(t=e,r=ui[!t<<1|!n],o):t},o.y=function(e){return arguments.length?(n=e,r=ui[!t<<1|!n],o):n},o.extent=function(e){var r,u,a,f,l;return arguments.length?(s=[[0,0],[0,0]],t&&(r=e[0],u=e[1],n&&(r=r[0],u=u[0]),s[0][0]=r,s[1][0]=u,t.invert&&(r=t(r),u=t(u)),u<r&&(l=r,r=u,u=l),i[0][0]=r|0,i[1][0]=u|0),n&&(a=e[0],f=e[1],t&&(a=a[1],f=f[1]),s[0][1]=a,s[1][1]=f,n.invert&&(a=n(a),f=n(f)),f<a&&(l=a,a=f,f=l),i[0][1]=a|0,i[1][1]=f|0),o):(e=s||i,t&&(r=e[0][0],u=e[1][0],s||(r=i[0][0],u=i[1][0],t.invert&&(r=t.invert(r),u=t.invert(u)),u<r&&(l=r,r=u,u=l))),n&&(a=e
[0][1],f=e[1][1],s||(a=i[0][1],f=i[1][1],n.invert&&(a=n.invert(a),f=n.invert(f)),f<a&&(l=a,a=f,f=l))),t&&n?[[r,a],[u,f]]:t?[r,u]:n&&[a,f])},o.clear=function(){return s=null,i[0][0]=i[0][1]=i[1][0]=i[1][1]=0,o},o.empty=function(){return t&&i[0][0]===i[1][0]||n&&i[0][1]===i[1][1]},d3.rebind(o,e,"on")};var oi={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ui=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];d3.behavior={},d3.behavior.drag=function(){function n(){this.on("mousedown.drag",r).on("touchstart.drag",r)}function r(){function l(){var e=n.parentNode;return s!=null?d3.touches(e).filter(function(e){return e.identifier===s})[0]:d3.mouse(e)}function c(){if(!n.parentNode)return h();var e=l(),t=e[0]-u[0],i=e[1]-u[1];a|=t|i,u=e,ft(),r({type:"drag",x:e[0]+o[0],y:e[1]+o[1],dx:t,dy:i})}function h(){r({type:"dragend"}),a&&(ft(),d3.event.target===i&&f.on("click.drag",p,!0)),f.on(s!=null?"touchmove.drag-"+s:"mousemove.drag",null).on(s!=null?"touchend.drag-"+s:"mouseup.drag",null)}function p(){ft(),f.on("click.drag",null)}var n=this,r=e.of(n,arguments),i=d3.event.target,s=d3.event.touches?d3.event.changedTouches[0].identifier:null,o,u=l(),a=0,f=d3.select(window).on(s!=null?"touchmove.drag-"+s:"mousemove.drag",c).on(s!=null?"touchend.drag-"+s:"mouseup.drag",h,!0);t?(o=t.apply(n,arguments),o=[o.x-u[0],o.y-u[1]]):o=[0,0],s==null&&ft(),r({type:"dragstart"})}var e=ct(n,"drag","dragstart","dragend"),t=null;return n.origin=function(e){return arguments.length?(t=e,n):t},d3.rebind(n,e,"on")},d3.behavior.zoom=function(){function c(){this.on("mousedown.zoom",y).on("mousewheel.zoom",b).on("mousemove.zoom",w).on("DOMMouseScroll.zoom",b).on("dblclick.zoom",E).on("touchstart.zoom",S).on("touchmove.zoom",x).on("touchend.zoom",S)}function h(t){return[(t[0]-e[0])/n,(t[1]-e[1])/n]}function p(t){return[t[0]*n+e[0],t[1]*n+e[1]]}function d(e){n=Math.max(i[0],Math.min(i[1],e))}function v(t,n){n=p(n),e[0]+=t[0]-n[0],e[1]+=t[1]-n[1]}function m(){u&&u.domain(o.range().map(function(t){return(t-e[0])/n}).map(o.invert)),f&&f.domain(a.range().map(function(t){return(t-e[1])/n}).map(a.invert))}function g(t){m(),d3.event.preventDefault(),t({type:"zoom",scale:n,translate:e})}function y(){function u(){r=1,v(d3.mouse(e),o),g(t)}function a(){r&&ft(),i.on("mousemove.zoom",null).on("mouseup.zoom",null),r&&d3.event.target===n&&i.on("click.zoom",f,!0)}function f(){ft(),i.on("click.zoom",null)}var e=this,t=s.of(e,arguments),n=d3.event.target,r=0,i=d3.select(window).on("mousemove.zoom",u).on("mouseup.zoom",a),o=h(d3.mouse(e));window.focus(),ft()}function b(){t||(t=h(d3.mouse(this))),d(Math.pow(2,li()*.002)*n),v(d3.mouse(this),t),g(s.of(this,arguments))}function w(){t=null}function E(){var e=d3.mouse(this),t=h(e),r=Math.log(n)/Math.LN2;d(Math.pow(2,d3.event.shiftKey?Math.ceil(r)-1:Math.floor(r)+1)),v(e,t),g(s.of(this,arguments))}function S(){var e=d3.touches(this),i=Date.now();r=n,t={},e.forEach(function(e){t[e.identifier]=h(e)}),ft();if(e.length===1){if(i-l<500){var o=e[0],u=h(e[0]);d(n*2),v(o,u),g(s.of(this,arguments))}l=i}}function x(){var e=d3.touches(this),n=e[0],i=t[n.identifier];if(o=e[1]){var o,u=t[o.identifier];n=[(n[0]+o[0])/2,(n[1]+o[1])/2],i=[(i[0]+u[0])/2,(i[1]+u[1])/2],d(d3.event.scale*r)}v(n,i),l=null,g(s.of(this,arguments))}var e=[0,0],t,n=1,r,i=fi,s=ct(c,"zoom"),o,u,a,f,l;return c.translate=function(t){return arguments.length?(e=t.map(Number),m(),c):e},c.scale=function(e){return arguments.length?(n=+e,m(),c):n},c.scaleExtent=function(e){return arguments.length?(i=e==null?fi:e.map(Number),c):i},c.x=function(t){return arguments.length?(u=t,o=t.copy(),e=[0,0],n=1,c):u},c.y=function(t){return arguments.length?(f=t,a=t.copy(),e=[0,0],n=1,c):f},d3.rebind(c,s,"on")};var ai,fi=[0,Infinity];d3.layout={},d3.layout.bundle=function(){return function(e){var t=[],n=-1,r=e.length;while(++n<r)t.push(ci(e[n]));return t}},d3.layout.chord=function(){function l(){var e={},l=[],h=d3.range(i),p=[],d,v,m,g,y;t=[],n=[],d=0,g=-1;while(++g<i){v=0,y=-1;while(++y<i)v+=r[g][y];l.push(v),p.push(d3.range(i)),d+=v}u&&h.sort(function(e,t){return u(l[e],l[t])}),a&&p.forEach(function(e,t){e.sort(function(e,n){return a(r[t][e],r[t][n])})}),d=(2*o-s*i)/d,v=0,g=-1;while(++g<i){m=v,y=-1;while(++y<i){var b=h[g],w=p[b][y],E=r[b][w],S=v,x=v+=E*d;e[b+"-"+w]={index:b,subindex:w,startAngle:S,endAngle:x,value:E}}n[b]={index:b,startAngle:m,endAngle:v,value:(v-m)/d},v+=s}g=-1;while(++g<i){y=g-1;while(++y<i){var T=e[g+"-"+y],N=e[y+"-"+g];(T.value||N.value)&&t.push(T.value<N.value?{source:N,target:T}:{source:T,target:N})}}f&&c()}function c(){t.sort(function(e,t){return f((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var e={},t,n,r,i,s=0,u,a,f;return e.matrix=function(s){return arguments.length?(i=(r=s)&&r.length,t=n=null,e):r},e.padding=function(r){return arguments.length?(s=r,t=n=null,e):s},e.sortGroups=function(r){return arguments.length?(u=r,t=n=null,e):u},e.sortSubgroups=function(n){return arguments.length?(a=n,t=null,e):a},e.sortChords=function(n){return arguments.length?(f=n,t&&c(),e):f},e.chords=function(){return t||l(),t},e.groups=function(){return n||l(),n},e},d3.layout.force=function(){function m(e){return function(t,n,r,i){if(t.point!==e){var s=t.cx-e.x,o=t.cy-e.y,u=1/Math.sqrt(s*s+o*o);if((i-n)*u<l){var a=t.charge*u*u;return e.px-=s*a,e.py-=o*a,!0}if(t.point&&isFinite(u)){var a=t.pointCharge*u*u;e.px-=s*a,e.py-=o*a}}return!t.charge}}function g(t){t.px=d3.event.x,t.py=d3.event.y,e.resume()}var e={},t=d3.dispatch("start","tick","end"),n=[1,1],r,i,s=.9,o=bi,u=wi,a=-30,f=.1,l=.8,c=[],h=[],p,d,v;return e.tick=function(){if((i*=.99)<.005)return t.end({type:"end",alpha:i=0}),!0;var e=c.length,r=h.length,o,u,l,g,y,b,w,E,S;for(u=0;u<r;++u){l=h[u],g=l.source,y=l.target,E=y.x-g.x,S=y.y-g.y;if(b=E*E+S*S)b=i*d[u]*((b=Math.sqrt(b))-p[u])/b,E*=b,S*=b,y.x-=E*(w=g.weight/(y.weight+g.weight)),y.y-=S*w,g.x+=E*(w=1-w),g.y+=S*w}if(w=i*f){E=n[0]/2,S=n[1]/2,u=-1;if(w)while(++u<e)l=c[u],l.x+=(E-l.x)*w,l.y+=(S-l.y)*w}if(a){yi(o=d3.geom.quadtree(c),i,v),u=-1;while(++u<e)(l=c[u]).fixed||o.visit(m(l))}u=-1;while(++u<e)l=c[u],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*s,l.y-=(l.py-(l.py=l.y))*s);t.tick({type:"tick",alpha:i})},e.nodes=function(t){return arguments.length?(c=t,e):c},e.links=function(t){return arguments.length?(h=t,e):h},e.size=function(t){return arguments.length?(n=t,e):n},e.linkDistance=function(t){return arguments.length?(o=x(t),e):o},e.distance=e.linkDistance,e.linkStrength=function(t){return arguments.length?(u=x(t),e):u},e.friction=function(t){return arguments.length?(s=t,e):s},e.charge=function(t){return arguments.length?(a=typeof t=="function"?t:+t,e):a},e.gravity=function(t){return arguments.length?(f=t,e):f},e.theta=function(t){return arguments.length?(l=t,e):l},e.alpha=function(n){return arguments.length?(i?n>0?i=n:i=0:n>0&&(t.start({type:"start",alpha:i=n}),d3.timer(e.tick)),e):i},e.start=function(){function y(e,n){var r=b(t),i=-1,s=r.length,o;while(++i<s)if(!isNaN(o=r[i][e]))return o;return Math.random()*n}function b(){if(!m){m=[];for(r=0;r<i;++r)m[r]=[];for(r=0;r<s;++r){var e=h[r];m[e.source.index].push(e.target),m[e.target.index].push(e.source)}}return m[t]}var t,r,i=c.length,s=h.length,f=n[0],l=n[1],m,g;for(t=0;t<i;++t)(g=c[t]).index=t,g.weight=0;p=[],d=[];for(t=0;t<s;++t)g=h[t],typeof g.source=="number"&&(g.source=c[g.source]),typeof g.target=="number"&&(g.target=c[g.target]),p[t]=o.call(this,g,t),d[t]=u.call(this,g,t),++g.source.weight,++g.target.weight;for(t=0;t<i;++t)g=c[t],isNaN(g.x)&&(g.x=y("x",f)),isNaN(g.y)&&(g.y=y("y",l)),isNaN(g.px)&&(g.px=g.x),isNaN(g.py)&&(g.py=g.y);v=[];if(typeof a=="function")for(t=0;t<i;++t)v[t]=+a.call(this,c[t],t);else for(t=0;t<i;++t)v[t]=a;return e.resume()},e.resume=function(){return e.alpha(.1)},e.stop=function(){return e.alpha(0)},e.drag=function(){r||(r=d3.behavior.drag().origin(E).on("dragstart",di).on("drag",g).on("dragend",vi)),this.on("mouseover.force",mi).on("mouseout.force",gi).call(r)},d3.rebind(e,t,"on")},d3.layout.partition=function(){function n(e,t,r,i){var s=e.children;e.x=t,e.y=e.depth*i,e.dx=r,e.dy=i;if(s&&(u=s.length)){var o=-1,u,a,f;r=e.value?r/e.value:0;while(++o<u)n(a=s[o],t,f=a.value*r,i),t+=f}}function r(e){var t=e.children,n=0;if(t&&(s=t.length)){var i=-1,s;while(++i<s)n=Math.max(n,r(t[i]))}return 1+n}function i(i,s){var o=e.call(this,i,s);return n(o[0],0,t[0],t[1]/r(o[0])),o}var e=d3.layout.hierarchy(),t=[1,1];return i.size=function(e){return arguments.length?(t=e,i):t},Hi(i,e)},d3.layout.pie=function(){function i(s){var o=s.map(function(t,n){return+e.call(i,t,n)}),u=+(typeof n=="function"?n.apply(this,arguments):n),a=((typeof r=="function"?r.apply(this,arguments):r)-n)/d3.sum(o),f=d3.range(s.length);t!=null&&f.sort(t===Ei?function(e,t){return o[t]-o[e]}:function(e,n){return t(s[e],s[n])});var l=[];return f.forEach(function(e){var t;l[e]={data:s[e],value:t=o[e],startAngle:u,endAngle:u+=t*a}}),l}var e=Number,t=Ei,n=0,r=2*o;return i.value=function(t){return arguments.length?(e=t,i):e},i.sort=function(e){return arguments.length?(t=e,i):t},i.startAngle=function(e){return arguments.length?(n=e,i):n},i.endAngle=function(e){return arguments.length?(r=e,i):r},i};var Ei={};d3.layout.stack=function(){function o(u,a){var f=u.map(function(t,n){return e.call(o,t,n)}),l=f.map(function(e){return e.map(function(e,t){return[i.call(o,e,t),s.call(o,e,t)]})}),c=t.call(o,l,a);f=d3.permute(f,c),l=d3.permute(l,c);var h=n.call(o,l,a),p=f.length,d=f[0].length,v,m,g;for(m=0;m<d;++m){r.call(o,f[0][m],g=h[m],l[0][m][1]);for(v=1;v<p;++v)r.call(o,f[v][m],g+=l[v-1][m][1],l[v][m][1])}return u}var e=E,t=ki,n=Li,r=Ti,i=Si,s=xi;return o.values=function(t){return arguments.length?(e=t,o):e},o.order=function(e){return arguments.length?(t=typeof e=="function"?e:Ni.get(e)||ki,o):t},o.offset=function(e){return arguments.length?(n=typeof e=="function"?e:Ci.get(e)||Li,o):n},o.x=function(e){return arguments.length?(i=e,o):i},o.y=function(e){return arguments.length?(s=e,o):s},o.out=function(e){return arguments.length?(r=e,o):r},o};var Ni=d3.map({"inside-out":function(e){var t=e.length,n,r,i=e.map(Ai),s=e.map(Oi),o=d3.range(t).sort(function(e,t){return i[e]-i[t]}),u=0,a=0,f=[],l=[];for(n=0;n<t;++n)r=o[n],u<a?(u+=s[r],f.push(r)):(a+=s[r],l.push(r));return l.reverse().concat(f)},reverse:function(e){return d3.range(e.length).reverse()},"default":ki}),Ci=d3.map({silhouette:function(e){var t=e.length,n=e[0].length,r=[],i=0,s,o,u,a=[];for(o=0;o<n;++o){for(s=0,u=0;s<t;s++)u+=e[s][o][1];u>i&&(i=u),r.push(u)}for(o=0;o<n;++o)a[o]=(i-r[o])/2;return a},wiggle:function(e){var t=e.length,n=e[0],r=n.length,i,s,o,u,a,f,l,c,h,p=[];p[0]=c=h=0;for(s=1;s<r;++s){for(i=0,u=0;i<t;++i)u+=e[i][s][1];for(i=0,a=0,l=n[s][0]-n[s-1][0];i<t;++i){for(o=0,f=(e[i][s][1]-e[i][s-1][1])/(2*l);o<i;++o)f+=(e[o][s][1]-e[o][s-1][1])/l;a+=f*e[i][s][1]}p[s]=c-=u?a/u*l:0,c<h&&(h=c)}for(s=0;s<r;++s)p[s]-=h;return p},expand:function(e){var t=e.length,n=e[0].length,r=1/t,i,s,o,u=[];for(s=0;s<n;++s){for(i=0,o=0;i<t;i++)o+=e[i][s][1];if(o)for(i=0;i<t;i++)e[i][s][1]/=o;else for(i=0;i<t;i++)e[i][s][1]=r}for(s=0;s<n;++s)u[s]=0;return u},zero:Li});d3.layout.histogram=function(){function i(i,s){var o=[],u=i.map(t,this),a=n.call(this,u,s),f=r.call(this,a,u,s),l,s=-1,c=u.length,h=f.length-1,p=e?1:1/c,d;while(++s<h)l=o[s]=[],l.dx=f[s+1]-(l.x=f[s]),l.y=0;if(h>0){s=-1;while(++s<c)d=u[s],d>=a[0]&&d<=a[1]&&(l=o[d3.bisect(f,d,1,h)-1],l.y+=p,l.push(i[s]))}return o}var e=!0,t=Number,n=Pi,r=_i;return i.value=function(e){return arguments.length?(t=e,i):t},i.range=function(e){return arguments.length?(n=x(e),i):n},i.bins=function(e){return arguments.length?(r=typeof e=="number"?function(t){return Di(t,e)}:x(e),i):r},i.frequency=function(t){return arguments.length?(e=!!t,i):e},i},d3.layout.hierarchy=function(){function r(i,o,u){var a=t.call(s,i,o);i.depth=o,u.push(i);if(a&&(l=a.length)){var f=-1,l,c=i.children=[],h=0,p=o+1,d;while(++f<l)d=r(a[f],p,u),d.parent=i,c.push(d),h+=d.value;e&&c.sort(e),n&&(i.value=h)}else n&&(i.value=+n.call(s,i,o)||0);return i}function i(e,t){var r=e.children,o=0;if(r&&(a=r.length)){var u=-1,a,f=t+1;while(++u<a)o+=i(r[u],f)}else n&&(o=+n.call(s,e,t)||0);return n&&(e.value=o),o}function s(e){var t=[];return r(e,0,t),t}var e=Fi,t=Bi,n=ji;return s.sort=function(t){return arguments.length?(e=t,s):e},s.children=function(e){return arguments.length?(t=e,s):t},s.value=function(e){return arguments.length?(n=e,s):n},s.revalue=function(e){return i(e,0),e},s},d3.layout.pack=function(){function r(r,i){var s=e.call(this,r,i),o=s[0];o.x=0,o.y=0,os(o,function(e){e.r=Math.sqrt(e.value)}),os(o,Wi);var u=n[0],a=n[1],f=Math.max(2*o.r/u,2*o.r/a);if(t>0){var l=t*f/2;os(o,function(e){e.r+=l}),os(o,Wi),os(o,function(e){e.r-=l}),f=Math.max(2*o.r/u,2*o.r/a)}return $i(o,u/2,a/2,1/f),s}var e=d3.layout.hierarchy().sort(qi),t=0,n=[1,1];return r.size=function(e){return arguments.length?(n=e,r):n},r.padding=function(e){return arguments.length?(t=+e,r):t},Hi(r,e)},d3.layout.cluster=function(){function r(r,i){var s=e.call(this,r,i),o=s[0],u,a=0;os(o,function(e){var n=e.children;n&&n.length?(e.x=Qi(n),e.y=Ki(n)):(e.x=u?a+=t(e,u):0,e.y=0,u=e)});var f=Gi(o),l=Yi(o),c=f.x-t(f,l)/2,h=l.x+t(l,f)/2;return os(o,function(e){e.x=(e.x-c)/(h-c)*n[0],e.y=(1-(o.y?e.y/o.y:1))*n[1]}),s}var e=d3.layout.hierarchy().sort(null).value(null),t=Zi,n=[1,1];return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(e){return arguments.length?(n=e,r):n},Hi(r,e)},d3.layout.tree=function(){function r(r,i){function u(e,n){var r=e.children,i=e._tree;if(r&&(s=r.length)){var s,o=r[0],a,l=o,c,h=-1;while(++h<s)c=r[h],u(c,a),l=f(c,a,l),a=c;us(e);var p=.5*(o._tree.prelim+c._tree.prelim);n?(i.prelim=n._tree.prelim+t(e,n),i.mod=i.prelim-p):i.prelim=p}else n&&(i.prelim=n._tree.prelim+t(e,n))}function a(e,t){e.x=e._tree.prelim+t;var n=e.children;if(n&&(i=n.length)){var r=-1,i;t+=e._tree.mod;while(++r<i)a(n[r],t)}}function f(e,n,r){if(n){var i=e,s=e,o=n,u=e.parent.children[0],a=i._tree.mod,f=s._tree.mod,l=o._tree.mod,c=u._tree.mod,h;while(o=ts(o),i=es(i),o&&i)u=es(u),s=ts(s),s._tree.ancestor=e,h=o._tree.prelim+l-i._tree.prelim-a+t(o,i),h>0&&(as(fs(o,e,r),e,h),a+=h,f+=h),l+=o._tree.mod,a+=i._tree.mod,c+=u._tree.mod,f+=s._tree.mod;o&&!ts(s)&&(s._tree.thread=o,s._tree.mod+=l-f),i&&!es(u)&&(u._tree.thread=i,u._tree.mod+=a-c,r=e)}return r}var s=e.call(this,r,i),o=s[0];os(o,function(e,t){e._tree={ancestor:e,prelim:0,mod:0,change:0,shift:0,number:t?t._tree.number+1:0}}),u(o),a(o,-o._tree.prelim);var l=ns(o,is),c=ns(o,rs),h=ns(o,ss),p=l.x-t(l,c)/2,d=c.x+t(c,l)/2,v=h.depth||1;return os(o,function(e){e.x=(e.x-p)/(d-p)*n[0],e.y=e.depth/v*n[1],delete e._tree}),s}var e=d3.layout.hierarchy().sort(null).value(null),t=Zi,n=[1,1];return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(e){return arguments.length?(n=e,r):n},Hi(r,e)},d3.layout.treemap=function(){function f(e,t){var n=-1,r=e.length,i,s;while(++n<r)s=(i=e[n]).value*(t<0?0:t),i.area=isNaN(s)||s<=0?0:s}function l(e){var t=e.children;if(t&&t.length){var n=i(e),r=[],s=t.slice(),o,a=Infinity,c,d=u==="slice"?n.dx:u==="dice"?n.dy:u==="slice-dice"?e.depth&1?n.dy:n.dx:Math.min(n.dx,n.dy),v;f(s,n.dx*n.dy/e.value),r.area=0;while((v=s.length)>0)r.push(o=s[v-1]),r.area+=o.area,u!=="squarify"||(c=h(r,d))<=a?(s.pop(),a=c):(r.area-=r.pop().area,p(r,d,n,!1),d=Math.min(n.dx,n.dy),r.length=r.area=0,a=Infinity);r.length&&(p(r,d,n,!0),r.length=r.area=0),t.forEach(l)}}function c(e){var t=e.children;if(t&&t.length){var n=i(e),r=t.slice(),s,o=[];f(r,n.dx*n.dy/e.value),o.area=0;while(s=r.pop())o.push(s),o.area+=s.area,s.z!=null&&(p(o,s.z?n.dx:n.dy,n,!r.length),o.length=o.area=0);t.forEach(c)}}function h(e,t){var n=e.area,r,i=0,s=Infinity,o=-1,u=e.length;while(++o<u){if(!(r=e[o].area))continue;r<s&&(s=r),r>i&&(i=r)}return n*=n,t*=t,n?Math.max(t*i*a/n,n/(t*s*a)):Infinity}function p(e,n,r,i){var s=-1,o=e.length,u=r.x,a=r.y,f=n?t(e.area/n):0,l;if(n==r.dx){if(i||f>r.dy)f=r.dy;while(++s<o)l=e[s],l.x=u,l.y=a,l.dy=f,u+=l.dx=Math.min(r.x+r.dx-u,f?t(l.area/f):0);l.z=!0,l.dx+=r.x+r.dx-u,r.y+=f,r.dy-=f}else{if(i||f>r.dx)f=r.dx;while(++s<o)l=e[s],l.x=u,l.y=a,l.dx=f,a+=l.dy=Math.min(r.y+r.dy-a,f?t(l.area/f):0);l.z=!1,l.dy+=r.y+r.dy-a,r.x+=f,r.dx-=f}}function d(t){var r=o||e(t),i=r[0];return i.x=0,i.y=0,i.dx=n[0],i.dy=n[1],o&&e.revalue(i),f([i],i.dx*i.dy/i.value),(o?c:l)(i),s&&(o=r),r}var e=d3.layout.hierarchy(),t=Math.round,n=[1,1],r=null,i=ls,s=!1,o,u="squarify",a=.5*(1+Math.sqrt(5));return d.size=function(e){return arguments.length?(n=e,d):n},d.padding=function(e){function t(t){var n=e.call(d,t,t.depth);return n==null?ls(t):cs(t,typeof n=="number"?[n,n,n,n]:n)}function n(t){return cs(t,e)}if(!arguments.length)return r;var s;return i=(r=e)==null?ls:(s=typeof e)==="function"?t:s==="number"?(e=[e,e,e,e],n):n,d},d.round=function(e){return arguments.length?(t=e?Math.round:Number,d):t!=Number},d.sticky=function(e){return arguments.length?(s=e,o=null,d):s},d.ratio=function(e){return arguments.length?(a=e,d):a},d.mode=function(e){return arguments.length?(u=e+"",d):u},Hi(d,e)},d3.csv=hs(",","text/csv"),d3.tsv=hs("	","text/tab-separated-values"),d3.geo={},d3.geo.stream=function(e,t){ds.hasOwnProperty(e.type)?ds[e.type](e,t):ps(e,t)};var ds={Feature:function(e,t){ps(e.geometry,t)},FeatureCollection:function(e,t){var n=e.features,r=-1,i=n.length;while(++r<i)ps(n[r].geometry,t)}},vs={Sphere:function(e,t){t.sphere()},Point:function(e,t){var n=e.coordinates;t.point(n[0],n[1])},MultiPoint:function(e,t){var n=e.coordinates,r=-1,i=n.length,s;while(++r<i)s=n[r],t.point(s[0],s[1])},LineString:function(e,t){ms(e.coordinates,t,0)},MultiLineString:function(e,t){var n=e.coordinates,r=-1,i=n.length;while(++r<i)ms(n[r],t,0)},Polygon:function(e,t){gs(e.coordinates,t)},MultiPolygon:function(e,t){var n=e.coordinates,r=-1,i=n.length;while(++r<i)gs(n[r],t)},GeometryCollection:function(e,t){var n=e.geometries,r=-1,i=n.length;while(++r<i)ps(n[r],t)}};d3.geo.albersUsa=function(){function i(e){return s(e)(e)}function s(i){var s=i[0],o=i[1];return o>50?t:s<-140?n:o<21?r:e}var e=d3.geo.albers(),t=d3.geo.albers().rotate([160,0]).center([0,60]).parallels([55,65]),n=d3.geo.albers().rotate([160,0]).center([0,20]).parallels([8,18]),r=d3.geo.albers().rotate([60,0]).center([0,10]).parallels([8,18]);return i.scale=function(s){return arguments.length?(e.scale(s),t.scale(s*.6),n.scale(s),r.scale(s*1.5),i.translate(e.translate())):e.scale()},i.translate=function(s){if(!arguments.length)return e.translate();var o=e.scale(),u=s[0],a=s[1];return e.translate(s),t.translate([u-.4*o,a+.17*o]),n.translate([u-.19*o,a+.2*o]),r.translate([u+.58*o,a+.43*o]),i},i.scale(e.scale())},(d3.geo.albers=function(){var e=29.5*a,t=45.5*a,n=Lo(ks),r=n(e,t);return r.parallels=function(r){return arguments.length?n(e=r[0]*a,t=r[1]*a):[e*f,t*f]},r.rotate([98,0]).center([0,38]).scale(1e3)}).raw=ks;var Ls=Ho(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(d3.geo.azimuthalEqualArea=function(){return ko(Ls)}).raw=Ls;var As=Ho(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},E);(d3.geo.azimuthalEquidistant=function(){return ko(As)}).raw=As,d3.geo.bounds=Os(E),d3.geo.centroid=function(e){Ms=_s=Ds=Ps=Hs=0,d3.geo.stream(e,Bs);var t;if(_s&&Math.abs(t=Math.sqrt(Ds*Ds+Ps*Ps+Hs*Hs))>u)return[Math.atan2(Ps,Ds)*f,Math.asin(Math.max(-1,Math.min(1,Hs/t)))*f]};var Ms,_s,Ds,Ps,Hs,Bs={sphere:function(){Ms<2&&(Ms=2,_s=Ds=Ps=Hs=0)},point:js,lineStart:Is,lineEnd:qs,polygonStart:function(){Ms<2&&(Ms=2,_s=Ds=Ps=Hs=0),Bs.lineStart=Fs},polygonEnd:function(){Bs.lineStart=Is}};d3.geo.circle=function(){function i(){var t=typeof e=="function"?e.apply(this,arguments):e,n=Oo(-t[0]*a,-t[1]*a,0).invert,i=[];return r(null,null,1,{point:function(e,t){i.push(e=n(e,t)),e[0]*=f,e[1]*=f}}),{type:"Polygon",coordinates:[i]}}var e=[0,0],t,n=6,r;return i.origin=function(t){return arguments.length?(e=t,i):e},i.angle=function(e){return arguments.length?(r=Rs((t=+e)*a,n*a),i):t},i.precision=function(e){return arguments.length?(r=Rs(t*a,(n=+e)*a),i):n},i.angle(90)};var Qs=zs(S,Gs,Zs);(d3.geo.equirectangular=function(){return ko(no).scale(250/o)}).raw=no.invert=no;var ro=Ho(function(e){return 1/e},Math.atan);(d3.geo.gnomonic=function(){return ko(ro)}).raw=ro,d3.geo.graticule=function(){function l(){return{type:"MultiLineString",coordinates:c()}}function c(){return d3.range(Math.ceil(t/i)*i,e,i).map(o).concat(d3.range(Math.ceil(r/s)*s,n,s).map(a))}var e,t,n,r,i=22.5,s=i,o,a,f=2.5;return l.lines=function(){return c().map(function(e){return{type:"LineString",coordinates:e}})},l.outline=function(){return{type:"Polygon",coordinates:[o(t).concat(a(n).slice(1),o(e).reverse().slice(1),a(r).reverse().slice(1))]}},l.extent=function(i){return arguments.length?(t=+i[0][0],e=+i[1][0],r=+i[0][1],n=+i[1][1],t>e&&(i=t,t=e,e=i),r>n&&(i=r,r=n,n=i),l.precision(f)):[[t,r],[e,n]]},l.step=function(e){return arguments.length?(i=+e[0],s=+e[1],l):[i,s]},l.precision=function(i){return arguments.length?(f=+i,o=io(r,n,f),a=so(t,e,f),l):f},l.extent([[-180+u,-90+u],[180-u,90-u]])},d3.geo.interpolate=function(e,t){return oo(e[0]*a,e[1]*a,t[0]*a,t[1]*a)},d3.geo.greatArc=function(){function o(){var o=t||e.apply(this,arguments),u=r||n.apply(this,arguments),a=s||d3.geo.interpolate(o,u),f=0,l=i/a.distance,c=[o];while((f+=l)<1)c.push(a(f));return c.push(u),{type:"LineString",coordinates:c}}var e=c,t,n=l,r,i=6*a,s;return o.distance=function(){return(s||d3.geo.interpolate(t||e.apply(this,arguments),r||n.apply(this,arguments))).distance},o.source=function(n){return arguments.length?(e=n,t=typeof n=="function"?null:n,s=t&&r?d3.geo.interpolate(t,r):null,o):e},o.target=function(e){return arguments.length?(n=e,r=typeof e=="function"?null:e,s=t&&r?d3.geo.interpolate(t,r):null,o):n},o.precision=function(e){return arguments.length?(i=e*a,o):i/a},o},uo.invert=function(e,t){return[2*o*e,2*Math.atan(Math.exp(2*o*t))-o/2]},(d3.geo.mercator=function(){return ko(uo).scale(500)}).raw=uo;var ao=Ho(function(){return 1},Math.asin);(d3.geo.orthographic=function(){return ko(ao)}).raw=ao,d3.geo.path=function(){function s(t){return t&&d3.geo.stream(t,r(i.pointRadius(typeof e=="function"?+e.apply(this,arguments):e))),i.result()}var e=4.5,t,n,r,i;return s.area=function(e){return po=0,d3.geo.stream(e,r(mo)),po},s.centroid=function(e){return Ms=Ds=Ps=Hs=0,d3.geo.stream(e,r(yo)),Hs?[Ds/Hs,Ps/Hs]:undefined},s.bounds=function(e){return Os(r)(e)},s.projection=function(e){return arguments.length?(r=(t=e)?e.stream||lo(e):E,s):t},s.context=function(e){return arguments.length?(i=(n=e)==null?new co:new ho(e),s):n},s.pointRadius=function(t){return arguments.length?(e=typeof t=="function"?t:+t,s):e},s.projection(d3.geo.albersUsa()).context(null)};var po,vo,mo={point:qn,lineStart:qn,lineEnd:qn,polygonStart:function(){vo=0,mo.lineStart=go},polygonEnd:function(){mo.lineStart=mo.lineEnd=mo.point=qn,po+=Math.abs(vo/2)}},yo={point:bo,lineStart:wo,lineEnd:Eo,polygonStart:function(){yo.lineStart=So},polygonEnd:function(){yo.point=bo,yo.lineStart=wo,yo.lineEnd=Eo}};d3.geo.area=function(e){return xo=0,d3.geo.stream(e,No),xo};var xo,To,No={sphere:function(){xo+=4*o},point:qn,lineStart:qn,lineEnd:qn,polygonStart:function(){To=0,No.lineStart=Co},polygonEnd:function(){xo+=To<0?4*o+To:To,No.lineStart=No.lineEnd=No.point=qn}};d3.geo.projection=ko,d3.geo.projectionMutator=Lo;var Po=Ho(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(d3.geo.stereographic=function(){return ko(Po)}).raw=Po,d3.geom={},d3.geom.hull=function(e){if(e.length<3)return[];var t=e.length,n=t-1,r=[],i=[],s,o,u=0,a,f,l,c,h,p,d,v;for(s=1;s<t;++s)e[s][1]<e[u][1]?u=s:e[s][1]==e[u][1]&&(u=e[s][0]<e[u][0]?s:u);for(s=0;s<t;++s){if(s===u)continue;f=e[s][1]-e[u][1],a=e[s][0]-e[u][0],r.push({angle:Math.atan2(f,a),index:s})}r.sort(function(e,t){return e.angle-t.angle}),d=r[0].angle,p=r[0].index,h=0;for(s=1;s<n;++s)o=r[s].index,d==r[s].angle?(a=e[p][0]-e[u][0],f=e[p][1]-e[u][1],l=e[o][0]-e[u][0],c=e[o][1]-e[u][1],a*a+f*f>=l*l+c*c?r[s].index=-1:(r[h].index=-1,d=r[s].angle,h=s,p=o)):(d=r[s].angle,h=s,p=o);i.push(u);for(s=0,o=0;s<2;++o)r[o].index!==-1&&(i.push(r[o].index),s++);v=i.length;for(;o<n;++o){if(r[o].index===-1)continue;while(!Bo(i[v-2],i[v-1],r[o].index,e))--v;i[v++]=r[o].index}var m=[];for(s=0;s<v;++s)m.push(e[i[s]]);return m},d3.geom.polygon=function(e){return e.area=function(){var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];while(++t<n)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r*.5},e.centroid=function(t){var n=-1,r=e.length,i=0,s=0,o,u=e[r-1],a;arguments.length||(t=-1/(6*e.area()));while(++n<r)o=u,u=e[n],a=o[0]*u[1]-u[0]*o[1],i+=(o[0]+u[0])*a,s+=(o[1]+u[1])*a;return[i*t,s*t]},e.clip=function(t){var n,r=-1,i=e.length,s,o,u=e[i-1],a,f,l;while(++r<i){n=t.slice(),t.length=0,a=e[r],f=n[(o=n.length)-1],s=-1;while(++s<o)l=n[s],jo(l,u,a)?(jo(f,u,a)||t.push(Fo(f,l,u,a)),t.push(l)):jo(f,u,a)&&t.push(Fo(f,l,u,a)),f=l;u=a}return t},e},d3.geom.voronoi=function(e){var t=e.map(function(){return[]}),n=1e6;return qo(e,function(e){var r,i,s,o,u,a;e.a===1&&e.b>=0?(r=e.ep.r,i=e.ep.l):(r=e.ep.l,i=e.ep.r),e.a===1?(u=r?r.y:-n,s=e.c-e.b*u,a=i?i.y:n,o=e.c-e.b*a):(s=r?r.x:-n,u=e.c-e.a*s,o=i?i.x:n,a=e.c-e.a*o);var f=[s,u],l=[o,a];t[e.region.l.index].push(f,l),t[e.region.r.index].push(f,l)}),t=t.map(function(t,n){var r=e[n][0],i=e[n][1],s=t.map(function(e){return Math.atan2(e[0]-r,e[1]-i)});return d3.range(t.length).sort(function(e,t){return s[e]-s[t]}).filter(function(e,t,n){return!t||s[e]-s[n[t-1]]>u}).map(function(e){return t[e]})}),t.forEach(function(t,r){var i=t.length;if(!i)return t.push([-n,-n],[-n,n],[n,n],[n,-n]);if(i>2)return;var s=e[r],o=t[0],a=t[1],f=s[0],l=s[1],c=o[0],h=o[1],p=a[0],d=a[1],v=Math.abs(p-c),m=d-h;if(Math.abs(m)<u){var g=l<h?-n:n;t.push([-n,g],[n,g])}else if(v<u){var y=f<c?-n:n;t.push([y,-n],[y,n])}else{var g=(p-c)*(h-l)<(c-f)*(d-h)?n:-n,b=Math.abs(m)-v;Math.abs(b)<u?t.push([m<0?g:-g,g]):(b>0&&(g*=-1),t.push([-n,g],[n,g]))}}),t};var Io={l:"r",r:"l"};d3.geom.delaunay=function(e){var t=e.map(function(){return[]}),n=[];return qo(e,function(n){t[n.region.l.index].push(e[n.region.r.index])}),t.forEach(function(t,r){var i=e[r],s=i[0],o=i[1];t.forEach(function(e){e.angle=Math.atan2(e[0]-s,e[1]-o)}),t.sort(function(e,t){return e.angle-t.angle});for(var u=0,a=t.length-1;u<a;u++)n.push([i,t[u],t[u+1]])}),n},d3.geom.quadtree=function(e,t,n,r,i){function l(e,t,n,r,i,s){if(isNaN(t.x)||isNaN(t.y))return;if(e.leaf){var o=e.point;o?Math.abs(o.x-t.x)+Math.abs(o.y-t.y)<.01?c(e,t,n,r,i,s):(e.point=null,c(e,o,n,r,i,s),c(e,t,n,r,i,s)):e.point=t}else c(e,t,n,r,i,s)}function c(e,t,n,r,i,s){var o=(n+i)*.5,u=(r+s)*.5,a=t.x>=o,f=t.y>=u,c=(f<<1)+a;e.leaf=!1,e=e.nodes[c]||(e.nodes[c]=Ro()),a?n=o:i=o,f?r=u:s=u,l(e,t,n,r,i,s)}var s,o=-1,u=e.length;if(arguments.length<5)if(arguments.length===3)i=n,r=t,n=t=0;else{t=n=Infinity,r=i=-Infinity;while(++o<u)s=e[o],s.x<t&&(t=s.x),s.y<n&&(n=s.y),s.x>r&&(r=s.x),s.y>i&&(i=s.y)}var a=r-t,f=i-n;a>f?i=n+a:r=t+f;var h=Ro();return h.add=function(e){l(h,e,t,n,r,i)},h.visit=function(e){Uo(e,h,t,n,r,i)},e.forEach(h.add),h},d3.time={};var zo=Date,Wo=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];Xo.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Vo.setUTCDate.apply(this._,arguments)},setDay:function(){Vo.setUTCDay.apply(this._,arguments)},setFullYear:function(){Vo.setUTCFullYear.apply(this._,arguments)},setHours:function(){Vo.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Vo.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Vo.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Vo.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Vo.setUTCSeconds.apply(this._,arguments)},setTime:function(){Vo.setTime.apply(this._,arguments)}};var Vo=Date.prototype,$o="%a %b %e %X %Y",Jo="%m/%d/%Y",Ko="%H:%M:%S",Qo=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Go=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Yo=["January","February","March","April","May","June","July","August","September","October","November","December"],Zo=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];d3.time.format=function(e){function n(n){var r=[],i=-1,s=0,o,u,a;while(++i<t)if(e.charCodeAt(i)===37){r.push(e.substring(s,i)),(u=lu[o=e.charAt(++i)])!=null&&(o=e.charAt(++i));if(a=cu[o])o=a(n,u==null?o==="e"?" ":"0":u);r.push(o),s=i+1}return r.push(e.substring(s,i)),r.join("")}var t=e.length;return n.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},r=eu(n,e,t,0);if(r!=t.length)return null;"p"in n&&(n.H=n.H%12+n.p*12);var i=new zo;return i.setFullYear(n.y,n.m,n.d),i.setHours(n.H,n.M,n.S,n.L),i},n.toString=function(){return e},n};var iu=tu(Qo),su=tu(Go),ou=tu(Yo),uu=nu(Yo),au=tu(Zo),fu=nu(Zo),lu={"-":"",_:" ",0:"0"},cu={a:function(e){return Go[e.getDay()]},A:function(e){return Qo[e.getDay()]},b:function(e){return Zo[e.getMonth()]},B:function(e){return Yo[e.getMonth()]},c:d3.time.format($o),d:function(e,t){return ru(e.getDate(),t,2)},e:function(e,t){return ru(e.getDate(),t,2)},H:function(e,t){return ru(e.getHours(),t,2)},I:function(e,t){return ru(e.getHours()%12||12,t,2)},j:function(e,t){return ru(1+d3.time.dayOfYear(e),t,3)},L:function(e,t){return ru(e.getMilliseconds(),t,3)},m:function(e,t){return ru(e.getMonth()+1,t,2)},M:function(e,t){return ru(e.getMinutes(),t,2)},p:function(e){return e.getHours()>=12?"PM":"AM"},S:function(e,t){return ru(e.getSeconds(),t,2)},U:function(e,t){return ru(d3.time.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return ru(d3.time.mondayOfYear(e),t,2)},x:d3.time.format(Jo),X:d3.time.format(Ko),y:function(e,t){return ru(e.getFullYear()%100,t,2)},Y:function(e,t){return ru(e.getFullYear()%1e4,t,4)},Z:_u,"%":function(){return"%"}},hu={a:pu,A:du,b:vu,B:mu,c:gu,d:Tu,e:Tu,H:Nu,I:Nu,L:Lu,m:xu,M:Cu,p:Ou,S:ku,x:yu,X:bu,y:Eu,Y:wu},Au=/^\s*\d+/,Mu=d3.map({am:0,pm:1});d3.time.format.utc=function(e){function n(e){try{zo=Xo;var n=new zo;return n._=e,t(n)}finally{zo=Date}}var t=d3.time.format(e);return n.parse=function(e){try{zo=Xo;var n=t.parse(e);return n&&n._}finally{zo=Date}},n.toString=t.toString,n};var Du=d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");d3.time.format.iso=Date.prototype.toISOString?Pu:Du,Pu.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Pu.toString=Du.toString,d3.time.second=Hu(function(e){return new zo(Math.floor(e/1e3)*1e3)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*1e3)},function(e){return e.getSeconds()}),d3.time.seconds=d3.time.second.range,d3.time.seconds.utc=d3.time.second.utc.range,d3.time.minute=Hu(function(e){return new zo(Math.floor(e/6e4)*6e4)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*6e4)},function(e){return e.getMinutes()}),d3.time.minutes=d3.time.minute.range,d3.time.minutes.utc=d3.time.minute.utc.range,d3.time.hour=Hu(function(e){var t=e.getTimezoneOffset()/60;return new zo((Math.floor(e/36e5-t)+t)*36e5)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*36e5)},function(e){return e.getHours()}),d3.time.hours=d3.time.hour.range,d3.time.hours.utc=d3.time.hour.utc.range,d3.time.day=Hu(function(e){var t=new zo(1970,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),d3.time.days=d3.time.day.range,d3.time.days.utc=d3.time.day.utc.range,d3.time.dayOfYear=function(e){var t=d3.time.year(e);return Math.floor((e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5)},Wo.forEach(function(e,t){e=e.toLowerCase(),t=7-t;var n=d3.time[e]=Hu(function(e){return(e=d3.time.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+Math.floor(t)*7)},function(e){var n=d3.time.year(e).getDay();return Math.floor((d3.time.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});d3.time[e+"s"]=n.range,d3.time[e+"s"].utc=n.utc.range,d3.time[e+"OfYear"]=function(e){var n=d3.time.year(e).getDay();return Math.floor((d3.time.dayOfYear(e)+(n+t)%7)/7)}}),d3.time.week=d3.time.sunday,d3.time.weeks=d3.time.sunday.range,d3.time.weeks.utc=d3.time.sunday.utc.range,d3.time.weekOfYear=d3.time.sundayOfYear,d3.time.month=Hu(function(e){return e=d3.time.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),d3.
time.months=d3.time.month.range,d3.time.months.utc=d3.time.month.utc.range,d3.time.year=Hu(function(e){return e=d3.time.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),d3.time.years=d3.time.year.range,d3.time.years.utc=d3.time.year.utc.range;var zu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Wu=[[d3.time.second,1],[d3.time.second,5],[d3.time.second,15],[d3.time.second,30],[d3.time.minute,1],[d3.time.minute,5],[d3.time.minute,15],[d3.time.minute,30],[d3.time.hour,1],[d3.time.hour,3],[d3.time.hour,6],[d3.time.hour,12],[d3.time.day,1],[d3.time.day,2],[d3.time.week,1],[d3.time.month,1],[d3.time.month,3],[d3.time.year,1]],Xu=[[d3.time.format("%Y"),S],[d3.time.format("%B"),function(e){return e.getMonth()}],[d3.time.format("%b %d"),function(e){return e.getDate()!=1}],[d3.time.format("%a %d"),function(e){return e.getDay()&&e.getDate()!=1}],[d3.time.format("%I %p"),function(e){return e.getHours()}],[d3.time.format("%I:%M"),function(e){return e.getMinutes()}],[d3.time.format(":%S"),function(e){return e.getSeconds()}],[d3.time.format(".%L"),function(e){return e.getMilliseconds()}]],Vu=d3.scale.linear(),$u=qu(Xu);Wu.year=function(e,t){return Vu.domain(e.map(Uu)).ticks(t).map(Ru)},d3.time.scale=function(){return ju(d3.scale.linear(),Wu,$u)};var Ju=Wu.map(function(e){return[e[0].utc,e[1]]}),Ku=[[d3.time.format.utc("%Y"),S],[d3.time.format.utc("%B"),function(e){return e.getUTCMonth()}],[d3.time.format.utc("%b %d"),function(e){return e.getUTCDate()!=1}],[d3.time.format.utc("%a %d"),function(e){return e.getUTCDay()&&e.getUTCDate()!=1}],[d3.time.format.utc("%I %p"),function(e){return e.getUTCHours()}],[d3.time.format.utc("%I:%M"),function(e){return e.getUTCMinutes()}],[d3.time.format.utc(":%S"),function(e){return e.getUTCSeconds()}],[d3.time.format.utc(".%L"),function(e){return e.getUTCMilliseconds()}]],Qu=qu(Ku);Ju.year=function(e,t){return Vu.domain(e.map(Yu)).ticks(t).map(Gu)},d3.time.scale.utc=function(){return ju(d3.scale.linear(),Ju,Qu)}}(),window.Rewindr={Models:{},Collections:{},Views:{},Routers:{},initialize:function(){new Rewindr.Routers.Mains,Backbone.history.start()}},$(document).ready(function(){Rewindr.initialize()}),function(){$(function(){var e,t,n;return e={lines:13,length:7,width:6,radius:15,corners:1,rotate:0,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"auto",left:"auto"},n=document.getElementById("spinner-location"),t=new Spinner(e),$(document).on({ajaxStart:function(){return $(n).show(),t.spin(n)},ajaxStop:function(){return $(n).hide(),t.stop()}})})}.call(this),function(){$(function(){return $("#api").rdio("GAlNi78J_____zlyYWs5ZG02N2pkaHlhcWsyOWJtYjkyN2xvY2FsaG9zdEbwl7EHvbylWSWFWYMZwfc=")})}.call(this),jQuery(function(){function f(){u+=604800,a+=604800}function l(){u-=604800,a-=604800}function c(e){$.ajax("/tracks",{data:{user_name:gon.user_name,limit:o,from:u,to:a},success:e,error:function(){alert("noo")},dataType:"json"})}function h(e){var n=d3.select("svg").selectAll("image").data(e,function(e){return parseInt(e.date.uts)});n.enter().append("image").attr("class","enter").attr("x",function(e,t){return Math.floor(t/s.y)*r}).attr("y",function(e,n){return n%s.y*r-t}).attr("width",r).attr("height",r).attr("xlink:href",function(e){return e.image[2].content||"http://img.pokemondb.net/artwork/unown.jpg"}).popover(function(e,t){var n=d3.select(document.createElement("svg")).attr("height",70),i=d3.select(this),o=n.append("g");return o.append("text").text("Artist: "+e.artist.content).attr("dy","40").attr("y","-20"),o.append("text").text("Album: "+e.album.content).attr("dy","40").attr("y","0"),o.append("text").text("Date: "+e.date.content).attr("dy","40").attr("y","20"),{title:e.name,content:n,placement:"fixed",gravity:"right",position:[Math.floor(t/s.y)*r,t%s.y*r],displacement:[-r/2,r],mousemove:!1,mouseover:function(e,t){i.transition().duration(200).attr("width",r*1.2).attr("height",r*1.2)},mouseout:function(e,t){i.transition().duration(200).attr("width",r).attr("height",r)},click:d}}).transition().duration(750).delay(function(e,t){return t*15}).attr("y",function(e,t){return t%s.y*r})}function p(t,n){var o=d3.select("svg").selectAll("image").data(t,function(e){return parseInt(e.date.uts)});i=!1,o.enter().append("image").attr("class","enter").attr("x",function(t,i){return Math.floor(i/s.y)*r-e*n}).attr("y",function(e,t){return t%s.y*r}).attr("width",r).attr("height",r).attr("xlink:href",function(e){return e.image[2].content||"http://img.pokemondb.net/artwork/unown.jpg"}).popover(function(e,t){var n=d3.select(document.createElement("svg")).attr("height",70),i=d3.select(this),o=n.append("g");return o.append("text").text("Artist: "+e.artist.content).attr("dy","40").attr("y","-20"),o.append("text").text("Album: "+e.album.content).attr("dy","40").attr("y","0"),o.append("text").text("Date: "+e.date.content).attr("dy","40").attr("y","20"),{title:e.name,content:n,placement:"fixed",gravity:"right",position:[Math.floor(t/s.y)*r,t%s.y*r],displacement:[-r/2,r],mousemove:!1,mouseover:function(e,t){i.transition().duration(200).attr("width",r*1.2).attr("height",r*1.2)},mouseout:function(e,t){i.transition().duration(200).attr("width",r).attr("height",r)},click:d}}).transition().duration(750).attr("x",function(e,t){return Math.floor(t/s.y)*r}).each("end",function(){i=!0}),o.exit().attr("class","exit").transition().duration(750).attr("x",function(t,i){return Math.floor(i/s.y)*r+e*n}).remove()}function d(e,t){$("#test_modal").modal(),console.log(e),$("#modal-image").attr("src",e.image[2].content),$("#modal-name").html(e.name),$("#modal-album").html(e.album.content),$("#modal-artist").html(e.artist.content)}function v(){return{x:n,y:Math.floor(t/r)}}var e=$("#canvas").width(),t=$("#canvas").height(),n=10,r=e/n,i=!0,s=v(),o=s.x*s.y,u=gon.from_time,a=gon.to_time;$("#leftScroll").click(function(){i&&(f(),c(function(e){p(e,1)}))}),$("#rightScroll").click(function(){i&&(l(),c(function(e){p(e,-1)}))}),c(h)}),function(){this.JST||(this.JST={}),this.JST["mains/index"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="container">\n	<div id="main" class="row-fluid">\n		<div class="span6 offset3">\n			<div id="question">\n				<h1>What were you listening to on</h1>\n				<h1>',date,'?</h1>\n			</div>\n			<div>\n				<form id="user-form" class="form-inline">\n					<input id="input-huge" type="text" placeholder="Last.fm Username">\n				</form>\n			</div>\n		</div>\n	</div>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["playlists/index"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<h3 id="header">On ',dateString,' you listened to:</h3> \n<div id="playlist" class="well">\n  <ul class="media-list">\n  </ul>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["tracks/index"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<li class="media">\n  <a class="pull-left" href="#">\n    <img class="media-object" src="',image[1].content,'">\n  </a>\n  <div class="media-body">\n    <h4 class="media-heading">',name," - ",artist.content,'</h4>\n  </div>\n  <div>\n  	<i class="icon-play"></i>\n  	<i class="icon-stop"></i>\n  	<span class="play-time">00.00</span>\n  </div>\n  <div class="time-info">\n    <span><em>at ',playedTime,"<em></span>\n  </div>\n</li>\n");return __p.join("")}}.call(this),Rewindr.Models.Main=Backbone.Model.extend({}),Rewindr.Models.Playlist=Backbone.Model.extend({}),Rewindr.Models.Track=Backbone.Model.extend({}),Rewindr.Collections.Mains=Backbone.Collection.extend({model:Rewindr.Models.Main}),Rewindr.Collections.Playlists=Backbone.Collection.extend({model:Rewindr.Models.Playlist,initialize:function(){this.url="/playlist"}}),Rewindr.Collections.Tracks=Backbone.Collection.extend({model:Rewindr.Models.Track,initialize:function(){this.url="tracks"}}),Rewindr.Views.MainsIndex=Backbone.View.extend({template:JST["mains/index"],events:{"submit #user-form":"handleEnter"},handleEnter:function(e){e.preventDefault();var t=$("#input-huge").val();Backbone.history.navigate("playlist/"+t,{trigger:!0})},render:function(){var e={0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"},t=new Date,n=e[t.getMonth()]+" "+t.getDate()+", "+(t.getFullYear()-1);return $(this.el).html(this.template({date:n})),this}}),Rewindr.Views.PlaylistView=Backbone.View.extend({el:"div",template:JST["playlist/index"],initialize:function(){this.collection=this.options.tracks},render:function(){return this.collection.each(function(e){var t=new Rewindr.Views.TrackListItem({model:e}),n=t.render();$(this.el).append(n)}),this}}),Rewindr.Views.TrackListItem=Backbone.View.extend({template:JST["tracks/index"],render:function(){var e=new Date(this.model.attributes.date.content),t=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),n=e.getHours()<12?e.getHours()+":"+t+" am":e.getHours()-12+":"+t+" pm",r=$(this.template(_.extend(this.model.attributes,{playedTime:n}))),i=r.children().children(".icon-play"),s=r.children().children(".icon-stop"),o=r.children().children(".media-heading").html();return i.click(function(){$(i).toggleClass("icon-play");var e=o.split(" - ");$.ajax("/echonest/rdio_song_id",{data:{title:e[0],artist:e[1]},success:function(e){console.log(e),$("#api").rdio().play(e.rdio_song_id)},error:function(){alert("oh my god what have you done this is awful")}}),$(i).toggleClass("icon-pause")}),s.click(function(){}),$(this.el).html(r),this}}),Rewindr.Views.TracksIndex=Backbone.View.extend({template:JST["playlists/index"],initialize:function(){this.collection=this.options.tracks,this.userName=this.options.user},render:function(){if(this.collection.models.length===10)return $(this.el).children().children().append("<div>no songs</div>"),this;var e={0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"},t=new Date,n=e[t.getMonth()]+" "+t.getDate()+", "+(t.getFullYear()-1);$(this.el).html(this.template({dateString:n}));var r=this;this.collection.each(function(e){var t=new Rewindr.Views.TrackListItem({model:e}),n=t.render().el;$(r.el).children().children().append(n),$(r.el).children().children().append($("<hr>"))});if(this.collection.models.length===10){var i=$("<button id='show-more' class='btn' type='button'>Show more</button>");i.click(function(){r.clickHandler(r)}),$(this.el).children().children().append(i)}return this}}),Rewindr.Routers.Mains=Backbone.Router.extend({routes:{"":"index","playlist/:userName":"playlist"},index:function(){var e=new Rewindr.Views.MainsIndex;$("#container").html(e.render().el);var t=document.getElementById("input-huge");t&&t.focus()},playlist:function(e){var t=new Rewindr.Collections.Tracks;t.fetch({data:{user_name:e,page:1},success:function(t,n,r){var i=new Rewindr.Views.TracksIndex({tracks:t,user:e}),s=i.render().el;$("#container").html(s)},error:function(){$("container").html("There was an error.")}})}}),Rewindr.Routers.Playlists=Backbone.Router.extend({}),Rewindr.Routers.Tracks=Backbone.Router.extend({}),!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s;this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,this.options.trigger=="click"?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):this.options.trigger!="manual"&&(i=this.options.trigger=="hover"?"mouseenter":"focus",s=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,t,this.$element.data()),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(!n.options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},show:function(){var e,t,n,r,i,s,o;if(this.hasContent()&&this.enabled){e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),s=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(s),e.detach().css({top:0,left:0,display:"block"}).insertAfter(this.$element),n=this.getPosition(t),r=e[0].offsetWidth,i=e[0].offsetHeight;switch(t?s.split(" ")[1]:s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}e.offset(o).addClass(s).addClass("in")}},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function r(){var t=setTimeout(function(){n.off(e.support.transition.end).detach()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.detach()})}var t=this,n=this.tip();return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?r():n.detach(),this},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);n[n.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;i||r.data("tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-content")||(typeof n.content=="function"?n.content.call(t[0]):n.content),e},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("popover"),s=typeof n=="object"&&n;i||r.data("popover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"></div></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),function(){jQuery(function(){return $("a[rel=popover]").popover(),$(".tooltip").tooltip(),$("a[rel=tooltip]").tooltip()})}.call(this),!function(e){var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s;this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,this.options.trigger=="click"?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):this.options.trigger!="manual"&&(i=this.options.trigger=="hover"?"mouseenter":"focus",s=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,t,this.$element.data()),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(!n.options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},show:function(){var e,t,n,r,i,s,o;if(this.hasContent()&&this.enabled){e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),s=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(s),e.detach().css({top:0,left:0,display:"block"}).insertAfter(this.$element),n=this.getPosition(t),r=e[0].offsetWidth,i=e[0].offsetHeight;switch(t?s.split(" ")[1]:s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}e.offset(o).addClass(s).addClass("in")}},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){r.off(e.support.transition.end).detach()},500);r.one(e.support.transition.end,function(){clearTimeout(t),r.detach()})}var n=this,r=this.tip();return r.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():r.detach(),this},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);n[n.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;i||r.data("tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),!function(e){var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-content")||(typeof n.content=="function"?n.content.call(t[0]):n.content),e},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("popover"),s=typeof n=="object"&&n;i||r.data("popover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"></div></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),function(){var e;e=function(e,t){var n,r;return n=d3.select(this),r=function(t){var n,r;return n=[0,0],e.placement==="mouse"?n=d3.mouse(body.node()):(r=this.ownerSVGElement.getBoundingClientRect(),n[0]=r.left,n[1]=r.top,n[0]+=e.position[0],n[1]+=e.position[1],n[0]+=window.scrollX,n[1]+=window.scrollY),n[0]+=e.displacement[0],n[1]+=e.displacement[1],t.style("left",""+n[0]+"px").style("top",""+n[1]+"px").style("display","block")},n.on("mouseover",function(n,i){var s,o;return o=t(),o.classed("annotation",!0).classed(e.gravity,!0).classed("fade",!0).style("display","none"),o.append("div").attr("class","arrow"),s=function(){return o.classed("in",!0)},setTimeout(s,10),e.mouseover&&e.mouseover(n,i),o.style("display","").call(r.bind(this))}),e.mousemove&&n.on("mousemove",function(){return d3.select(".annotation").call(r.bind(this))}),n.on("click",function(t,n){e.click&&e.click(t,n)}),n.on("mouseout",function(t,n){var r,i;return i=d3.selectAll(".annotation").classed("in",!1),r=function(){return i.remove()},e.mouseout&&e.mouseout(t,n),setTimeout(r,150)})},d3.selection.prototype.popover=function(t){var n;return n=d3.select("body"),this.each(function(r,i){var s,o;return o=t.apply(this,arguments),s=function(){var e,t;return t=n.append("div").classed("popover",!0),e=t.append("div").attr("class","popover-inner"),e.append("h3").text(o.title).attr("class","popover-title"),e.append("div").attr("class","popover-content").append("p").html(o.content[0][0].outerHTML),t},e.call(this,o,s)})},d3.selection.prototype.tooltip=function(t){var n;return n=d3.select("body"),this.each(function(r,i){var s,o;return o=t.apply(this,arguments),s=function(){var e;return e=n.append("div").classed("tooltip",!0),e.append("div").html(o.text).attr("class","tooltip-inner"),e},e.call(this,o,s)})}}(),function(){}.call(this),function(e){typeof define=="function"&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function n(){var t=r(this);return isNaN(t.datetime)||e(this).text(i(t.datetime)),this}function r(n){n=e(n);if(!n.data("timeago")){n.data("timeago",{datetime:t.datetime(n)});var r=e.trim(n.text());r.length>0&&(!t.isTime(n)||!n.attr("title"))&&n.attr("title",r)}return n.data("timeago")}function i(e){return t.inWords(s(e))}function s(e){return(new Date).getTime()-e.getTime()}e.timeago=function(t){return t instanceof Date?i(t):typeof t=="string"?i(e.timeago.parse(t)):typeof t=="number"?i(new Date(t)):i(e.timeago.datetime(t))};var t=e.timeago;e.extend(e.timeago,{settings:{refreshMillis:6e4,allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(t){function l(r,i){var s=e.isFunction(r)?r(i,t):r,o=n.numbers&&n.numbers[i]||i;return s.replace(/%d/i,o)}var n=this.settings.strings,r=n.prefixAgo,i=n.suffixAgo;this.settings.allowFuture&&t<0&&(r=n.prefixFromNow,i=n.suffixFromNow);var s=Math.abs(t)/1e3,o=s/60,u=o/60,a=u/24,f=a/365,c=s<45&&l(n.seconds,Math.round(s))||s<90&&l(n.minute,1)||o<45&&l(n.minutes,Math.round(o))||o<90&&l(n.hour,1)||u<24&&l(n.hours,Math.round(u))||u<42&&l(n.day,1)||a<30&&l(n.days,Math.round(a))||a<45&&l(n.month,1)||a<365&&l(n.months,Math.round(a/30))||f<1.5&&l(n.year,1)||l(n.years,Math.round(f)),h=n.wordSeparator||"";return n.wordSeparator===undefined&&(h=" "),e.trim([r,c,i].join(h))},parse:function(t){var n=e.trim(t);return n=n.replace(/\.\d+/,""),n=n.replace(/-/,"/").replace(/-/,"/"),n=n.replace(/T/," ").replace(/Z/," UTC"),n=n.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(n)},datetime:function(n){var r=t.isTime(n)?e(n).attr("datetime"):e(n).attr("title");return t.parse(r)},isTime:function(t){return e(t).get(0).tagName.toLowerCase()==="time"}}),e.fn.timeago=function(){var e=this;e.each(n);var r=t.settings;return r.refreshMillis>0&&setInterval(function(){e.each(n)},r.refreshMillis),e},document.createElement("abbr"),document.createElement("time")}),function(){}.call(this),function(e,t,n,r){function a(t,n){return t in e?e[t]:typeof e[n]=="function"?e[n]:function(e){if(e instanceof Array)return e;if(typeof e=="number"){var t=[];return t.length=e,t}}}function d(e){if(typeof e=="string"){var t=0;for(var i=0;i<e.length;++i)t=t*31+e.charCodeAt(i)&4294967295;return t}return typeof e!="object"?e&4294967295:e.hashCode instanceof Function?e.hashCode():(e.$id===r&&(e.$id=n.floor(n.random()*65536)-32768<<16|n.floor(n.random()*65536)),e.$id)}function v(e,t){return e===null||t===null?e===null&&t===null:typeof e=="string"?e===t:typeof e!="object"?e===t:e.equals instanceof Function?e.equals(t):e===t}function w(){}function S(e,t,n){if(!e.hasOwnProperty(t)||typeof e[t]!="function"){e[t]=n;return}var r=e[t];if("$overloads"in r){r.$defaultOverload=n;return}if(!("$overloads"in n||r.length!==n.length))return;var i,s;"$overloads"in n?(i=n.$overloads.slice(0),i[r.length]=r,s=n.$defaultOverload):(i=[],i[n.length]=n,i[r.length]=r,s=r);var o=function(){var e=o.$overloads[arguments.length]||("$methodArgsIndex"in o&&arguments.length>o.$methodArgsIndex?o.$overloads[o.$methodArgsIndex]:null)||o.$defaultOverload;return e.apply(this,arguments)};o.$overloads=i,"$methodArgsIndex"in n&&(o.$methodArgsIndex=n.$methodArgsIndex),o.$defaultOverload=s,o.name=t,e[t]=o}function x(e,t){function n(n){E.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},enumerable:!0})}var r=[];for(var i in t)typeof t[i]=="function"?S(e,i,t[i]):i.charAt(0)!=="$"&&!(i in e)&&r.push(i);while(r.length>0)n(r.shift());e.$super=t}function T(e){return typeof e!="string"?!1:["byte","int","char","color","float","long","double"].indexOf(e)!==-1}function O(e){var r=250,s=e.size/r,o=t.createElement("canvas");o.width=2*r,o.height=2*r,o.style.opacity=0;var u=e.getCSSDefinition(r+"px","normal"),a=o.getContext("2d");a.font=u;var f="dbflkhyjqpg";o.width=a.measureText(f).width,a.font=u;var l=t.createElement("div");l.style.position="absolute",l.style.opacity=0,l.style.fontFamily='"'+e.name+'"',l.style.fontSize=r+"px",l.innerHTML=f+"<br/>"+f,t.body.appendChild(l);var c=o.width,h=o.height,p=h/2;a.fillStyle="white",a.fillRect(0,0,c,h),a.fillStyle="black",a.fillText(f,0,p);var d=a.getImageData(0,0,c,h).data,v=0,m=c*4,g=d.length;while(++v<g&&d[v]===255)i();var y=n.round(v/m);v=g-1;while(--v>0&&d[v]===255)i();var b=n.round(v/m);e.ascent=s*(p-y),e.descent=s*(b-p);if(t.defaultView.getComputedStyle){var w=t.defaultView.getComputedStyle(l,null).getPropertyValue("height");w=s*w.replace("px",""),w>=e.size*2&&(e.leading=n.round(w/2))}t.body.removeChild(l);if(e.caching)return a}function M(e,t){e===r&&(e=""),this.name=e,t===r&&(t=0),this.size=t,this.glyph=!1,this.ascent=0,this.descent=0,this.leading=1.2*t;var n=e.indexOf(" Italic Bold");n!==-1&&(e=e.substring(0,n)),this.style="normal";var i=e.indexOf(" Italic");i!==-1&&(e=e.substring(0,i),this.style="italic"),this.weight="normal";var s=e.indexOf(" Bold");s!==-1&&(e=e.substring(0,s),this.weight="bold"),this.family="sans-serif";if(e!==r)switch(e){case"sans-serif":case"serif":case"monospace":case"fantasy":case"cursive":this.family=e;break;default:this.family='"'+e+'", sans-serif'}this.context2d=O(this),this.css=this.getCSSDefinition(),this.context2d&&(this.context2d.font=this.css)}function D(){var e=["abs","acos","alpha","ambient","ambientLight","append","applyMatrix","arc","arrayCopy","asin","atan","atan2","background","beginCamera","beginDraw","beginShape","bezier","bezierDetail","bezierPoint","bezierTangent","bezierVertex","binary","blend","blendColor","blit_resize","blue","box","breakShape","brightness","camera","ceil","Character","color","colorMode","concat","constrain","copy","cos","createFont","createGraphics","createImage","cursor","curve","curveDetail","curvePoint","curveTangent","curveTightness","curveVertex","day","degrees","directionalLight","disableContextMenu","dist","draw","ellipse","ellipseMode","emissive","enableContextMenu","endCamera","endDraw","endShape","exit","exp","expand","externals","fill","filter","floor","focused","frameCount","frameRate","frustum","get","glyphLook","glyphTable","green","height","hex","hint","hour","hue","image","imageMode","intersect","join","key","keyCode","keyPressed","keyReleased","keyTyped","lerp","lerpColor","lightFalloff","lights","lightSpecular","line","link","loadBytes","loadFont","loadGlyphs","loadImage","loadPixels","loadShape","loadXML","loadStrings","log","loop","mag","map","match","matchAll","max","millis","min","minute","mix","modelX","modelY","modelZ","modes","month","mouseButton","mouseClicked","mouseDragged","mouseMoved","mouseOut","mouseOver","mousePressed","mouseReleased","mouseScroll","mouseScrolled","mouseX","mouseY","name","nf","nfc","nfp","nfs","noCursor","noFill","noise","noiseDetail","noiseSeed","noLights","noLoop","norm","normal","noSmooth","noStroke","noTint","ortho","param","parseBoolean","parseByte","parseChar","parseFloat","parseInt","peg","perspective","PImage","pixels","PMatrix2D","PMatrix3D","PMatrixStack","pmouseX","pmouseY","point","pointLight","popMatrix","popStyle","pow","print","printCamera","println","printMatrix","printProjection","PShape","PShapeSVG","pushMatrix","pushStyle","quad","radians","random","Random","randomSeed","rect","rectMode","red","redraw","requestImage","resetMatrix","reverse","rotate","rotateX","rotateY","rotateZ","round","saturation","save","saveFrame","saveStrings","scale","screenX","screenY","screenZ","second","set","setup","shape","shapeMode","shared","shearX","shearY","shininess","shorten","sin","size","smooth","sort","specular","sphere","sphereDetail","splice","split","splitTokens","spotLight","sq","sqrt","status","str","stroke","strokeCap","strokeJoin","strokeWeight","subset","tan","text","textAlign","textAscent","textDescent","textFont","textLeading","textMode","textSize","texture","textureMode","textWidth","tint","toImageData","touchCancel","touchEnd","touchMove","touchStart","translate","transform","triangle","trim","unbinary","unhex","updatePixels","use3DContext","vertex","width","XMLElement","XML","year","__contains"
,"__equals","__equalsIgnoreCase","__frameRate","__hashCode","__int_cast","__instanceof","__keyPressed","__mousePressed","__printStackTrace","__replace","__replaceAll","__replaceFirst","__toCharArray","__split","__codePointAt","__startsWith","__endsWith","__matches"],t={},n,r;for(n=0,r=e.length;n<r;++n)t[e[n]]=null;for(var i in _.lib)if(_.lib.hasOwnProperty(i)&&_.lib[i].exports){var s=_.lib[i].exports;for(n=0,r=s.length;n<r;++n)t[s[n]]=null}return t}function P(e){function n(e){var t=[],n=e.split(/([\{\[\(\)\]\}])/),r=n[0],i=[];for(var s=1;s<n.length;s+=2){var o=n[s];if(o==="["||o==="{"||o==="(")i.push(r),r=o;else if(o==="]"||o==="}"||o===")"){var u=o==="}"?"A":o===")"?"B":"C",a=t.length;t.push(r+o),r=i.pop()+'"'+u+(a+1)+'"'}r+=n[s+1]}return t.unshift(r),t}function i(e,t){return e.replace(/'(\d+)'/g,function(e,n){var r=t[n];return r.charAt(0)==="/"?r:/^'((?:[^'\\\n])|(?:\\.[0-9A-Fa-f]*))'$/.test(r)?"(new $p.Character("+r+"))":r})}function s(e){var t=/^\s*/.exec(e),n;if(t[0].length===e.length)n={left:t[0],middle:"",right:""};else{var r=/\s*$/.exec(e);n={left:t[0],middle:e.substring(t[0].length,r.index),right:r[0]}}return n.untrim=function(e){return this.left+e+this.right},n}function o(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function u(e,t){for(var n=0,r=t.length;n<r;++n)e[t[n]]=null;return e}function a(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function f(e){return e.substring(2,e.length-1)}function x(e,t){var n=g.length;return g.push(e),'"'+t+n+'"'}function T(){return"class"+ ++S}function N(e,t,n){e.classId=t,e.scopeId=n,b[t]=e}function I(e){var t=e;return t=t.replace(_,function(e){return x(e,"E")}),t=t.replace(P,function(e){return x(e,"D")}),t=t.replace(F,function(e){return x(e,"H")}),t}function q(e,t){var n=e.replace(B,function(e,n,r,i,s,o){return r!==t?e:x(e,"G")});return n}function R(e){this.name=e}function U(e,t){this.params=e,this.methodArgsParam=t}function z(e){var t=o(e.substring(1,e.length-1)),n=[],r=null;if(t!==""){var i=t.split(",");for(var s=0;s<i.length;++s){var u=/\b([A-Za-z_$][\w$]*\b)(\s*"[ABC][\d]*")*\s*$/.exec(i[s]);if(s===i.length-1&&i[s].indexOf("...")>=0){r=new R(u[1]);break}n.push(new R(u[1]))}}return new U(n,r)}function W(e){function r(e,t,r,i){var o=g[i];n=!0;var u=s(o.substring(1,o.length-1));return"__"+r+(u.middle===""?x("("+t.replace(/\.\s*$/,"")+")","B"):x("("+t.replace(/\.\s*$/,"")+","+u.middle+")","B"))}function i(e,t,r){return n=!0,"__instanceof"+x("("+t+", "+r+")","B")}var t=e;t=t.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"C\d+")+\s*("A\d+")/g,function(e,t,n){return n}),t=t.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"B\d+")\s*("A\d+")/g,function(e,t,n){return x(e,"F")}),t=t.replace(F,function(e){return x(e,"H")}),t=t.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*("C\d+"(?:\s*"C\d+")*)/g,function(e,t,n){var r=n.replace(/"C(\d+)"/g,function(e,t){return g[t]}).replace(/\[\s*\]/g,"[null]").replace(/\s*\]\s*\[\s*/g,", "),i="{"+r.substring(1,r.length-1)+"}",s="('"+t+"', "+x(i,"A")+")";return"$p.createJavaArray"+x(s,"B")}),t=t.replace(/(\.\s*length)\s*"B\d+"/g,"$1"),t=t.replace(/#([0-9A-Fa-f]{6})\b/g,function(e,t){return"0xFF"+t}),t=t.replace(/"B(\d+)"(\s*(?:[\w$']|"B))/g,function(e,t,n){var r=g[t];if(!/^\(\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\s*(?:"C\d+"\s*)*\)$/.test(r))return e;if(/^\(\s*int\s*\)$/.test(r))return"(int)"+n;var i=r.split(/"C(\d+)"/g);return i.length>1&&!/^\[\s*\]$/.test(g[i[1]])?e:""+n}),t=t.replace(/\(int\)([^,\]\)\}\?\:\*\+\-\/\^\|\%\&\~<\>\=]+)/g,function(e,t){var n=s(t);return n.untrim("__int_cast("+n.middle+")")}),t=t.replace(/\bsuper(\s*"B\d+")/g,"$$superCstr$1").replace(/\bsuper(\s*\.)/g,"$$super$1"),t=t.replace(/\b0+((\d*)(?:\.[\d*])?(?:[eE][\-\+]?\d+)?[fF]?)\b/,function(e,t,n){return t===n?e:n===""?"0"+t:t}),t=t.replace(/\b(\.?\d+\.?)[fF]\b/g,"$1"),t=t.replace(/([^\s])%([^=\s])/g,"$1 % $2"),t=t.replace(/\b(frameRate|keyPressed|mousePressed)\b(?!\s*"B)/g,"__$1"),t=t.replace(/\b(boolean|byte|char|float|int)\s*"B/g,function(e,t){return"parse"+t.substring(0,1).toUpperCase()+t.substring(1)+'"B'}),t=t.replace(/\bpixels\b\s*(("C(\d+)")|\.length)?(\s*=(?!=)([^,\]\)\}]+))?/g,function(e,t,n,r,i,s){if(n){var o=g[r];return i?"pixels.setPixel"+x("("+o.substring(1,o.length-1)+","+s+")","B"):"pixels.getPixel"+x("("+o.substring(1,o.length-1)+")","B")}return t?"pixels.getLength"+x("()","B"):i?"pixels.set"+x("("+s+")","B"):"pixels.toArray"+x("()","B")});var n;do n=!1,t=t.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*\.\s*(?:[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*\.\s*)*)(replace|replaceAll|replaceFirst|contains|equals|equalsIgnoreCase|hashCode|toCharArray|printStackTrace|split|startsWith|endsWith|codePointAt|matches)\s*"B(\d+)"/g,r);while(n);do n=!1,t=t.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*(?:\.\s*[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*)*)instanceof\s+([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)/g,i);while(n);return t=t.replace(/\bthis(\s*"B\d+")/g,"$$constr$1"),t}function X(e,t){this.baseInterfaceName=e,this.body=t,t.owner=this}function V(e){var t=(new RegExp(/\bnew\s*([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)\s*"B\d+"\s*"A(\d+)"/)).exec(e),n=w,r=T();w=r;var i=t[1]+"$"+r,s=new X(i,C(g[t[2]],i,"","implements "+t[1]));return N(s,r,n),w=n,s}function $(e,t,n){this.name=e,this.params=t,this.body=n}function J(e){var t=(new RegExp(/\b([A-Za-z_$][\w$]*)\s*"B(\d+)"\s*"A(\d+)"/)).exec(e);return new $(t[1]!=="function"?t[1]:null,z(g[t[2]]),L(g[t[3]]))}function K(e){this.members=e}function Q(e){var t=e.split(",");for(var n=0;n<t.length;++n){var r=t[n].indexOf(":");r<0?t[n]={value:M(t[n])}:t[n]={label:o(t[n].substring(0,r)),value:M(o(t[n].substring(r+1)))}}return new K(t)}function G(e){if(e.charAt(0)==="("||e.charAt(0)==="[")return e.charAt(0)+G(e.substring(1,e.length-1))+e.charAt(e.length-1);if(e.charAt(0)==="{")return/^\{\s*(?:[A-Za-z_$][\w$]*|'\d+')\s*:/.test(e)?"{"+x(e.substring(1,e.length-1),"I")+"}":"["+G(e.substring(1,e.length-1))+"]";var t=s(e),n=W(t.middle);return n=n.replace(/"[ABC](\d+)"/g,function(e,t){return G(g[t])}),t.untrim(n)}function Y(e){return e.replace(/(\.\s*)?((?:\b[A-Za-z_]|\$)[\w$]*)(\s*\.\s*([A-Za-z_$][\w$]*)(\s*\()?)?/g,function(e,t,n,i,s,o){if(t)return e;var u={name:n,member:s,callSign:!!o};return y(u)+(i===r?"":i)})}function Z(e,t){this.expr=e,this.transforms=t}function et(e,t,n){this.name=e,this.value=t,this.isDefault=n}function tt(e,t){var n=e.indexOf("="),r,i,s;return n<0?(r=e,i=t,s=!0):(r=e.substring(0,n),i=M(e.substring(n+1)),s=!1),new et(o(r.replace(/(\s*"C\d+")+/g,"")),i,s)}function nt(e){return e==="int"||e==="float"?"0":e==="boolean"?"false":e==="color"?"0x00000000":"null"}function rt(e,t){this.definitions=e,this.varType=t}function it(e){this.expression=e}function st(e){if(H.test(e)){var t=j.exec(e),n=e.substring(t[0].length).split(","),r=nt(t[2]);for(var i=0;i<n.length;++i)n[i]=tt(n[i],r);return new rt(n,t[2])}return new it(M(e))}function ot(e,t,n){this.initStatement=e,this.condition=t,this.step=n}function ut(e,t){this.initStatement=e,this.container=t}function at(e,t){this.initStatement=e,this.container=t}function ft(e){var t;return/\bin\b/.test(e)?(t=e.substring(1,e.length-1).split(/\bin\b/g),new ut(st(o(t[0])),M(t[1]))):e.indexOf(":")>=0&&e.indexOf(";")<0?(t=e.substring(1,e.length-1).split(":"),new at(st(o(t[0])),M(t[1]))):(t=e.substring(1,e.length-1).split(";"),new ot(st(o(t[0])),M(t[1]),M(t[2])))}function lt(e){e.sort(function(e,t){return t.weight-e.weight})}function ct(e,t,n){this.name=e,this.body=t,this.isStatic=n,t.owner=this}function ht(e,t,n){this.name=e,this.body=t,this.isStatic=n,t.owner=this}function pt(e){var t=_.exec(e);_.lastIndex=0;var n=t[1].indexOf("static")>=0,r=g[f(t[6])],i,s=w,o=T();return w=o,t[2]==="interface"?i=new ct(t[3],k(r,t[3],t[4]),n):i=new ht(t[3],C(r,t[3],t[4],t[5]),n),N(i,o,s),w=s,i}function dt(e,t,n,r){this.name=e,this.params=t,this.body=n,this.isStatic=r}function vt(e){var t=P.exec(e);P.lastIndex=0;var n=t[1].indexOf("static")>=0,r=t[6]!==";"?g[f(t[6])]:"{}";return new dt(t[3],z(g[f(t[4])]),L(r),n)}function mt(e,t,n){this.definitions=e,this.fieldType=t,this.isStatic=n}function gt(e){var t=j.exec(e),n=t[1].indexOf("static")>=0,r=e.substring(t[0].length).split(/,\s*/g),i=nt(t[2]);for(var s=0;s<r.length;++s)r[s]=tt(r[s],i);return new mt(r,t[2],n)}function yt(e,t){this.params=e,this.body=t}function bt(e){var t=(new RegExp(/"B(\d+)"\s*"A(\d+)"/)).exec(e),n=z(g[t[1]]);return new yt(n,L(g[t[2]]))}function wt(e,t,n,r,i,s){var o,u;this.name=e,this.interfacesNames=t,this.methodsNames=n,this.fields=r,this.innerClasses=i,this.misc=s;for(o=0,u=r.length;o<u;++o)r[o].owner=this}function Et(e,t,n,r,i,s,o,u,a){var f,l;this.name=e,this.baseClassName=t,this.interfacesNames=n,this.functions=r,this.methods=i,this.fields=s,this.cstrs=o,this.innerClasses=u,this.misc=a;for(f=0,l=s.length;f<l;++f)s[f].owner=this}function St(e,t){this.name=e,this.body=t,t.owner=this}function xt(e,t){this.name=e,this.body=t,t.owner=this}function Tt(e){var t=_.exec(e);_.lastIndex=0;var n=g[f(t[6])],r=w,i=T();w=i;var s;return t[2]==="interface"?s=new St(t[3],k(n,t[3],t[4])):s=new xt(t[3],C(n,t[3],t[4],t[5])),N(s,i,r),w=r,s}function Nt(e,t,n){this.name=e,this.params=t,this.body=n}function Ct(e){var t=P.exec(e),n=P.lastIndex=0;return new Nt(t[3],z(g[f(t[4])]),L(g[f(t[6])]))}function kt(e){var t=e;return t=t.replace(/\b(catch\s*"B\d+"\s*"A\d+")(\s*catch\s*"B\d+"\s*"A\d+")+/g,"$1"),t}function Lt(e,t){this.argument=e,this.misc=t}function At(e,t){this.argument=e,this.misc=t}function Ot(e,t,n){this.name=e,this.argument=t,this.misc=n}function Mt(e){this.expr=e}function _t(e){this.label=e}function Dt(e){var t=[];for(var n=0,r=e.length;n<r;++n){var i=e[n];i instanceof rt?t=t.concat(i.getNames()):i instanceof Lt&&i.argument.initStatement instanceof rt?t=t.concat(i.argument.initStatement.getNames()):(i instanceof ct||i instanceof ht||i instanceof St||i instanceof xt||i instanceof Nt||i instanceof $)&&t.push(i.name)}return u({},t)}function Pt(e){this.statements=e}function Ht(e){this.statements=e}function Bt(e){function a(e,n){var i=n.split("."),s=e.scope,o;while(s){if(s.hasOwnProperty(i[0])){o=s[i[0]];break}s=s.scope}o===r&&(o=t[i[0]]);for(var u=1,a=i.length;u<a&&o;++u)o=o.inScope[i[u]];return o}var t={},n,i;for(n in b)if(b.hasOwnProperty(n)){i=b[n];var s=i.scopeId,o=i.name;if(s){var u=b[s];i.scope=u,u.inScope===r&&(u.inScope={}),u.inScope[o]=i}else t[o]=i}for(n in b)if(b.hasOwnProperty(n)){i=b[n];var f=i.body.baseClassName;if(f){var l=a(i,f);l&&(i.base=l,l.derived||(l.derived=[]),l.derived.push(i))}var c=i.body.interfacesNames,h=[],p,d;if(c&&c.length>0){for(p=0,d=c.length;p<d;++p){var v=a(i,c[p]);h.push(v);if(!v)continue;v.derived||(v.derived=[]),v.derived.push(i)}h.length>0&&(i.interfaces=h)}}}function jt(e){function u(e,t){var r=n[e];if(!r)return!1;var i=r.indexOf(t);return i<0?!1:(r.splice(i,1),r.length>0?!1:(delete n[e],!0))}var t=[],n={},r,i,s;for(r in b)if(b.hasOwnProperty(r)){s=b[r];if(!s.inScope&&!s.derived)t.push(r),s.weight=0;else{var o=[];if(s.inScope)for(i in s.inScope)s.inScope.hasOwnProperty(i)&&o.push(s.inScope[i]);s.derived&&(o=o.concat(s.derived)),n[r]=o}}while(t.length>0){r=t.shift(),s=b[r],s.scopeId&&u(s.scopeId,s)&&(t.push(s.scopeId),b[s.scopeId].weight=s.weight+1),s.base&&u(s.base.classId,s)&&(t.push(s.base.classId),s.base.weight=s.weight+1);if(s.interfaces){var a,f;for(a=0,f=s.interfaces.length;a<f;++a){if(!s.interfaces[a]||!u(s.interfaces[a].classId,s))continue;t.push(s.interfaces[a].classId),s.interfaces[a].weight=s.weight+1}}}}var t=D(),l=e.replace(/\r\n?|\n\r/g,"\n"),c=[],h=l.replace(/("(?:[^"\\\n]|\\.)*")|('(?:[^'\\\n]|\\.)*')|(([\[\(=|&!\^:?]\s*)(\/(?![*\/])(?:[^\/\\\n]|\\.)*\/[gim]*)\b)|(\/\/[^\n]*\n)|(\/\*(?:(?!\*\/)(?:.|\n))*\*\/)/g,function(e,t,n,r,i,s,o,u){var a;return t||n?(a=c.length,c.push(e),"'"+a+"'"):r?(a=c.length,c.push(s),i+"'"+a+"'"):u!==""?" ":"\n"});h=h.replace(/__x([0-9A-F]{4})/g,function(e,t){return"__x005F_x"+t}),h=h.replace(/\$/g,"__x0024");var d,v=h,m=function(e,t,n,r){return!t&&!r?(d=!0,""):e};do d=!1,v=v.replace(/([<]?)<\s*((?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\[\])*(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?(?:\s*,\s*(?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\[\])*(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?)*)\s*>([=]?)/g,m);while(d);var g=n(v),y,b={},w,S=0,C,k,L,A,O,M,_=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)(class|interface)\s+([A-Za-z_$][\w$]*\b)(\s+extends\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?(\s+implements\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?\s*("A\d+")/g,P=/\b((?:(?:public|private|final|protected|static|abstract|synchronized)\s+)*)((?!(?:else|new|return|throw|function|public|private|protected)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+"|;)/g,H=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:else|new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*(?:"C\d+"\s*)*([=,]|$)/,B=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+")/g,j=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*/,F=/\bfunction(?:\s+([A-Za-z_$][\w$]*))?\s*("B\d+")\s*("A\d+")/g;R.prototype.toString=function(){return this.name},U.prototype.getNames=function(){var e=[];for(var t=0,n=this.params.length;t<n;++t)e.push(this.params[t].name);return e},U.prototype.prependMethodArgs=function(e){return this.methodArgsParam?"{\nvar "+this.methodArgsParam.name+" = Array.prototype.slice.call(arguments, "+this.params.length+");\n"+e.substring(1):e},U.prototype.toString=function(){if(this.params.length===0)return"()";var e="(";for(var t=0,n=this.params.length;t<n;++t)e+=this.params[t]+", ";return e.substring(0,e.length-2)+")"},X.prototype.toString=function(){return"new ("+this.body+")"},$.prototype.toString=function(){var e=y,t=u({"this":null},this.params.getNames());y=function(n){return t.hasOwnProperty(n.name)?n.name:e(n)};var n="function";this.name&&(n+=" "+this.name);var r=this.params.prependMethodArgs(this.body.toString());return n+=this.params+" "+r,y=e,n},K.prototype.toString=function(){var e=y;y=function(t){return t.name==="this"?"this":e(t)};var t="";for(var n=0,r=this.members.length;n<r;++n)this.members[n].label&&(t+=this.members[n].label+": "),t+=this.members[n].value.toString()+", ";return y=e,t.substring(0,t.length-2)},Z.prototype.toString=function(){var e=this.transforms,t=Y(this.expr);return t.replace(/"!(\d+)"/g,function(t,n){return e[n].toString()})},M=function(e){var t=[],n=G(e);return n=n.replace(/"H(\d+)"/g,function(e,n){return t.push(J(g[n])),'"!'+(t.length-1)+'"'}),n=n.replace(/"F(\d+)"/g,function(e,n){return t.push(V(g[n])),'"!'+(t.length-1)+'"'}),n=n.replace(/"I(\d+)"/g,function(e,n){return t.push(Q(g[n])),'"!'+(t.length-1)+'"'}),new Z(n,t)},et.prototype.toString=function(){return this.name+" = "+this.value},rt.prototype.getNames=function(){var e=[];for(var t=0,n=this.definitions.length;t<n;++t)e.push(this.definitions[t].name);return e},rt.prototype.toString=function(){return"var "+this.definitions.join(",")},it.prototype.toString=function(){return this.expression.toString()},ot.prototype.toString=function(){return"("+this.initStatement+"; "+this.condition+"; "+this.step+")"},ut.prototype.toString=function(){var e=this.initStatement.toString();return e.indexOf("=")>=0&&(e=e.substring(0,e.indexOf("="))),"("+e+" in "+this.container+")"},at.iteratorId=0,at.prototype.toString=function(){var e=this.initStatement.toString(),t="$it"+at.iteratorId++,n=e.replace(/^\s*var\s*/,"").split("=")[0],r="var "+t+" = new $p.ObjectIterator("+this.container+"), "+n+" = void(0)",i=t+".hasNext() && (("+n+" = "+t+".next()) || true)";return"("+r+"; "+i+";)"},ct.prototype.toString=function(){return""+this.body},ht.prototype.toString=function(){return""+this.body},dt.prototype.toString=function(){var e=u({},this.params.getNames()),t=y;y=function(n){return e.hasOwnProperty(n.name)?n.name:t(n)};var n=this.params.prependMethodArgs(this.body.toString()),r="function "+this.methodId+this.params+" "+n+"\n";return y=t,r},mt.prototype.getNames=function(){var e=[];for(var t=0,n=this.definitions.length;t<n;++t)e.push(this.definitions[t].name);return e},mt.prototype.toString=function(){var e=y({name:"[this]"});if(this.isStatic){var t=this.owner.name,n=[];for(var r=0,i=this.definitions.length;r<i;++r){var s=this.definitions[r],o=s.name,u=t+"."+o,a="if("+u+" === void(0)) {\n"+" "+u+" = "+s.value+"; }\n"+"$p.defineProperty("+e+", "+"'"+o+"', { get: function(){return "+u+";}, "+"set: function(val){"+u+" = val;} });\n";n.push(a)}return n.join("")}return e+"."+this.definitions.join("; "+e+".")},yt.prototype.toString=function(){var e=u({},this.params.getNames()),t=y;y=function(n){return e.hasOwnProperty(n.name)?n.name:t(n)};var n="function $constr_"+this.params.params.length+this.params.toString(),r=this.params.prependMethodArgs(this.body.toString());return/\$(superCstr|constr)\b/.test(r)||(r="{\n$superCstr();\n"+r.substring(1)),y=t,n+r+"\n"},wt.prototype.getMembers=function(e,t,n){this.owner.base&&this.owner.base.body.getMembers(e,t,n);var r,i,s,o;for(r=0,s=this.fields.length;r<s;++r){var u=this.fields[r].getNames();for(i=0,o=u.length;i<o;++i)e[u[i]]=this.fields[r]}for(r=0,s=this.methodsNames.length;r<s;++r){var a=this.methodsNames[r];t[a]=!0}for(r=0,s=this.innerClasses.length;r<s;++r){var f=this.innerClasses[r];n[f.name]=f}},wt.prototype.toString=function(){function e(e){var t=0;while(e)++t,e=e.scope;return t}var t=e(this.owner),n=this.name,r="",i="",s={},o={},u={};this.getMembers(s,o,u);var a,f,l,c;if(this.owner.interfaces){var h=[],p;for(a=0,f=this.interfacesNames.length;a<f;++a){if(!this.owner.interfaces[a])continue;p=y({name:this.interfacesNames[a]}),h.push(p),r+="$p.extendInterfaceMembers("+n+", "+p+");\n"}i+=n+".$interfaces = ["+h.join(", ")+"];\n"}i+=n+".$isInterface = true;\n",i+=n+".$methods = ['"+this.methodsNames.join("', '")+"'];\n",lt(this.innerClasses);for(a=0,f=this.innerClasses.length;a<f;++a){var d=this.innerClasses[a];d.isStatic&&(r+=n+"."+d.name+" = "+d+";\n")}for(a=0,f=this.fields.length;a<f;++a){var v=this.fields[a];v.isStatic&&(r+=n+"."+v.definitions.join(";\n"+n+".")+";\n")}return"(function() {\nfunction "+n+"() { throw 'Unable to create the interface'; }\n"+r+i+"return "+n+";\n"+"})()"},k=function(e,t,n){var i=e.substring(1,e.length-1);i=I(i),i=q(i,t);var o=[],u=[];i=i.replace(/"([DE])(\d+)"/g,function(e,t,n){return t==="D"?o.push(n):t==="E"&&u.push(n),""});var a=i.split(/;(?:\s*;)*/g),f,l,c;n!==r&&(f=n.replace(/^\s*extends\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g));for(l=0,c=o.length;l<c;++l){var h=vt(g[o[l]]);o[l]=h.name}for(l=0,c=a.length-1;l<c;++l){var p=s(a[l]);a[l]=gt(p.middle)}var d=a.pop();for(l=0,c=u.length;l<c;++l)u[l]=pt(g[u[l]]);return new wt(t,f,o,a,u,{tail:d})},Et.prototype.getMembers=function(e,t,n){this.owner.base&&this.owner.base.body.getMembers(e,t,n);var r,i,s,o;for(r=0,s=this.fields.length;r<s;++r){var u=this.fields[r].getNames();for(i=0,o=u.length;i<o;++i)e[u[i]]=this.fields[r]}for(r=0,s=this.methods.length;r<s;++r){var a=this.methods[r];t[a.name]=a}for(r=0,s=this.innerClasses.length;r<s;++r){var f=this.innerClasses[r];n[f.name]=f}},Et.prototype.toString=function(){function e(e){var t=0;while(e)++t,e=e.scope;return t}var t=e(this.owner),n="$this_"+t,r=this.name,i="var "+n+" = this;\n",s="",u="",a={},f={},l={};this.getMembers(a,f,l);var c=y;y=function(e){var t=e.name;return t==="this"?e.callSign||!e.member?n+".$self":n:a.hasOwnProperty(t)?a[t].isStatic?r+"."+t:n+"."+t:l.hasOwnProperty(t)?n+"."+t:f.hasOwnProperty(t)?f[t].isStatic?r+"."+t:n+".$self."+t:c(e)};var h;this.baseClassName?(h=c({name:this.baseClassName}),i+="var $super = { $upcast: "+n+" };\n",i+="function $superCstr(){"+h+".apply($super,arguments);if(!('$self' in $super)) $p.extendClassChain($super)}\n",u+=r+".$base = "+h+";\n"):i+="function $superCstr(){$p.extendClassChain("+n+")}\n",this.owner.base&&(s+="$p.extendStaticMembers("+r+", "+h+");\n");var p,d,v,m;if(this.owner.interfaces){var g=[],b;for(p=0,d=this.interfacesNames.length;p<d;++p){if(!this.owner.interfaces[p])continue;b=c({name:this.interfacesNames[p]}),g.push(b),s+="$p.extendInterfaceMembers("+r+", "+b+");\n"}u+=r+".$interfaces = ["+g.join(", ")+"];\n"}this.functions.length>0&&(i+=this.functions.join("\n")+"\n"),lt(this.innerClasses);for(p=0,d=this.innerClasses.length;p<d;++p){var w=this.innerClasses[p];w.isStatic?(s+=r+"."+w.name+" = "+w+";\n",i+=n+"."+w.name+" = "+r+"."+w.name+";\n"):i+=n+"."+w.name+" = "+w+";\n"}for(p=0,d=this.fields.length;p<d;++p){var E=this.fields[p];if(E.isStatic){s+=r+"."+E.definitions.join(";\n"+r+".")+";\n";for(v=0,m=E.definitions.length;v<m;++v){var S=E.definitions[v].name,x=r+"."+S;i+="$p.defineProperty("+n+", '"+S+"', {"+"get: function(){return "+x+"}, "+"set: function(val){"+x+" = val}});\n"}}else i+=n+"."+E.definitions.join(";\n"+n+".")+";\n"}var T={};for(p=0,d=this.methods.length;p<d;++p){var N=this.methods[p],C=T[N.name],k=N.name+"$"+N.params.params.length,L=!!N.params.methodArgsParam;C?(++C,k+="_"+C):C=1,N.methodId=k,T[N.name]=C,N.isStatic?(s+=N,s+="$p.addMethod("+r+", '"+N.name+"', "+k+", "+L+");\n",i+="$p.addMethod("+n+", '"+N.name+"', "+k+", "+L+");\n"):(i+=N,i+="$p.addMethod("+n+", '"+N.name+"', "+k+", "+L+");\n")}i+=o(this.misc.tail),this.cstrs.length>0&&(i+=this.cstrs.join("\n")+"\n"),i+="function $constr() {\n";var A=[];for(p=0,d=this.cstrs.length;p<d;++p){var O=this.cstrs[p].params.params.length,M=!!this.cstrs[p].params.methodArgsParam;A.push("if(arguments.length "+(M?">=":"===")+" "+O+") { "+"$constr_"+O+".apply("+n+", arguments); }")}return A.length>0&&(i+=A.join(" else ")+" else "),i+="$superCstr();\n}\n",i+="$constr.apply(null, arguments);\n",y=c,"(function() {\nfunction "+r+"() {\n"+i+"}\n"+s+u+"return "+r+";\n"+"})()"},C=function(e,t,n,i){var o=e.substring(1,e.length-1);o=I(o),o=q(o,t);var u=[],a=[],f=[],l=[];o=o.replace(/"([DEGH])(\d+)"/g,function(e,t,n){return t==="D"?u.push(n):t==="E"?a.push(n):t==="H"?l.push(n):f.push(n),""});var c=o.replace(/^(?:\s*;)+/,"").split(/;(?:\s*;)*/g),h,p,d;n!==r&&(h=n.replace(/^\s*extends\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*$/g,"$1")),i!==r&&(p=i.replace(/^\s*implements\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g));for(d=0;d<l.length;++d)l[d]=J(g[l[d]]);for(d=0;d<u.length;++d)u[d]=vt(g[u[d]]);for(d=0;d<c.length-1;++d){var v=s(c[d]);c[d]=gt(v.middle)}var m=c.pop();for(d=0;d<f.length;++d)f[d]=bt(g[f[d]]);for(d=0;d<a.length;++d)a[d]=pt(g[a[d]]);return new Et(t,h,p,l,u,c,f,a,{tail:m})},St.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n"+"$p."+this.name+" = "+this.name+";\n"},xt.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n"+"$p."+this.name+" = "+this.name+";\n"},Nt.prototype.toString=function(){var e=u({},this.params.getNames()),t=y;y=function(n){return e.hasOwnProperty(n.name)?n.name:t(n)};var n=this.params.prependMethodArgs(this.body.toString()),r="function "+this.name+this.params+" "+n+"\n"+"$p."+this.name+" = "+this.name+";";return y=t,r},Lt.prototype.toString=function(){return this.misc.prefix+this.argument.toString()},At.prototype.toString=function(){return this.misc.prefix+this.argument.toString()},Ot.prototype.toString=function(){var e=this.misc.prefix;return this.argument!==r&&(e+=this.argument.toString()),e},Mt.prototype.toString=function(){return"case "+this.expr+":"},_t.prototype.toString=function(){return this.label},A=function(e,t,n){var i=new RegExp(/\b(catch|for|if|switch|while|with)\s*"B(\d+)"|\b(do|else|finally|return|throw|try|break|continue)\b|("[ADEH](\d+)")|\b(case)\s+([^:]+):|\b([A-Za-z_$][\w$]*\s*:)|(;)/g),u=[];e=kt(e);var a=0,f,l;while((f=i.exec(e))!==null){if(f[1]!==r){var c=e.lastIndexOf('"B',i.lastIndex),h=e.substring(a,c);f[1]==="for"?u.push(new Lt(ft(g[f[2]]),{prefix:h})):f[1]==="catch"?u.push(new At(z(g[f[2]]),{prefix:h})):u.push(new Ot(f[1],M(g[f[2]]),{prefix:h}))}else if(f[3]!==r)u.push(new Ot(f[3],r,{prefix:e.substring(a,i.lastIndex)}));else if(f[4]!==r){l=e.substring(a,i.lastIndex-f[4].length);if(o(l).length!==0)continue;u.push(l);var p=f[4].charAt(1),d=f[5];p==="D"?u.push(t(g[d])):p==="E"?u.push(n(g[d])):p==="H"?u.push(J(g[d])):u.push(L(g[d]))}else if(f[6]!==r)u.push(new Mt(M(o(f[7]))));else if(f[8]!==r){l=e.substring(a,i.lastIndex-f[8].length);if(o(l).length!==0)continue;u.push(new _t(e.substring(a,i.lastIndex)))}else{var v=s(e.substring(a,i.lastIndex-1));u.push(v.left),u.push(st(v.middle)),u.push(v.right+";")}a=i.lastIndex}var m=s(e.substring(a));return u.push(m.left),m.middle!==""&&(u.push(st(m.middle)),u.push(";"+m.right)),u},Pt.prototype.toString=function(){var e=Dt(this.statements),t=y;a(e)||(y=function(n){return e.hasOwnProperty(n.name)?n.name:t(n)});var n="{\n"+this.statements.join("")+"\n}";return y=t,n},L=function(e){var t=s(e.substring(1,e.length-1));return new Pt(A(t.middle))},Ht.prototype.toString=function(){var e=[],n=[],r;for(var i=0,s=this.statements.length;i<s;++i)r=this.statements[i],r instanceof xt||r instanceof St?e.push(r):n.push(r);lt(e);var o=Dt(this.statements);y=function(e){var n=e.name;return o.hasOwnProperty(n)?n:t.hasOwnProperty(n)||p.hasOwnProperty(n)||E.hasOwnProperty(n)?"$p."+n:n};var u="// this code was autogenerated from PJS\n(function($p) {\n"+e.join("")+"\n"+n.join("")+"\n})";return y=null,u},O=function(){var e=I(g[0]);return e=e.replace(/\bimport\s+[^;]+;/g,""),new Ht(A(e,Ct,Tt))};var Ft=O();Bt(Ft),jt(Ft);var It=Ft.toString();return It=It.replace(/\s*\n(?:[\t ]*\n)+/g,"\n\n"),It=It.replace(/__x([0-9A-F]{4})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}),i(It,c)}function H(e,t){var n=(new RegExp(/\/\*\s*@pjs\s+((?:[^\*]|\*+[^\*\/])*)\*\//g)).exec(e);if(n&&n.length===2){var r=[],i=n.splice(1,2)[0].replace(/\{([\s\S]*?)\}/g,function(){return function(e,t){return r.push(t),"{"+(r.length-1)+"}"}}()).replace("\n","").replace("\r","").split(";"),s=function(e){return e.replace(/^\s*["']?/,"").replace(/["']?\s*$/,"")};for(var o=0,u=i.length;o<u;o++){var a=i[o].split("=");if(a&&a.length===2){var f=s(a[0]),l=s(a[1]),c=[];if(f==="preload"){c=l.split(",");for(var h=0,p=c.length;h<p;h++){var d=s(c[h]);t.imageCache.add(d)}}else if(f==="font"){c=l.split(",");for(var v=0,m=c.length;v<m;v++){var g=s(c[v]),y=/^\{(\d*?)\}$/.exec(g);M.preloading.add(y?JSON.parse("{"+r[y[1]]+"}"):g)}}else f==="pauseOnBlur"?t.options.pauseOnBlur=l==="true":f==="globalKeyEvents"?t.options.globalKeyEvents=l==="true":f.substring(0,6)==="param-"?t.params[f.substring(6)]=l:t.options[f]=l}}}return e}var i=function(){},s=function(){return"console"in e?function(t){e.console.log("Processing.js: "+t)}:i}(),o=function(e){var t=new XMLHttpRequest;t.open("GET",e,!1),t.overrideMimeType&&t.overrideMimeType("text/plain"),t.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT"),t.send(null);if(t.status!==200&&t.status!==0)throw"XMLHttpRequest failed, status code "+t.status;return t.responseText},u="document"in this&&!("fake"in this.document);t.head=t.head||t.getElementsByTagName("head")[0];if(t.documentMode>=9&&!t.doctype)throw"The doctype directive is missing. The recommended doctype in Internet Explorer is the HTML5 doctype: <!DOCTYPE html>";var f=a("Float32Array","WebGLFloatArray"),l=a("Int32Array","WebGLIntArray"),c=a("Uint16Array","WebGLUnsignedShortArray"),h=a("Uint8Array","WebGLUnsignedByteArray"),p={X:0,Y:1,Z:2,R:3,G:4,B:5,A:6,U:7,V:8,NX:9,NY:10,NZ:11,EDGE:12,SR:13,SG:14,SB:15,SA:16,SW:17,TX:18,TY:19,TZ:20,VX:21,VY:22,VZ:23,VW:24,AR:25,AG:26,AB:27,DR:3,DG:4,DB:5,DA:6,SPR:28,SPG:29,SPB:30,SHINE:31,ER:32,EG:33,EB:34,BEEN_LIT:35,VERTEX_FIELD_COUNT:36,P2D:1,JAVA2D:1,WEBGL:2,P3D:2,OPENGL:2,PDF:0,DXF:0,OTHER:0,WINDOWS:1,MAXOSX:2,LINUX:3,EPSILON:1e-4,MAX_FLOAT:3.4028235e38,MIN_FLOAT:-3.4028235e38,MAX_INT:2147483647,MIN_INT:-2147483648,PI:n.PI,TWO_PI:2*n.PI,HALF_PI:n.PI/2,THIRD_PI:n.PI/3,QUARTER_PI:n.PI/4,DEG_TO_RAD:n.PI/180,RAD_TO_DEG:180/n.PI,WHITESPACE:" 	\n\r\f ",RGB:1,ARGB:2,HSB:3,ALPHA:4,CMYK:5,TIFF:0,TARGA:1,JPEG:2,GIF:3,BLUR:11,GRAY:12,INVERT:13,OPAQUE:14,POSTERIZE:15,THRESHOLD:16,ERODE:17,DILATE:18,REPLACE:0,BLEND:1,ADD:2,SUBTRACT:4,LIGHTEST:8,DARKEST:16,DIFFERENCE:32,EXCLUSION:64,MULTIPLY:128,SCREEN:256,OVERLAY:512,HARD_LIGHT:1024,SOFT_LIGHT:2048,DODGE:4096,BURN:8192,ALPHA_MASK:4278190080,RED_MASK:16711680,GREEN_MASK:65280,BLUE_MASK:255,CUSTOM:0,ORTHOGRAPHIC:2,PERSPECTIVE:3,POINT:2,POINTS:2,LINE:4,LINES:4,TRIANGLE:8,TRIANGLES:9,TRIANGLE_STRIP:10,TRIANGLE_FAN:11,QUAD:16,QUADS:16,QUAD_STRIP:17,POLYGON:20,PATH:21,RECT:30,ELLIPSE:31,ARC:32,SPHERE:40,BOX:41,GROUP:0,PRIMITIVE:1,GEOMETRY:3,VERTEX:0,BEZIER_VERTEX:1,CURVE_VERTEX:2,BREAK:3,CLOSESHAPE:4,OPEN:1,CLOSE:2,CORNER:0,CORNERS:1,RADIUS:2,CENTER_RADIUS:2,CENTER:3,DIAMETER:3,CENTER_DIAMETER:3,BASELINE:0,TOP:101,BOTTOM:102,NORMAL:1,NORMALIZED:1,IMAGE:2,MODEL:4,SHAPE:5,SQUARE:"butt",ROUND:"round",PROJECT:"square",MITER:"miter",BEVEL:"bevel",AMBIENT:0,DIRECTIONAL:1,SPOT:3,BACKSPACE:8,TAB:9,ENTER:10,RETURN:13,ESC:27,DELETE:127,CODED:65535,SHIFT:16,CONTROL:17,ALT:18,CAPSLK:20,PGUP:33,PGDN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLK:144,META:157,INSERT:155,ARROW:"default",CROSS:"crosshair",HAND:"pointer",MOVE:"move",TEXT:"text",WAIT:"wait",NOCURSOR:"url('data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='), auto",DISABLE_OPENGL_2X_SMOOTH:1,ENABLE_OPENGL_2X_SMOOTH:-1,ENABLE_OPENGL_4X_SMOOTH:2,ENABLE_NATIVE_FONTS:3,DISABLE_DEPTH_TEST:4,ENABLE_DEPTH_TEST:-4,ENABLE_DEPTH_SORT:5,DISABLE_DEPTH_SORT:-5,DISABLE_OPENGL_ERROR_REPORT:6,ENABLE_OPENGL_ERROR_REPORT:-6,ENABLE_ACCURATE_TEXTURES:7,DISABLE_ACCURATE_TEXTURES:-7,HINT_COUNT:10,SINCOS_LENGTH:720,PRECISIONB:15,PRECISIONF:32768,PREC_MAXVAL:32767,PREC_ALPHA_SHIFT:9,PREC_RED_SHIFT:1,NORMAL_MODE_AUTO:0,NORMAL_MODE_SHAPE:1,NORMAL_MODE_VERTEX:2,MAX_LIGHTS:8},m=function(e){if(e.iterator instanceof Function)return e.iterator();if(!(e instanceof Array))throw"Unable to iterate: "+e;var t=-1;this.hasNext=function(){return++t<e.length},this.next=function(){return e[t]}},g=function(){function e(e){var t=0;this.hasNext=function(){return t<e.length},this.next=function(){return e[t++]},this.remove=function(){e.splice(t,1)}}function t(n){var r;n instanceof t?r=n.toArray():(r=[],typeof n=="number"&&(r.length=n>0?n:0)),this.get=function(e){return r[e]},this.contains=function(e){return this.indexOf(e)>-1},this.indexOf=function(e){for(var t=0,n=r.length;t<n;++t)if(v(e,r[t]))return t;return-1},this.lastIndexOf=function(e){for(var t=r.length-1;t>=0;--t)if(v(e,r[t]))return t;return-1},this.add=function(){if(arguments.length===1)r.push(arguments[0]);else{if(arguments.length!==2)throw"Please use the proper number of parameters.";var e=arguments[0];if(typeof e!="number")throw typeof e+" is not a number";if(!(e>=0&&e<=r.length))throw e+" is not a valid index";r.splice(e,0,arguments[1])}},this.addAll=function(e,t){var n;if(typeof e=="number"){if(e<0||e>r.length)throw"Index out of bounds for addAll: "+e+" greater or equal than "+r.length;n=new m(t);while(n.hasNext())r.splice(e++,0,n.next())}else{n=new m(e);while(n.hasNext())r.push(n.next())}},this.set=function(){if(arguments.length!==2)throw"Please use the proper number of parameters.";var e=arguments[0];if(typeof e!="number")throw typeof e+" is not a number";if(!(e>=0&&e<r.length))throw e+" is not a valid index.";r.splice(e,1,arguments[1])},this.size=function(){return r.length},this.clear=function(){r.length=0},this.remove=function(e){return typeof e=="number"?r.splice(e,1)[0]:(e=this.indexOf(e),e>-1?(r.splice(e,1),!0):!1)},this.removeAll=function(e){var n,r,i,s=new t;s.addAll(this),this.clear();for(n=0,r=0;n<s.size();n++)i=s.get(n),e.contains(i)||this.add(r++,i);return this.size()<s.size()?!0:!1},this.isEmpty=function(){return!r.length},this.clone=function(){return new t(this)},this.toArray=function(){return r.slice(0)},this.iterator=function(){return new e(r)}}return t}(),y=function(){function e(){function u(e){var t=d(e)%i.length;return t<0?i.length+t:t}function a(){if(s<=n*i.length)return;var e=[];for(var t=0;t<i.length;++
t)i[t]!==r&&(e=e.concat(i[t]));var o=i.length*2;i=[],i.length=o;for(var a=0;a<e.length;++a){var f=u(e[a].key),l=i[f];l===r&&(i[f]=l=[]),l.push(e[a])}}function f(e,t){function a(){while(!o){++s;if(n>=i.length)o=!0;else{if(!(i[n]===r||s>=i[n].length))return;s=-1,++n}}}var n=0,s=-1,o=!1,u;this.hasNext=function(){return!o},this.next=function(){return u=e(i[n][s]),a(),u},this.remove=function(){u!==r&&(t(u),--s,a())},a()}function l(e,t,n){this.clear=function(){o.clear()},this.contains=function(e){return t(e)},this.containsAll=function(e){var t=e.iterator();while(t.hasNext())if(!this.contains(t.next()))return!1;return!0},this.isEmpty=function(){return o.isEmpty()},this.iterator=function(){return new f(e,n)},this.remove=function(e){return this.contains(e)?(n(e),!0):!1},this.removeAll=function(e){var t=e.iterator(),r=!1;while(t.hasNext()){var i=t.next();this.contains(i)&&(n(i),r=!0)}return!0},this.retainAll=function(e){var t=this.iterator(),r=[];while(t.hasNext()){var i=t.next();e.contains(i)||r.push(i)}for(var s=0;s<r.length;++s)n(r[s]);return r.length>0},this.size=function(){return o.size()},this.toArray=function(){var e=[],t=this.iterator();while(t.hasNext())e.push(t.next());return e}}function c(e){this._isIn=function(t){return t===o&&e.removed===r},this.equals=function(t){return v(e.key,t.getKey())},this.getKey=function(){return e.key},this.getValue=function(){return e.value},this.hashCode=function(t){return d(e.key)},this.setValue=function(t){var n=e.value;return e.value=t,n}}if(arguments.length===1&&arguments[0]instanceof e)return arguments[0].clone();var t=arguments.length>0?arguments[0]:16,n=arguments.length>1?arguments[1]:.75,i=[];i.length=t;var s=0,o=this;this.clear=function(){s=0,i=[],i.length=t},this.clone=function(){var t=new e;return t.putAll(this),t},this.containsKey=function(e){var t=u(e),n=i[t];if(n===r)return!1;for(var s=0;s<n.length;++s)if(v(n[s].key,e))return!0;return!1},this.containsValue=function(e){for(var t=0;t<i.length;++t){var n=i[t];if(n===r)continue;for(var s=0;s<n.length;++s)if(v(n[s].value,e))return!0}return!1},this.entrySet=function(){return new l(function(e){return new c(e)},function(e){return e instanceof c&&e._isIn(o)},function(e){return o.remove(e.getKey())})},this.get=function(e){var t=u(e),n=i[t];if(n===r)return null;for(var s=0;s<n.length;++s)if(v(n[s].key,e))return n[s].value;return null},this.isEmpty=function(){return s===0},this.keySet=function(){return new l(function(e){return e.key},function(e){return o.containsKey(e)},function(e){return o.remove(e)})},this.values=function(){return new l(function(e){return e.value},function(e){return o.containsValue(e)},function(e){return o.removeByValue(e)})},this.put=function(e,t){var n=u(e),o=i[n];if(o===r)return++s,i[n]=[{key:e,value:t}],a(),null;for(var f=0;f<o.length;++f)if(v(o[f].key,e)){var l=o[f].value;return o[f].value=t,l}return++s,o.push({key:e,value:t}),a(),null},this.putAll=function(e){var t=e.entrySet().iterator();while(t.hasNext()){var n=t.next();this.put(n.getKey(),n.getValue())}},this.remove=function(e){var t=u(e),n=i[t];if(n===r)return null;for(var o=0;o<n.length;++o)if(v(n[o].key,e)){--s;var a=n[o].value;return n[o].removed=!0,n.length>1?n.splice(o,1):i[t]=r,a}return null},this.removeByValue=function(e){var t,n,r,s;for(t in i)if(i.hasOwnProperty(t))for(n=0,r=i[t].length;n<r;n++){s=i[t][n];if(s.value===e)return i[t].splice(n,1),!0}return!1},this.size=function(){return s}}return e}(),b=function(){function e(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function t(e){return function(t,n){var r=t.get();return r[e](n),r}}e.dist=function(e,t){return e.dist(t)},e.dot=function(e,t){return e.dot(t)},e.cross=function(e,t){return e.cross(t)},e.angleBetween=function(e,t){return n.acos(e.dot(t)/(e.mag()*t.mag()))},e.prototype={set:function(e,t,n){arguments.length===1?this.set(e.x||e[0]||0,e.y||e[1]||0,e.z||e[2]||0):(this.x=e,this.y=t,this.z=n)},get:function(){return new e(this.x,this.y,this.z)},mag:function(){var e=this.x,t=this.y,r=this.z;return n.sqrt(e*e+t*t+r*r)},add:function(e,t,n){arguments.length===1?(this.x+=e.x,this.y+=e.y,this.z+=e.z):(this.x+=e,this.y+=t,this.z+=n)},sub:function(e,t,n){arguments.length===1?(this.x-=e.x,this.y-=e.y,this.z-=e.z):(this.x-=e,this.y-=t,this.z-=n)},mult:function(e){typeof e=="number"?(this.x*=e,this.y*=e,this.z*=e):(this.x*=e.x,this.y*=e.y,this.z*=e.z)},div:function(e){typeof e=="number"?(this.x/=e,this.y/=e,this.z/=e):(this.x/=e.x,this.y/=e.y,this.z/=e.z)},dist:function(e){var t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n.sqrt(t*t+r*r+i*i)},dot:function(e,t,n){return arguments.length===1?this.x*e.x+this.y*e.y+this.z*e.z:this.x*e+this.y*t+this.z*n},cross:function(t){var n=this.x,r=this.y,i=this.z;return new e(r*t.z-t.y*i,i*t.x-t.z*n,n*t.y-t.x*r)},normalize:function(){var e=this.mag();e>0&&this.div(e)},limit:function(e){this.mag()>e&&(this.normalize(),this.mult(e))},heading2D:function(){return-n.atan2(-this.y,this.x)},toString:function(){return"["+this.x+", "+this.y+", "+this.z+"]"},array:function(){return[this.x,this.y,this.z]}};for(var r in e.prototype)e.prototype.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t(r));return e}();w.prototype=p;var E=new w;E.ArrayList=g,E.HashMap=y,E.PVector=b,E.ObjectIterator=m,E.PConstants=p,E.defineProperty=function(e,t,n){"defineProperty"in Object?Object.defineProperty(e,t,n):(n.hasOwnProperty("get")&&e.__defineGetter__(t,n.get),n.hasOwnProperty("set")&&e.__defineSetter__(t,n.set))},E.extendClassChain=function(e){var t=[e];for(var n=e.$upcast;n;n=n.$upcast)x(n,e),t.push(n),e=n;while(t.length>0)t.pop().$self=e},E.extendStaticMembers=function(e,t){x(e,t)},E.extendInterfaceMembers=function(e,t){x(e,t)},E.addMethod=function(e,t,n,r){var i=e[t];if(i||r){var s=n.length;if("$overloads"in i)i.$overloads[s]=n;else{var o=function(){var e=o.$overloads[arguments.length]||("$methodArgsIndex"in o&&arguments.length>o.$methodArgsIndex?o.$overloads[o.$methodArgsIndex]:null)||o.$defaultOverload;return e.apply(this,arguments)},u=[];i&&(u[i.length]=i),u[s]=n,o.$overloads=u,o.$defaultOverload=i||n,r&&(o.$methodArgsIndex=s),o.name=t,e[t]=o}}else e[t]=n},E.createJavaArray=function(e,t){var n=null,r=null;typeof e=="string"&&(e==="boolean"?r=!1:T(e)&&(r=0));if(typeof t[0]=="number"){var i=0|t[0];if(t.length<=1){n=[],n.length=i;for(var s=0;s<i;++s)n[s]=r}else{n=[];var o=t.slice(1);for(var u=0;u<i;++u)n.push(E.createJavaArray(e,o))}}return n};var N={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};(function(e){function s(e){return function(){throw"Processing.js does not support "+e+"."}}var t="open() createOutput() createInput() BufferedReader selectFolder() dataPath() createWriter() selectOutput() beginRecord() saveStream() endRecord() selectInput() saveBytes() createReader() beginRaw() endRaw() PrintWriter delay()".split(" "),n=t.length,r,i;while(n--)r=t[n],i=r.replace("()",""),e[i]=s(r)})(E),E.defineProperty(E,"screenWidth",{get:function(){return e.innerWidth}}),E.defineProperty(E,"screenHeight",{get:function(){return e.innerHeight}}),E.defineProperty(E,"online",{get:function(){return!0}});var C=[],k={},L=function(e){C.splice(k[e],1),delete k[e]},A=function(e){if(e.externals.canvas.id===r||!e.externals.canvas.id.length)e.externals.canvas.id="__processing"+C.length;k[e.externals.canvas.id]=C.length,C.push(e)};M.prototype.caching=!0,M.prototype.getCSSDefinition=function(e,t){e===r&&(e=this.size+"px"),t===r&&(t=this.leading+"px");var n=[this.style,"normal",this.weight,e+"/"+t,this.family];return n.join(" ")},M.prototype.measureTextWidth=function(e){return this.context2d.measureText(e).width},M.prototype.measureTextWidthFallback=function(e){var n=t.createElement("canvas"),r=n.getContext("2d");return r.font=this.css,r.measureText(e).width},M.PFontCache={length:0},M.get=function(e,t){t=(t*10+.5|0)/10;var n=M.PFontCache,r=e+"/"+t;if(!n[r]){n[r]=new M(e,t),n.length++;if(n.length===50){M.prototype.measureTextWidth=M.prototype.measureTextWidthFallback,M.prototype.caching=!1;var i;for(i in n)i!=="length"&&(n[i].context2d=null);return new M(e,t)}if(n.length===400)return M.PFontCache={},M.get=M.getFallback,new M(e,t)}return n[r]},M.getFallback=function(e,t){return new M(e,t)},M.list=function(){return["sans-serif","serif","monospace","fantasy","cursive"]},M.preloading={template:{},initialized:!1,initialize:function(){var e=function(){var e="#E3KAI2wAgT1MvMg7Eo3VmNtYX7ABi3CxnbHlm7Abw3kaGVhZ7ACs3OGhoZWE7A53CRobXR47AY3AGbG9jYQ7G03Bm1heH7ABC3CBuYW1l7Ae3AgcG9zd7AI3AE#B3AQ2kgTY18PPPUACwAg3ALSRoo3#yld0xg32QAB77#E777773B#E3C#I#Q77773E#Q7777777772CMAIw7AB77732B#M#Q3wAB#g3B#E#E2BB//82BB////w#B7#gAEg3E77x2B32B#E#Q#MTcBAQ32gAe#M#QQJ#E32M#QQJ#I#g32Q77#",t=function(e){return"AAAAAAAA".substr(~~e?7-e:6)};return e.replace(/[#237]/g,t)},n=t.createElement("style");n.setAttribute("type","text/css"),n.innerHTML='@font-face {\n  font-family: "PjsEmptyFont";\n  src: url(\'data:application/x-font-ttf;base64,'+e()+"')\n"+"       format('truetype');\n"+"}",t.head.appendChild(n);var r=t.createElement("span");r.style.cssText='position: absolute; top: 0; left: 0; opacity: 0; font-family: "PjsEmptyFont", fantasy;',r.innerHTML="AAAAAAAA",t.body.appendChild(r),this.template=r,this.initialized=!0},getElementWidth:function(e){return t.defaultView.getComputedStyle(e,"").getPropertyValue("width")},timeAttempted:0,pending:function(e){this.initialized||this.initialize();var n,r,i=this.getElementWidth(this.template);for(var s=0;s<this.fontList.length;s++){n=this.fontList[s],r=this.getElementWidth(n);if(this.timeAttempted<4e3&&r===i)return this.timeAttempted+=e,!0;t.body.removeChild(n),this.fontList.splice(s--,1),this.timeAttempted=0}return this.fontList.length===0?!1:!0},fontList:[],addedList:{},add:function(e){this.initialized||this.initialize();var n=typeof e=="object"?e.fontFace:e,r=typeof e=="object"?e.url:e;if(this.addedList[n])return;var i=t.createElement("style");i.setAttribute("type","text/css"),i.innerHTML="@font-face{\n  font-family: '"+n+"';\n  src:  url('"+r+"');\n}\n",t.head.appendChild(i),this.addedList[n]=!0;var s=t.createElement("span");s.style.cssText="position: absolute; top: 0; left: 0; opacity: 0;",s.style.fontFamily='"'+n+'", "PjsEmptyFont", fantasy',s.innerHTML="AAAAAAAA",t.body.appendChild(s),this.fontList.push(s)}},E.PFont=M;var _=this.Processing=function(s,u){function m(e){_.debug("Unimplemented - "+e)}function pr(e,t,n,i){var s=Lt.locations[e];s===r&&(s=y.getUniformLocation(t,n),Lt.locations[e]=s),s!==null&&(i.length===4?y.uniform4fv(s,i):i.length===3?y.uniform3fv(s,i):i.length===2?y.uniform2fv(s,i):y.uniform1f(s,i))}function dr(e,t,n,i){var s=Lt.locations[e];s===r&&(s=y.getUniformLocation(t,n),Lt.locations[e]=s),s!==null&&(i.length===4?y.uniform4iv(s,i):i.length===3?y.uniform3iv(s,i):i.length===2?y.uniform2iv(s,i):y.uniform1i(s,i))}function vr(e,t,n,i,s){var o=Lt.locations[e];o===r&&(o=y.getUniformLocation(t,n),Lt.locations[e]=o),o!==-1&&(s.length===16?y.uniformMatrix4fv(o,i,s):s.length===9?y.uniformMatrix3fv(o,i,s):y.uniformMatrix2fv(o,i,s))}function mr(e,t,n,i,s){var o=Lt.attributes[e];o===r&&(o=y.getAttribLocation(t,n),Lt.attributes[e]=o),o!==-1&&(y.bindBuffer(y.ARRAY_BUFFER,s),y.vertexAttribPointer(o,i,y.FLOAT,!1,0,0),y.enableVertexAttribArray(o))}function gr(e,t,n){var i=Lt.attributes[e];i===r&&(i=y.getAttribLocation(t,n),Lt.attributes[e]=i),i!==-1&&y.disableVertexAttribArray(i)}function Fr(e,t,r,i){var s,o,u,a;if(dt===3){var f=g.color.toRGB(e,t,r);s=f[0],o=f[1],u=f[2]}else s=n.round(255*(e/ut)),o=n.round(255*(t/at)),u=n.round(255*(r/ft));return a=n.round(255*(i/ot)),s=s<0?0:s,o=o<0?0:o,u=u<0?0:u,a=a<0?0:a,s=s>255?255:s,o=o>255?255:o,u=u>255?255:u,a=a>255?255:a,a<<24&4278190080|s<<16&16711680|o<<8&65280|u&255}function Ir(e,t){var r;if(e&4278190080)return r=n.round(255*(t/ot)),r=r>255?255:r,r=r<0?0:r,e-(e&4278190080)+(r<<24&4278190080);if(dt===1)return Fr(e,e,e,t);if(dt===3)return Fr(0,0,e/ut*ft,t)}function qr(e){if(e<=ut&&e>=0){if(dt===1)return Fr(e,e,e,ot);if(dt===3)return Fr(0,0,e/ut*ft,ot)}if(e)return e>2147483647&&(e-=4294967296),e}function Rr(e){var t,n,r;t=(e>>16&255)/255,n=(e>>8&255)/255,r=(e&255)/255;var i=g.max(g.max(t,n),r),s=g.min(g.min(t,n),r),o,u;return s===i?[0,0,i*ft]:(u=(i-s)/i,t===i?o=(n-r)/(i-s):n===i?o=2+(r-t)/(i-s):o=4+(t-n)/(i-s),o/=6,o<0?o+=1:o>1&&(o-=1),[o*ut,u*at,i*ft])}function Ur(){y.save()}function zr(){y.restore(),B=!0,O=!0}function Wr(){var e=(Date.now()-bt)/1e3;wt++;var t=wt/e;e>.5&&(bt=Date.now(),wt=0,g.__frameRate=t),g.frameCount++}function Vr(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n),Xr.push({elem:e,type:t,fn:n})}function $r(e){var t=e.elem,n=e.type,r=e.fn;t.removeEventListener?t.removeEventListener(n,r,!1):t.detachEvent&&t.detachEvent("on"+n,r)}function Jr(e,t,i,s,o,u){var a=e<0?i:t,f=o===0,l=o===r||o<0?0:o,c=n.abs(e);if(f){l=1,c*=10;while(n.abs(n.round(c)-c)>1e-6&&l<7)++l,c*=10}else l!==0&&(c*=n.pow(10,l));var h,p=c*2;if(n.floor(c)===c)h=c;else if(n.floor(p)===p){var d=n.floor(c);h=d+d%2}else h=n.round(c);var v="",m=s+l;while(m>0||h>0)m--,v=""+h%10+v,h=n.floor(h/10);if(u!==r){var g=v.length-3-l;while(g>0)v=v.substring(0,g)+u+v.substring(g),g-=3}return l>0?a+v.substring(0,v.length-l)+"."+v.substring(v.length-l,v.length):a+v}function Kr(e,t,n,r,i,s){if(e instanceof Array){var o=[];for(var u=0,a=e.length;u<a;u++)o.push(Jr(e[u],t,n,r,i,s));return o}return Jr(e,t,n,r,i,s)}function Gr(e){var t=parseInt("0x"+e,16);return t>2147483647&&(t-=4294967296),t}function Yr(e){return Array.prototype.slice.call(e,1)}function ei(e){if(typeof e=="number")return e!==0;if(typeof e=="boolean")return e;if(typeof e=="string")return e.toLowerCase()==="true";if(e instanceof Lr)return e.code===49||e.code===84||e.code===116}function ti(e){if(typeof e=="number")return e;if(typeof e=="boolean")return e?1:0;if(typeof e=="string")return parseFloat(e);if(e instanceof Lr)return e.code}function ni(e,t){if(typeof e=="number")return e&4294967295;if(typeof e=="boolean")return e?1:0;if(typeof e=="string"){var n=parseInt(e,t||10);return n&4294967295}if(e instanceof Lr)return e.code}function ii(e,t){var n=e||362436069,r=t||521288629,i=function(){return n=36969*(n&65535)+(n>>>16)&4294967295,r=18e3*(r&65535)+(r>>>16)&4294967295,((n&65535)<<16|r&65535)&4294967295};this.nextDouble=function(){var e=i()/4294967296;return e<0?1+e:e},this.nextInt=i}function si(e){function a(e,t,n,r){var i=e&15,s=i<8?t:n,o=i<4?n:i===12||i===14?t:r;return((i&1)===0?s:-s)+((i&2)===0?o:-o)}function f(e,t,n){var r=(e&1)===0?t:n;return(e&2)===0?-r:r}function l(e,t){return(e&1)===0?-t:t}function c(e,t,n){return t+e*(n-t)}var t=e!==r?new ii(e):ii.createRandomized(),i,s,o=new h(512);for(i=0;i<256;++i)o[i]=i;for(i=0;i<256;++i){var u=o[s=t.nextInt()&255];o[s]=o[i],o[i]=u}for(i=0;i<256;++i)o[i+256]=o[i];this.noise3d=function(e,t,r){var i=n.floor(e)&255,s=n.floor(t)&255,u=n.floor(r)&255;e-=n.floor(e),t-=n.floor(t),r-=n.floor(r);var f=(3-2*e)*e*e,l=(3-2*t)*t*t,h=(3-2*r)*r*r,p=o[i]+s,d=o[p]+u,v=o[p+1]+u,m=o[i+1]+s,g=o[m]+u,y=o[m+1]+u;return c(h,c(l,c(f,a(o[d],e,t,r),a(o[g],e-1,t,r)),c(f,a(o[v],e,t-1,r),a(o[y],e-1,t-1,r))),c(l,c(f,a(o[d+1],e,t,r-1),a(o[g+1],e-1,t,r-1)),c(f,a(o[v+1],e,t-1,r-1),a(o[y+1],e-1,t-1,r-1))))},this.noise2d=function(e,t){var r=n.floor(e)&255,i=n.floor(t)&255;e-=n.floor(e),t-=n.floor(t);var s=(3-2*e)*e*e,u=(3-2*t)*t*t,a=o[r]+i,l=o[r+1]+i;return c(u,c(s,f(o[a],e,t),f(o[l],e-1,t)),c(s,f(o[a+1],e,t-1),f(o[l+1],e-1,t-1)))},this.noise1d=function(e){var t=n.floor(e)&255;e-=n.floor(e);var r=(3-2*e)*e*e;return c(r,l(o[t],e),l(o[t+1],e-1))}}function ai(){T&&(O&&(y.fillStyle=g.color.toString(k),O=!1),y.fill())}function fi(){D&&(B&&(y.strokeStyle=g.color.toString(H),B=!1),y.stroke())}function pi(){ai(),fi(),y.closePath()}function Ei(e,n,i){var s=wi.shift();s===r&&(s={},s.canvas=t.createElement("canvas"),s.context=s.canvas.getContext("2d")),wi.push(s);var o=s.canvas,u=s.context,a=n||e.width,f=i||e.height;return o.width=a,o.height=f,e?"data"in e?u.putImageData(e,0,0):(u.clearRect(0,0,a,f),u.drawImage(e,0,0,a,f)):u.clearRect(0,0,a,f),s}function Si(e){return{getLength:function(e){return function(){if(e.isRemote)throw"Image is loaded remotely. Cannot get length.";return e.imageData.data.length?e.imageData.data.length/4:0}}(e),getPixel:function(e){return function(t){var n=t*4,r=e.imageData.data;if(e.isRemote)throw"Image is loaded remotely. Cannot get pixels.";return(r[n+3]&255)<<24|(r[n]&255)<<16|(r[n+1]&255)<<8|r[n+2]&255}}(e),setPixel:function(e){return function(t,n){var r=t*4,i=e.imageData.data;if(e.isRemote)throw"Image is loaded remotely. Cannot set pixel.";i[r+0]=n>>16&255,i[r+1]=n>>8&255,i[r+2]=n&255,i[r+3]=n>>24&255,e.__isDirty=!0}}(e),toArray:function(e){return function(){var t=[],n=e.imageData.data,r=e.width*e.height;if(e.isRemote)throw"Image is loaded remotely. Cannot get pixels.";for(var i=0,s=0;i<r;i++,s+=4)t.push((n[s+3]&255)<<24|(n[s]&255)<<16|(n[s+1]&255)<<8|n[s+2]&255);return t}}(e),set:function(e){return function(t){var n,r,i;if(this.isRemote)throw"Image is loaded remotely. Cannot set pixels.";r=e.imageData.data;for(var s=0,o=t.length;s<o;s++)i=t[s],n=s*4,r[n+0]=i>>16&255,r[n+1]=i>>8&255,r[n+2]=i&255,r[n+3]=i>>24&255;e.__isDirty=!0}}(e)}}function Ti(e,t){var n;if(e>=g.width||e<0||t<0||t>=g.height)return 0;if(ln){var r=((0|e)+g.width*(0|t))*4;return n=g.imageData.data,(n[r+3]&255)<<24|(n[r]&255)<<16|(n[r+1]&255)<<8|n[r+2]&255}return n=g.toImageData(0|e,0|t,1,1).data,(n[3]&255)<<24|(n[0]&255)<<16|(n[1]&255)<<8|n[2]&255}function Ni(e,t,n){if(n.isRemote)throw"Image is loaded remotely. Cannot get x,y.";var r=t*n.width*4+e*4,i=n.imageData.data;return(i[r+3]&255)<<24|(i[r]&255)<<16|(i[r+1]&255)<<8|i[r+2]&255}function Ci(e,t,n,r){var i=new xi(n,r,2);return i.fromImageData(g.toImageData(e,t,n,r)),i}function ki(e,t,r,i,s){if(s.isRemote)throw"Image is loaded remotely. Cannot get x,y,w,h.";var o=new xi(r,i,2),u=o.imageData.data,a=s.width,f=s.height,l=s.imageData.data,c=n.max(0,-t),h=n.max(0,-e),p=n.min(i,f-t),d=n.min(r,a-e);for(var v=c;v<p;++v){var m=((t+v)*a+(e+h))*4,g=(v*r+h)*4;for(var y=h;y<d;++y)u[g++]=l[m++],u[g++]=l[m++],u[g++]=l[m++],u[g++]=l[m++]}return o.__isDirty=!0,o}function Li(){ln&&(y=an,ln=!1,g.updatePixels())}function Ai(){function e(e,t){function n(){Li(),y[t].apply(y,arguments)}e[t]=n}function t(e,t){function n(){return Li(),y[t]}function r(e){Li(),y[t]=e}g.defineProperty(e,t,{get:n,set:r})}for(var n in y)typeof y[n]=="function"?e(this,n):t(this,n)}function Oi(){if(ln)return;g.loadPixels(),fn===null&&(an=y,fn=new Ai),ln=!0,y=fn,cn=0}function Mi(e,t,n){e<g.width&&e>=0&&t>=0&&t<g.height&&(Oi(),g.pixels.setPixel((0|e)+g.width*(0|t),n),++cn>hn&&Li())}function _i(e,t,n,r){if(r.isRemote)throw"Image is loaded remotely. Cannot set x,y.";var i=g.color.toArray(n),s=t*r.width*4+e*4,o=r.imageData.data;o[s]=i[0],o[s+1]=i[1],o[s+2]=i[2],o[s+3]=i[3]}function Fi(e){return e instanceof String?e:typeof e=="number"?e===(0|e)?e.toString():g.nf(e,0,3):e===null||e===r?"":e.toString()}function Ii(e,t,n,r){var i,s;e.indexOf("\n")<0?(i=[e],s=1):(i=e.split(/\r?\n/g),s=i.length);var o=0;Zt===101?o=rn+sn:Zt===3?o=rn/2-(s-1)*on/2:Zt===102&&(o=-(sn+(s-1)*on));for(var u=0;u<s;++u){var a=i[u];S.text$line(a,t,n+o,r,Yt),o+=on}}function qi(e,t,r,i,s,o){if(e.length===0||i===0||s===0)return;if(nn>s)return;var u=-1,a=0,f=0,l=[];for(var c=0,h=e.length;c<h;c++){var p=e[c],d=p===" ",v=un.measureTextWidth(p);if(p!=="\n"&&f+v<=i)d&&(u=c),f+=v;else{if(u+1===a){if(!(c>0))return;u=c}p==="\n"?(l.push({text:e.substring(a,c),width:f}),a=c+1):(l.push({text:e.substring(a,u+1),width:f}),a=u+1),f=0,c=a-1}}a<h&&l.push({text:e.substring(a),width:f});var m=1,g=rn;Yt===3?m=i/2:Yt===39&&(m=i);var y=l.length,b=n.min(y,n.floor(s/on));Zt===101?g=rn+sn:Zt===3?g=s/2-on*(b/2-1):Zt===102&&(g=sn+on);var w,E,x;for(w=0;w<y;w++){x=w*on;if(g+x>s-sn)break;E=l[w],S.text$line(E.text,t+m,r+g+x,o,Yt)}}function Ri(e){e==="3D"?S=new Nr:e==="2D"?S=new Tr:S=new Cr;for(var t in Cr.prototype)Cr.prototype.hasOwnProperty(t)&&t.indexOf("$")<0&&(g[t]=S[t]);S.$init()}function Ui(e){return function(){return Ri("2D"),S[e].apply(this,arguments)}}function zi(t,n){var r=t,i=0,s=0;g.pmouseX=g.mouseX,g.pmouseY=g.mouseY;if(r.offsetParent)do i+=r.offsetLeft,s+=r.offsetTop;while(!!(r=r.offsetParent));r=t;do i-=r.scrollLeft||0,s-=r.scrollTop||0;while(!!(r=r.parentNode));return i+=mn,s+=gn,i+=yn,s+=bn,i+=e.pageXOffset,s+=e.pageYOffset,{X:i,Y:s}}function Wi(e,t){var n=zi(e,t);g.mouseX=t.pageX-n.X,g.mouseY=t.pageY-n.Y}function Xi(e){var t=zi(e.changedTouches[0].target,e.changedTouches[0]),n;for(n=0;n<e.touches.length;n++){var r=e.touches[n];r.offsetX=r.pageX-t.X,r.offsetY=r.pageY-t.Y}for(n=0;n<e.targetTouches.length;n++){var i=e.targetTouches[n];i.offsetX=i.pageX-t.X,i.offsetY=i.pageY-t.Y}for(n=0;n<e.changedTouches.length;n++){var s=e.changedTouches[n];s.offsetX=s.pageX-t.X,s.offsetY=s.pageY-t.Y}return e}function $i(e){var t=e.which||e.keyCode;switch(t){case 13:return 10;case 91:case 93:case 224:return 157;case 57392:return 17;case 46:return 127;case 45:return 155}return t}function Ji(e){var t=e.which||e.keyCode,n=e.shiftKey||e.ctrlKey||e.altKey||e.metaKey;switch(t){case 13:t=n?13:10;break;case 8:t=n?127:8}return new Lr(t)}function Ki(e){return typeof e.preventDefault=="function"?e.preventDefault():typeof e.stopPropagation=="function"&&e.stopPropagation(),!1}function Qi(){var e;for(e in pn)if(pn.hasOwnProperty(e)){g.__keyPressed=!0;return}g.__keyPressed=!1}function Gi(){g.__keyPressed=!1,pn=[],dn=null}function Yi(e,t){pn[e]=t,dn=null,g.key=t,g.keyCode=e,g.keyPressed(),g.keyCode=0,g.keyTyped(),Qi()}function Zi(e){var t=$i(e);if(t===127){Yi(t,new Lr(127));return}if(vn.indexOf(t)<0){dn=t;return}var n=new Lr(65535);return g.key=n,g.keyCode=t,pn[t]=n,g.keyPressed(),dn=null,Qi(),Ki(e)}function es(e){if(dn===null)return;var t=dn,n=Ji(e);return Yi(t,n),Ki(e)}function ts(e){var t=$i(e),n=pn[t];if(n===r)return;g.key=n,g.keyCode=t,g.keyReleased(),delete pn[t],Qi()}if(!(this instanceof _))throw"called Processing constructor as if it were a function: missing 'new'.";var a,v=s===r&&u===r;v?a=t.createElement("canvas"):a=typeof s=="string"?t.getElementById(s):s;if(!(a instanceof HTMLCanvasElement))throw"called Processing constructor without passing canvas element reference or id.";var g=this;g.externals={canvas:a,context:r,sketch:r},g.name="Processing.js Instance",g.use3DContext=!1,g.focused=!1,g.breakShape=!1,g.glyphTable={},g.pmouseX=0,g.pmouseY=0,g.mouseX=0,g.mouseY=0,g.mouseButton=0,g.mouseScroll=0,g.mouseClicked=r,g.mouseDragged=r,g.mouseMoved=r,g.mousePressed=r,g.mouseReleased=r,g.mouseScrolled=r,g.mouseOver=r,g.mouseOut=r,g.touchStart=r,g.touchEnd=r,g.touchMove=r,g.touchCancel=r,g.key=r,g.keyCode=r,g.keyPressed=i,g.keyReleased=i,g.keyTyped=i,g.draw=r,g.setup=r,g.__mousePressed=!1,g.__keyPressed=!1,g.__frameRate=60,g.frameCount=0,g.width=100,g.height=100;var y,w,S,x=!0,T=!0,C=[1,1,1,1],k=4294967295,O=!0,D=!0,P=[0,0,0,1],H=4278190080,B=!0,j=1,F=!1,I=!1,q=!0,R=0,U=0,z=3,W=0,X=0,V=0,$=0,J=60,K=1e3/J,Q="default",G=a.style.cursor,Y=20,Z=0,et=[],tt=0,nt=20,rt=!1,it=-3355444,st=20,ot=255,ut=255,at=255,ft=255,lt=!1,ct=!1,ht=0,pt=0,dt=1,vt=null,mt=null,gt=!1,yt=Date.now(),bt=yt,wt=0,Et,St,xt,Tt,Nt,Ct,kt,Lt={attributes:{},locations:{}},At,Ot,Mt,_t,Dt,Pt,Ht,Bt,jt,Ft,It,qt,Rt,Ut,zt,Wt,Xt,Vt={width:0,height:0},$t=2,Jt=!1,Kt,Qt,Gt,Yt=37,Zt=0,en=4,tn="Arial",nn=12,rn=9,sn=2,on=14,un=M.get(tn,nn),an,fn=null,ln=!1,cn,hn=1e3,pn=[],dn=null,vn=[16,17,18,20,33,34,35,36,37,38,39,40,144,155,112,113,114,115,116,117,118,119,120,121,122,123,157],mn,gn,yn,bn;t.defaultView&&t.defaultView.getComputedStyle&&(mn=parseInt(t.defaultView.getComputedStyle(a,null).paddingLeft,10)||0,gn=parseInt(t.defaultView.getComputedStyle(a,null).paddingTop,10)||0,yn=parseInt(t.defaultView.getComputedStyle(a,null).borderLeftWidth,10)||0,bn=parseInt(t.defaultView.getComputedStyle(a,null).borderTopWidth,10)||0);var wn=0,En=0,Sn=0,xn=[],Tn=[],Nn=[],Cn=new f(720),kn=new f(720),Ln,An,On,Mn,_n,Dn,Pn,Hn,Bn,jn,Fn=!1,In=!1,qn=60*(n.PI/180),Rn=g.width/2,Un=g.height/2,zn=Un/n.tan(qn/2),Wn=zn/10,Xn=zn*10,Vn=g.width/g.height,$n=[],Jn=[],Kn=0,Qn=!1,Gn=!1,Yn=!0,Zn=0,er=[],tr=new f([.5,.5,-0.5,.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,.5,-0.5,.5,.5,-0.5,.5,.5,.5,-0.5,.5,.5,-0.5,-0.5,.5,-0.5,-0.5,.5,.5,-0.5,.5,.5,.5,.5,.5,.5,-0.5,.5,.5,.5,.5,-0.5,.5,.5,-0.5,.5,.5,-0.5,-0.5,.5,.5,-0.5,.5,-0.5,-0.5,.5,-0.5,.5,-0.5,-0.5,.5,-0.5,-0.5,.5,-0.5,-0.5,-0.5,.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,.5,-0.5,.5,.5,-0.5,.5,.5,-0.5,.5,-0.5,-0.5,-0.5,-0.5,.5,.5,.5,.5,.5,-0.5,-0.5,.5,-0.5,-0.5,.5,-0.5,-0.5,.5,.5,.5,.5,.5]),nr=new f([.5,.5,.5,.5,-0.5,.5,.5,.5,-0.5,.5,-0.5,-0.5,-0.5,.5,-0.5,-0.5,-0.5,-0.5,-0.5,.5,.5,-0.5,-0.5,.5,.5,.5,.5,.5,.5,-0.5,.5,.5,-0.5,-0.5,.5,-0.5,-0.5,.5,-0.5,-0.5,.5,.5,-0.5,.5,.5,.5,.5,.5,.5,-0.5,.5,.5,-0.5,-0.5,.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,.5,-0.5,-0.5,.5,.5,-0.5,.5]),rr=new f([0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]),ir=new f([0,0,0,0,1,0,1,1,0,1,0,0]),sr=new f([0,0,1,0,0,1,0,0,1,0,0,1]),or="varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec4 aColor;uniform mat4 uView;uniform mat4 uProjection;uniform float uPointSize;void main(void) {  vFrontColor = aColor;  gl_PointSize = uPointSize;  gl_Position = uProjection * uView * vec4(aVertex, 1.0);}",ur="#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;uniform bool uSmooth;void main(void){  if(uSmooth == true){    float dist = distance(gl_PointCoord, vec2(0.5));    if(dist > 0.5){      discard;    }  }  gl_FragColor = vFrontColor;}",ar="varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec2 aTextureCoord;uniform vec4 uColor;uniform mat4 uModel;uniform mat4 uView;uniform mat4 uProjection;uniform float uPointSize;varying vec2 vTextureCoord;void main(void) {  gl_PointSize = uPointSize;  vFrontColor = uColor;  gl_Position = uProjection * uView * uModel * vec4(aVertex, 1.0);  vTextureCoord = aTextureCoord;}",fr="#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform int uIsDrawingText;uniform bool uSmooth;void main(void){  if(uSmooth == true){    float dist = distance(gl_PointCoord, vec2(0.5));    if(dist > 0.5){      discard;    }  }  if(uIsDrawingText == 1){    float alpha = texture2D(uSampler, vTextureCoord).a;    gl_FragColor = vec4(vFrontColor.rgb * alpha, alpha);  }  else{    gl_FragColor = vFrontColor;  }}",lr=/Windows/.test(navigator.userAgent),cr="varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec3 aNormal;attribute vec4 aColor;attribute vec2 aTexture;varying   vec2 vTexture;uniform vec4 uColor;uniform bool uUsingMat;uniform vec3 uSpecular;uniform vec3 uMaterialEmissive;uniform vec3 uMaterialAmbient;uniform vec3 uMaterialSpecular;uniform float uShininess;uniform mat4 uModel;uniform mat4 uView;uniform mat4 uProjection;uniform mat4 uNormalTransform;uniform int uLightCount;uniform vec3 uFalloff;struct Light {  int type;  vec3 color;  vec3 position;  vec3 direction;  float angle;  vec3 halfVector;  float concentration;};uniform Light uLights0;uniform Light uLights1;uniform Light uLights2;uniform Light uLights3;uniform Light uLights4;uniform Light uLights5;uniform Light uLights6;uniform Light uLights7;Light getLight(int index){  if(index == 0) return uLights0;  if(index == 1) return uLights1;  if(index == 2) return uLights2;  if(index == 3) return uLights3;  if(index == 4) return uLights4;  if(index == 5) return uLights5;  if(index == 6) return uLights6;  return uLights7;}void AmbientLight( inout vec3 totalAmbient, in vec3 ecPos, in Light light ) {  float d = length( light.position - ecPos );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ));  totalAmbient += light.color * attenuation;}void DirectionalLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerFactor = 0.0;  float nDotVP = max(0.0, dot( vertNormal, normalize(-light.position) ));  float nDotVH = max(0.0, dot( vertNormal, normalize(-light.position-normalize(ecPos) )));  if( nDotVP != 0.0 ){    powerFactor = pow( nDotVH, uShininess );  }  col += light.color * nDotVP;  spec += uSpecular * powerFactor;}void PointLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerFactor;   vec3 VP = light.position - ecPos;  float d = length( VP );   VP = normalize( VP );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ));  float nDotVP = max( 0.0, dot( vertNormal, VP ));  vec3 halfVector = normalize( VP - normalize(ecPos) );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ));  if( nDotVP == 0.0 ) {    powerFactor = 0.0;  }  else {    powerFactor = pow( nDotHV, uShininess );  }  spec += uSpecular * powerFactor * attenuation;  col += light.color * nDotVP * attenuation;}void SpotLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float spotAttenuation;  float powerFactor = 0.0;  vec3 VP = light.position - ecPos;  vec3 ldir = normalize( -light.direction );  float d = length( VP );  VP = normalize( VP );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ) );  float spotDot = dot( VP, ldir );"+(lr?"  spotAttenuation = 1.0; ":"  if( spotDot > cos( light.angle ) ) {    spotAttenuation = pow( spotDot, light.concentration );  }  else{    spotAttenuation = 0.0;  }  attenuation *= spotAttenuation;")+"  float nDotVP = max( 0.0, dot( vertNormal, VP ) );"+"  vec3 halfVector = normalize( VP - normalize(ecPos) );"+"  float nDotHV = max( 0.0, dot( vertNormal, halfVector ) );"+"  if( nDotVP != 0.0 ) {"+"    powerFactor = pow( nDotHV, uShininess );"+"  }"+"  spec += uSpecular * powerFactor * attenuation;"+"  col += light.color * nDotVP * attenuation;"+"}"+"void main(void) {"+"  vec3 finalAmbient = vec3( 0.0 );"+"  vec3 finalDiffuse = vec3( 0.0 );"+"  vec3 finalSpecular = vec3( 0.0 );"+"  vec4 col = uColor;"+"  if ( uColor[0] == -1.0 ){"+"    col = aColor;"+"  }"+"  vec3 norm = normalize(vec3( uNormalTransform * vec4( aNormal, 0.0 ) ));"+"  vec4 ecPos4 = uView * uModel * vec4(aVertex, 1.0);"+"  vec3 ecPos = (vec3(ecPos4))/ecPos4.w;"+"  if( uLightCount == 0 ) {"+"    vFrontColor = col + vec4(uMaterialSpecular, 1.0);"+"  }"+"  else {"+"    for( int i = 0; i < 8; i++ ) {"+"      Light l = getLight(i);"+"      if( i >= uLightCount ){"+"        break;"+"      }"+"      if( l.type == 0 ) {"+"        AmbientLight( finalAmbient, ecPos, l );"+"      }"+"      else if( l.type == 1 ) {"+"        DirectionalLight( finalDiffuse, finalSpecular, norm, ecPos, l );"+"      }"+"      else if( l.type == 2 ) {"+"        PointLight( finalDiffuse, finalSpecular, norm, ecPos, l );"+"      }"+"      else {"+"        SpotLight( finalDiffuse, finalSpecular, norm, ecPos, l );"+"      }"+"    }"+"   if( uUsingMat == false ) {"+"     vFrontColor = vec4("+"       vec3( col ) * finalAmbient +"+"       vec3( col ) * finalDiffuse +"+"       vec3( col ) * finalSpecular,"+"       col[3] );"+"   }"+"   else{"+"     vFrontColor = vec4( "+"       uMaterialEmissive + "+"       (vec3(col) * uMaterialAmbient * finalAmbient ) + "+"       (vec3(col) * finalDiffuse) + "+"       (uMaterialSpecular * finalSpecular), "+"       col[3] );"+"    }"+"  }"+"  vTexture.xy = aTexture.xy;"+"  gl_Position = uProjection * uView * uModel * vec4( aVertex, 1.0 );"+"}"
,hr="#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;uniform sampler2D uSampler;uniform bool uUsingTexture;varying vec2 vTexture;void main(void){  if( uUsingTexture ){    gl_FragColor = vec4(texture2D(uSampler, vTexture.xy)) * vFrontColor;  }  else{    gl_FragColor = vFrontColor;  }}",yr=function(e,t,n){var r=e.createShader(e.VERTEX_SHADER);e.shaderSource(r,t),e.compileShader(r);if(!e.getShaderParameter(r,e.COMPILE_STATUS))throw e.getShaderInfoLog(r);var i=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(i,n),e.compileShader(i);if(!e.getShaderParameter(i,e.COMPILE_STATUS))throw e.getShaderInfoLog(i);var s=e.createProgram();e.attachShader(s,r),e.attachShader(s,i),e.linkProgram(s);if(!e.getProgramParameter(s,e.LINK_STATUS))throw"Error linking shaders.";return s},br=function(e,t,n,r,i){return{x:e,y:t,w:n,h:r}},wr=br,Er=function(e,t,n,r,i){return{x:e,y:t,w:i?n:n-e,h:i?r:r-t}},Sr=function(e,t,n,r,i){return{x:e-n/2,y:t-r/2,w:n,h:r}},xr=function(){},Tr=function(){},Nr=function(){},Cr=function(){};Tr.prototype=new xr,Tr.prototype.constructor=Tr,Nr.prototype=new xr,Nr.prototype.constructor=Nr,Cr.prototype=new xr,Cr.prototype.constructor=Cr,xr.prototype.a3DOnlyFunction=i;var kr={},Lr=g.Character=function(e){return typeof e=="string"&&e.length===1?this.code=e.charCodeAt(0):typeof e=="number"?this.code=e:e instanceof Lr?this.code=e:this.code=NaN,kr[this.code]===r?kr[this.code]=this:kr[this.code]};Lr.prototype.toString=function(){return String.fromCharCode(this.code)},Lr.prototype.valueOf=function(){return this.code};var Ar=g.PShape=function(e){this.family=e||0,this.visible=!0,this.style=!0,this.children=[],this.nameTable=[],this.params=[],this.name="",this.image=null,this.matrix=null,this.kind=null,this.close=null,this.width=null,this.height=null,this.parent=null};Ar.prototype={isVisible:function(){return this.visible},setVisible:function(e){this.visible=e},disableStyle:function(){this.style=!1;for(var e=0,t=this.children.length;e<t;e++)this.children[e].disableStyle()},enableStyle:function(){this.style=!0;for(var e=0,t=this.children.length;e<t;e++)this.children[e].enableStyle()},getFamily:function(){return this.family},getWidth:function(){return this.width},getHeight:function(){return this.height},setName:function(e){this.name=e},getName:function(){return this.name},draw:function(e){e=e||g,this.visible&&(this.pre(e),this.drawImpl(e),this.post(e))},drawImpl:function(e){this.family===0?this.drawGroup(e):this.family===1?this.drawPrimitive(e):this.family===3?this.drawGeometry(e):this.family===21&&this.drawPath(e)},drawPath:function(e){var t,n;if(this.vertices.length===0)return;e.beginShape();if(this.vertexCodes.length===0)if(this.vertices[0].length===2)for(t=0,n=this.vertices.length;t<n;t++)e.vertex(this.vertices[t][0],this.vertices[t][1]);else for(t=0,n=this.vertices.length;t<n;t++)e.vertex(this.vertices[t][0],this.vertices[t][1],this.vertices[t][2]);else{var r=0;if(this.vertices[0].length===2)for(t=0,n=this.vertexCodes.length;t<n;t++)this.vertexCodes[t]===0?(e.vertex(this.vertices[r][0],this.vertices[r][1],this.vertices[r].moveTo),e.breakShape=!1,r++):this.vertexCodes[t]===1?(e.bezierVertex(this.vertices[r+0][0],this.vertices[r+0][1],this.vertices[r+1][0],this.vertices[r+1][1],this.vertices[r+2][0],this.vertices[r+2][1]),r+=3):this.vertexCodes[t]===2?(e.curveVertex(this.vertices[r][0],this.vertices[r][1]),r++):this.vertexCodes[t]===3&&(e.breakShape=!0);else for(t=0,n=this.vertexCodes.length;t<n;t++)this.vertexCodes[t]===0?(e.vertex(this.vertices[r][0],this.vertices[r][1],this.vertices[r][2]),this.vertices[r].moveTo===!0?$n[$n.length-1].moveTo=!0:this.vertices[r].moveTo===!1&&($n[$n.length-1].moveTo=!1),e.breakShape=!1):this.vertexCodes[t]===1?(e.bezierVertex(this.vertices[r+0][0],this.vertices[r+0][1],this.vertices[r+0][2],this.vertices[r+1][0],this.vertices[r+1][1],this.vertices[r+1][2],this.vertices[r+2][0],this.vertices[r+2][1],this.vertices[r+2][2]),r+=3):this.vertexCodes[t]===2?(e.curveVertex(this.vertices[r][0],this.vertices[r][1],this.vertices[r][2]),r++):this.vertexCodes[t]===3&&(e.breakShape=!0)}e.endShape(this.close?2:1)},drawGeometry:function(e){var t,n;e.beginShape(this.kind);if(this.style)for(t=0,n=this.vertices.length;t<n;t++)e.vertex(this.vertices[t]);else for(t=0,n=this.vertices.length;t<n;t++){var r=this.vertices[t];r[2]===0?e.vertex(r[0],r[1]):e.vertex(r[0],r[1],r[2])}e.endShape()},drawGroup:function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t].draw(e)},drawPrimitive:function(e){if(this.kind===2)e.point(this.params[0],this.params[1]);else if(this.kind===4)this.params.length===4?e.line(this.params[0],this.params[1],this.params[2],this.params[3]):e.line(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]);else if(this.kind===8)e.triangle(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]);else if(this.kind===16)e.quad(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5],this.params[6],this.params[7]);else if(this.kind===30)if(this.image!==null){var t=wr;e.imageMode(0),e.image(this.image,this.params[0],this.params[1],this.params[2],this.params[3]),wr=t}else{var n=U;e.rectMode(0),e.rect(this.params[0],this.params[1],this.params[2],this.params[3]),U=n}else if(this.kind===31){var r=z;e.ellipseMode(0),e.ellipse(this.params[0],this.params[1],this.params[2],this.params[3]),z=r}else if(this.kind===32){var i=z;e.ellipseMode(0),e.arc(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]),z=i}else this.kind===41?this.params.length===1?e.box(this.params[0]):e.box(this.params[0],this.params[1],this.params[2]):this.kind===40&&e.sphere(this.params[0])},pre:function(e){this.matrix&&(e.pushMatrix(),e.transform(this.matrix)),this.style&&(e.pushStyle(),this.styles(e))},post:function(e){this.matrix&&e.popMatrix(),this.style&&e.popStyle()},styles:function(e){this.stroke?(e.stroke(this.strokeColor),e.strokeWeight(this.strokeWeight),e.strokeCap(this.strokeCap),e.strokeJoin(this.strokeJoin)):e.noStroke(),this.fill?e.fill(this.fillColor):e.noFill()},getChild:function(e){var t,n;if(typeof e=="number")return this.children[e];var r;if(e===""||this.name===e)return this;if(this.nameTable.length>0){for(t=0,n=this.nameTable.length;t<n||r;t++)if(this.nameTable[t].getName===e){r=this.nameTable[t];break}if(r)return r}for(t=0,n=this.children.length;t<n;t++){r=this.children[t].getChild(e);if(r)return r}return null},getChildCount:function(){return this.children.length},addChild:function(e){this.children.push(e),e.parent=this,e.getName()!==null&&this.addName(e.getName(),e)},addName:function(e,t){this.parent!==null?this.parent.addName(e,t):this.nameTable.push([e,t])},translate:function(){arguments.length===2?(this.checkMatrix(2),this.matrix.translate(arguments[0],arguments[1])):(this.checkMatrix(3),this.matrix.translate(arguments[0],arguments[1],0))},checkMatrix:function(e){this.matrix===null?e===2?this.matrix=new g.PMatrix2D:this.matrix=new g.PMatrix3D:e===3&&this.matrix instanceof g.PMatrix2D&&(this.matrix=new g.PMatrix3D)},rotateX:function(e){this.rotate(e,1,0,0)},rotateY:function(e){this.rotate(e,0,1,0)},rotateZ:function(e){this.rotate(e,0,0,1)},rotate:function(){arguments.length===1?(this.checkMatrix(2),this.matrix.rotate(arguments[0])):(this.checkMatrix(3),this.matrix.rotate(arguments[0],arguments[1],arguments[2],arguments[3]))},scale:function(){arguments.length===2?(this.checkMatrix(2),this.matrix.scale(arguments[0],arguments[1])):arguments.length===3?(this.checkMatrix(2),this.matrix.scale(arguments[0],arguments[1],arguments[2])):(this.checkMatrix(2),this.matrix.scale(arguments[0]))},resetMatrix:function(){this.checkMatrix(2),this.matrix.reset()},applyMatrix:function(e){arguments.length===1?this.applyMatrix(e.elements[0],e.elements[1],0,e.elements[2],e.elements[3],e.elements[4],0,e.elements[5],0,0,1,0,0,0,0,1):arguments.length===6?(this.checkMatrix(2),this.matrix.apply(arguments[0],arguments[1],arguments[2],0,arguments[3],arguments[4],arguments[5],0,0,0,1,0,0,0,0,1)):arguments.length===16&&(this.checkMatrix(3),this.matrix.apply(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]))}};var Or=g.PShapeSVG=function(){g.PShape.call(this);if(arguments.length===1){this.element=arguments[0],this.vertexCodes=[],this.vertices=[],this.opacity=1,this.stroke=!1,this.strokeColor=4278190080,this.strokeWeight=1,this.strokeCap="butt",this.strokeJoin="miter",this.strokeGradient=null,this.strokeGradientPaint=null,this.strokeName=null,this.strokeOpacity=1,this.fill=!0,this.fillColor=4278190080,this.fillGradient=null,this.fillGradientPaint=null,this.fillName=null,this.fillOpacity=1;if(this.element.getName()!=="svg")throw"root is not <svg>, it's <"+this.element.getName()+">"}else arguments.length===2&&(typeof arguments[1]=="string"?arguments[1].indexOf(".svg")>-1&&(this.element=new g.XMLElement(g,arguments[1]),this.vertexCodes=[],this.vertices=[],this.opacity=1,this.stroke=!1,this.strokeColor=4278190080,this.strokeWeight=1,this.strokeCap="butt",this.strokeJoin="miter",this.strokeGradient="",this.strokeGradientPaint="",this.strokeName="",this.strokeOpacity=1,this.fill=!0,this.fillColor=4278190080,this.fillGradient=null,this.fillGradientPaint=null,this.fillOpacity=1):arguments[0]&&(this.element=arguments[1],this.vertexCodes=arguments[0].vertexCodes.slice(),this.vertices=arguments[0].vertices.slice(),this.stroke=arguments[0].stroke,this.strokeColor=arguments[0].strokeColor,this.strokeWeight=arguments[0].strokeWeight,this.strokeCap=arguments[0].strokeCap,this.strokeJoin=arguments[0].strokeJoin,this.strokeGradient=arguments[0].strokeGradient,this.strokeGradientPaint=arguments[0].strokeGradientPaint,this.strokeName=arguments[0].strokeName,this.fill=arguments[0].fill,this.fillColor=arguments[0].fillColor,this.fillGradient=arguments[0].fillGradient,this.fillGradientPaint=arguments[0].fillGradientPaint,this.fillName=arguments[0].fillName,this.strokeOpacity=arguments[0].strokeOpacity,this.fillOpacity=arguments[0].fillOpacity,this.opacity=arguments[0].opacity));this.name=this.element.getStringAttribute("id");var e=this.element.getStringAttribute("display","inline");this.visible=e!=="none";var t=this.element.getAttribute("transform");t&&(this.matrix=this.parseMatrix(t));var n=this.element.getStringAttribute("viewBox");if(n!==null){var r=n.split(" ");this.width=r[2],this.height=r[3]}var i=this.element.getStringAttribute("width"),s=this.element.getStringAttribute("height");if(i!==null)this.width=this.parseUnitSize(i),this.height=this.parseUnitSize(s);else if(this.width===0||this.height===0)throw this.width=1,this.height=1,"The width and/or height is not readable in the <svg> tag of this file.";this.parseColors(this.element),this.parseChildren(this.element)};Or.prototype=new Ar,Or.prototype.parseMatrix=function(){function e(e){var t=[];return e.replace(/\((.*?)\)/,function(){return function(e,n){t=n.replace(/,+/g," ").split(/\s+/)}}()),t}return function(t){this.checkMatrix(2);var n=[];t.replace(/\s*(\w+)\((.*?)\)/g,function(e){n.push(g.trim(e))});if(n.length===0)return null;for(var r=0,i=n.length;r<i;r++){var s=e(n[r]);if(n[r].indexOf("matrix")!==-1)this.matrix.set(s[0],s[2],s[4],s[1],s[3],s[5]);else if(n[r].indexOf("translate")!==-1){var o=s[0],u=s.length===2?s[1]:0;this.matrix.translate(o,u)}else if(n[r].indexOf("scale")!==-1){var a=s[0],f=s.length===2?s[1]:s[0];this.matrix.scale(a,f)}else if(n[r].indexOf("rotate")!==-1){var l=s[0];s.length===1?this.matrix.rotate(g.radians(l)):s.length===3&&(this.matrix.translate(s[1],s[2]),this.matrix.rotate(g.radians(s[0])),this.matrix.translate(-s[1],-s[2]))}else n[r].indexOf("skewX")!==-1?this.matrix.skewX(parseFloat(s[0])):n[r].indexOf("skewY")!==-1?this.matrix.skewY(s[0]):n[r].indexOf("shearX")!==-1?this.matrix.shearX(s[0]):n[r].indexOf("shearY")!==-1&&this.matrix.shearY(s[0])}return this.matrix}}(),Or.prototype.parseChildren=function(e){var t=e.getChildren(),n=new g.PShape;for(var r=0,i=t.length;r<i;r++){var s=this.parseChild(t[r]);s&&n.addChild(s)}this.children.push(n)},Or.prototype.getName=function(){return this.name},Or.prototype.parseChild=function(e){var t=e.getName(),n;return t==="g"?n=new Or(this,e):t==="defs"?n=new Or(this,e):t==="line"?(n=new Or(this,e),n.parseLine()):t==="circle"?(n=new Or(this,e),n.parseEllipse(!0)):t==="ellipse"?(n=new Or(this,e),n.parseEllipse(!1)):t==="rect"?(n=new Or(this,e),n.parseRect()):t==="polygon"?(n=new Or(this,e),n.parsePoly(!0)):t==="polyline"?(n=new Or(this,e),n.parsePoly(!1)):t==="path"?(n=new Or(this,e),n.parsePath()):t==="radialGradient"?m("PShapeSVG.prototype.parseChild, name = radialGradient"):t==="linearGradient"?m("PShapeSVG.prototype.parseChild, name = linearGradient"):t==="text"?m("PShapeSVG.prototype.parseChild, name = text"):t==="filter"?m("PShapeSVG.prototype.parseChild, name = filter"):t==="mask"?m("PShapeSVG.prototype.parseChild, name = mask"):i(),n},Or.prototype.parsePath=function(){this.family=21,this.kind=0;var e=[],t,n=g.trim(this.element.getStringAttribute("d").replace(/[\s,]+/g," "));if(n===null)return;n=g.__toCharArray(n);var r=0,i=0,s=0,o=0,u=0,a=0,f=0,l=0,c=0,h=0,p=0,d=0,v=0,m=0,y=0,b=0,w="",E=[],S=!1,x,T,N,C;while(y<n.length){b=n[y].valueOf();if(b>=65&&b<=90||b>=97&&b<=122){N=y,y++;if(y<n.length){E=[],b=n[y].valueOf();while(!(b>=65&&b<=90||b>=97&&b<=100||b>=102&&b<=122)&&S===!1)b===32?(w!==""&&(E.push(parseFloat(w)),w=""),y++):b===45?n[y-1].valueOf()===101?(w+=n[y].toString(),y++):(w!==""&&E.push(parseFloat(w)),w=n[y].toString(),y++):(w+=n[y].toString(),y++),y===n.length?S=!0:b=n[y].valueOf()}w!==""&&(E.push(parseFloat(w)),w=""),T=n[N],b=T.valueOf();if(b===77){if(E.length>=2&&E.length%2===0){r=E[0],i=E[1],this.parsePathMoveto(r,i);if(E.length>2)for(N=2,C=E.length;N<C;N+=2)r=E[N],i=E[N+1],this.parsePathLineto(r,i)}}else if(b===109){if(E.length>=2&&E.length%2===0){r+=E[0],i+=E[1],this.parsePathMoveto(r,i);if(E.length>2)for(N=2,C=E.length;N<C;N+=2)r+=E[N],i+=E[N+1],this.parsePathLineto(r,i)}}else if(b===76){if(E.length>=2&&E.length%2===0)for(N=0,C=E.length;N<C;N+=2)r=E[N],i=E[N+1],this.parsePathLineto(r,i)}else if(b===108){if(E.length>=2&&E.length%2===0)for(N=0,C=E.length;N<C;N+=2)r+=E[N],i+=E[N+1],this.parsePathLineto(r,i)}else if(b===72)for(N=0,C=E.length;N<C;N++)r=E[N],this.parsePathLineto(r,i);else if(b===104)for(N=0,C=E.length;N<C;N++)r+=E[N],this.parsePathLineto(r,i);else if(b===86)for(N=0,C=E.length;N<C;N++)i=E[N],this.parsePathLineto(r,i);else if(b===118)for(N=0,C=E.length;N<C;N++)i+=E[N],this.parsePathLineto(r,i);else if(b===67){if(E.length>=6&&E.length%6===0)for(N=0,C=E.length;N<C;N+=6)u=E[N],f=E[N+1],a=E[N+2],l=E[N+3],c=E[N+4],h=E[N+5],this.parsePathCurveto(u,f,a,l,c,h),r=c,i=h}else if(b===99){if(E.length>=6&&E.length%6===0)for(N=0,C=E.length;N<C;N+=6)u=r+E[N],f=i+E[N+1],a=r+E[N+2],l=i+E[N+3],c=r+E[N+4],h=i+E[N+5],this.parsePathCurveto(u,f,a,l,c,h),r=c,i=h}else if(b===83){if(E.length>=4&&E.length%4===0)for(N=0,C=E.length;N<C;N+=4)x.toLowerCase()==="c"||x.toLowerCase()==="s"?(p=this.vertices[this.vertices.length-2][0],d=this.vertices[this.vertices.length-2][1],v=this.vertices[this.vertices.length-1][0],m=this.vertices[this.vertices.length-1][1],u=v+(v-p),f=m+(m-d)):(u=this.vertices[this.vertices.length-1][0],f=this.vertices[this.vertices.length-1][1]),a=E[N],l=E[N+1],c=E[N+2],h=E[N+3],this.parsePathCurveto(u,f,a,l,c,h),r=c,i=h}else if(b===115){if(E.length>=4&&E.length%4===0)for(N=0,C=E.length;N<C;N+=4)x.toLowerCase()==="c"||x.toLowerCase()==="s"?(p=this.vertices[this.vertices.length-2][0],d=this.vertices[this.vertices.length-2][1],v=this.vertices[this.vertices.length-1][0],m=this.vertices[this.vertices.length-1][1],u=v+(v-p),f=m+(m-d)):(u=this.vertices[this.vertices.length-1][0],f=this.vertices[this.vertices.length-1][1]),a=r+E[N],l=i+E[N+1],c=r+E[N+2],h=i+E[N+3],this.parsePathCurveto(u,f,a,l,c,h),r=c,i=h}else if(b===81){if(E.length>=4&&E.length%4===0)for(N=0,C=E.length;N<C;N+=4)s=E[N],o=E[N+1],c=E[N+2],h=E[N+3],this.parsePathQuadto(r,i,s,o,c,h),r=c,i=h}else if(b===113){if(E.length>=4&&E.length%4===0)for(N=0,C=E.length;N<C;N+=4)s=r+E[N],o=i+E[N+1],c=r+E[N+2],h=i+E[N+3],this.parsePathQuadto(r,i,s,o,c,h),r=c,i=h}else if(b===84){if(E.length>=2&&E.length%2===0)for(N=0,C=E.length;N<C;N+=2)x.toLowerCase()==="q"||x.toLowerCase()==="t"?(p=this.vertices[this.vertices.length-2][0],d=this.vertices[this.vertices.length-2][1],v=this.vertices[this.vertices.length-1][0],m=this.vertices[this.vertices.length-1][1],s=v+(v-p),o=m+(m-d)):(s=r,o=i),c=E[N],h=E[N+1],this.parsePathQuadto(r,i,s,o,c,h),r=c,i=h}else if(b===116){if(E.length>=2&&E.length%2===0)for(N=0,C=E.length;N<C;N+=2)x.toLowerCase()==="q"||x.toLowerCase()==="t"?(p=this.vertices[this.vertices.length-2][0],d=this.vertices[this.vertices.length-2][1],v=this.vertices[this.vertices.length-1][0],m=this.vertices[this.vertices.length-1][1],s=v+(v-p),o=m+(m-d)):(s=r,o=i),c=r+E[N],h=i+E[N+1],this.parsePathQuadto(r,i,s,o,c,h),r=c,i=h}else if(b===90||b===122)this.close=!0;x=T.toString()}else y++}},Or.prototype.parsePathQuadto=function(e,t,n,r,i,s){if(!(this.vertices.length>0))throw"Path must start with M/m";this.parsePathCode(1),this.parsePathVertex(e+(n-e)*2/3,t+(r-t)*2/3),this.parsePathVertex(i+(n-i)*2/3,s+(r-s)*2/3),this.parsePathVertex(i,s)},Or.prototype.parsePathCurveto=function(e,t,n,r,i,s){if(!(this.vertices.length>0))throw"Path must start with M/m";this.parsePathCode(1),this.parsePathVertex(e,t),this.parsePathVertex(n,r),this.parsePathVertex(i,s)},Or.prototype.parsePathLineto=function(e,t){if(!(this.vertices.length>0))throw"Path must start with M/m";this.parsePathCode(0),this.parsePathVertex(e,t),this.vertices[this.vertices.length-1].moveTo=!1},Or.prototype.parsePathMoveto=function(e,t){this.vertices.length>0&&this.parsePathCode(3),this.parsePathCode(0),this.parsePathVertex(e,t),this.vertices[this.vertices.length-1].moveTo=!0},Or.prototype.parsePathVertex=function(e,t){var n=[];n[0]=e,n[1]=t,this.vertices.push(n)},Or.prototype.parsePathCode=function(e){this.vertexCodes.push(e)},Or.prototype.parsePoly=function(e){this.family=21,this.close=e;var t=g.trim(this.element.getStringAttribute("points").replace(/[,\s]+/g," "));if(t!==null){var n=t.split(" ");if(n.length%2!==0)throw"Error parsing polygon points: odd number of coordinates provided";for(var r=0,i=n.length;r<i;r++){var s=[];s[0]=n[r],s[1]=n[++r],this.vertices.push(s)}}},Or.prototype.parseRect=function(){this.kind=30,this.family=1,this.params=[],this.params[0]=this.element.getFloatAttribute("x"),this.params[1]=this.element.getFloatAttribute("y"),this.params[2]=this.element.getFloatAttribute("width"),this.params[3]=this.element.getFloatAttribute("height");if(this.params[2]<0||this.params[3]<0)throw"svg error: negative width or height found while parsing <rect>"},Or.prototype.parseEllipse=function(e){this.kind=31,this.family=1,this.params=[],this.params[0]=this.element.getFloatAttribute("cx")|0,this.params[1]=this.element.getFloatAttribute("cy")|0;var t,n;if(e){t=n=this.element.getFloatAttribute("r");if(t<0)throw"svg error: negative radius found while parsing <circle>"}else{t=this.element.getFloatAttribute("rx"),n=this.element.getFloatAttribute("ry");if(t<0||n<0)throw"svg error: negative x-axis radius or y-axis radius found while parsing <ellipse>"}this.params[0]-=t,this.params[1]-=n,this.params[2]=t*2,this.params[3]=n*2},Or.prototype.parseLine=function(){this.kind=4,this.family=1,this.params=[],this.params[0]=this.element.getFloatAttribute("x1"),this.params[1]=this.element.getFloatAttribute("y1"),this.params[2]=this.element.getFloatAttribute("x2"),this.params[3]=this.element.getFloatAttribute("y2")},Or.prototype.parseColors=function(e){e.hasAttribute("opacity")&&this.setOpacity(e.getAttribute("opacity")),e.hasAttribute("stroke")&&this.setStroke(e.getAttribute("stroke")),e.hasAttribute("stroke-width")&&this.setStrokeWeight(e.getAttribute("stroke-width")),e.hasAttribute("stroke-linejoin")&&this.setStrokeJoin(e.getAttribute("stroke-linejoin")),e.hasAttribute("stroke-linecap")&&this.setStrokeCap(e.getStringAttribute("stroke-linecap")),e.hasAttribute("fill")&&this.setFill(e.getStringAttribute("fill"));if(e.hasAttribute("style")){var t=e.getStringAttribute("style"),n=t.toString().split(";");for(var r=0,i=n.length;r<i;r++){var s=g.trim(n[r].split(":"));s[0]==="fill"?this.setFill(s[1]):s[0]==="fill-opacity"?this.setFillOpacity(s[1]):s[0]==="stroke"?this.setStroke(s[1]):s[0]==="stroke-width"?this.setStrokeWeight(s[1]):s[0]==="stroke-linecap"?this.setStrokeCap(s[1]):s[0]==="stroke-linejoin"?this.setStrokeJoin(s[1]):s[0]==="stroke-opacity"?this.setStrokeOpacity(s[1]):s[0]==="opacity"&&this.setOpacity(s[1])}}},Or.prototype.setFillOpacity=function(e){this.fillOpacity=parseFloat(e),this.fillColor=this.fillOpacity*255<<24|this.fillColor&16777215},Or.prototype.setFill=function(e){var t=this.fillColor&4278190080;e==="none"?this.fill=!1:e.indexOf("#")===0?(this.fill=!0,e.length===4&&(e=e.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),this.fillColor=t|parseInt(e.substring(1),16)&16777215):e.indexOf("rgb")===0?(this.fill=!0,this.fillColor=t|this.parseRGB(e)):e.indexOf("url(#")===0?this.fillName=e.substring(5,e.length-1):N[e]&&(this.fill=!0,this.fillColor=t|parseInt(N[e].substring(1),16)&16777215)},Or.prototype.setOpacity=function(e){this.strokeColor=parseFloat(e)*255<<24|this.strokeColor&16777215,this.fillColor=parseFloat(e)*255<<24|this.fillColor&16777215},Or.prototype.setStroke=function(e){var t=this.strokeColor&4278190080;e==="none"?this.stroke=!1:e.charAt(0)==="#"?(this.stroke=!0,e.length===4&&(e=e.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),this.strokeColor=t|parseInt(e.substring(1),16)&16777215):e.indexOf("rgb")===0?(this.stroke=!0,this.strokeColor=t|this.parseRGB(e)):e.indexOf("url(#")===0?this.strokeName=e.substring(5,e.length-1):N[e]&&(this.stroke=!0,this.strokeColor=t|parseInt(N[e].substring(1),16)&16777215)},Or.prototype.setStrokeWeight=function(e){this.strokeWeight=this.parseUnitSize(e)},Or.prototype.setStrokeJoin=function(e){e==="miter"?this.strokeJoin="miter":e==="round"?this.strokeJoin="round":e==="bevel"&&(this.strokeJoin="bevel")},Or.prototype.setStrokeCap=function(e){e==="butt"?this.strokeCap="butt":e==="round"?this.strokeCap="round":e==="square"&&(this.strokeCap="square")},Or.prototype.setStrokeOpacity=function(e){this.strokeOpacity=parseFloat(e),this.strokeColor=this.strokeOpacity*255<<24|this.strokeColor&16777215},Or.prototype.parseRGB=function(e){var t=e.substring(e.indexOf("(")+1,e.indexOf(")")),n=t.split(", ");return n[0]<<16|n[1]<<8|n[2]},Or.prototype.parseUnitSize=function(e){var t=e.length-2;return t<0?e:e.indexOf("pt")===t?parseFloat(e.substring(0,t))*1.25:e.indexOf("pc")===t?parseFloat(e.substring(0,t))*15:e.indexOf("mm")===t?parseFloat(e.substring(0,t))*3.543307:e.indexOf("cm")===t?parseFloat(e.substring(0,t))*35.43307:e.indexOf("in")===t?parseFloat(e.substring(0,t))*90:e.indexOf("px")===t?parseFloat(e.substring(0,t)):parseFloat(e)},g.shape=function(e,t,n,r,i){arguments.length>=1&&arguments[0]!==null&&e.isVisible()&&(g.pushMatrix(),Zn===3?arguments.length===5?(g.translate(t-r/2,n-i/2),g.scale(r/e.getWidth(),i/e.getHeight())):arguments.length===3?g.translate(t-e.getWidth()/2,-e.getHeight()/2):g.translate(-e.getWidth()/2,-e.getHeight()/2):Zn===0?arguments.length===5?(g.translate(t,n),g.scale(r/e.getWidth(),i/e.getHeight())):arguments.length===3&&g.translate(t,n):Zn===1&&(arguments.length===5?(r-=t,i-=n,g.translate(t,n),g.scale(r/e.getWidth(),i/e.getHeight())):arguments.length===3&&g.translate(t,n)),e.draw(g),(arguments.length===1&&Zn===3||arguments.length>1)&&g.popMatrix())},g.shapeMode=function(e){Zn=e},g.loadShape=function(e){return arguments.length===1&&e.indexOf(".svg")>-1?new Or(null,e):null};var Mr=function(e,t,n,r,i){this.fullName=e||"",this.name=t||"",this.namespace=n||"",this.value=r,this.type=i};Mr.prototype={getName:function(){return this.name},getFullName:function(){return this.fullName},getNamespace:function(){return this.namespace},getValue:function(){return this.value},getType:function(){return this.type},setValue:function(e){this.value=e}};var _r=g.XMLElement=function(e,t,n,i){this.attributes=[],this.children=[],this.fullName=null,this.name=null,this.namespace="",this.content=null,this.parent=null,this.lineNr="",this.systemID="",this.type="ELEMENT",e&&(typeof e=="string"?t===r&&e.indexOf("<")>-1?this.parse(e):(this.fullName=e,this.namespace=t,this.systemId=n,this.lineNr=i):this.parse(t))};_r.prototype={parse:function(e){var t;try{var n=e.substring(e.length-4);if(n===".xml"||n===".svg")e=o(e);t=(new DOMParser).parseFromString(e,"text/xml");var r=t.documentElement;if(!r)throw"Error loading document";return this.parseChildrenRecursive(null,r),this}catch(i){throw i}},parseChildrenRecursive:function(e,t){var n,r,i,s,o,u;e?(n=new _r(t.nodeName),n.parent=e):(this.fullName=t.localName,this.name=t.nodeName,n=this);if(t.nodeType===3&&t.textContent!=="")return this.createPCDataElement(t.textContent);if(t.nodeType===4)return this.createCDataElement(t.textContent);if(t.attributes)for(s=0,o=t.attributes.length;s<o;s++)i=t.attributes[s],r=new Mr(i.getname,i.nodeName,i.namespaceURI,i.nodeValue,i.nodeType),n.attributes.push(r);if(t.childNodes)for(s=0,o=t.childNodes.length;s<o;s++){var a=t.childNodes[s];u=n.parseChildrenRecursive(n,a),u!==null&&n.children.push(u)}return n},createElement:function(e,t,n,i){return n===r?new _r(e,t):new _r(e,t,n,i)},createPCDataElement:function(e,t){if(e.replace(/^\s+$/g,"")==="")return null;var n=new _r;return n.type="TEXT",n.content=e,n},createCDataElement:function(e){var t=this.createPCDataElement(e);if(t===null)return null;t.type="CDATA";var n={"<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"},r;for(r in n)Object.hasOwnProperty(n,r)||(e=e.replace(new RegExp(r,"g"),n[r]));return t.cdata=e,t},hasAttribute:function(){if(arguments.length===1)return this.getAttribute(arguments[0])!==null;if(arguments.length===2)return this.getAttribute(arguments[0],arguments[1])!==null},equals:function(e){if(e instanceof _r){var t,n;if(this.fullName!==e.fullName)return!1;if(this.attributes.length!==e.getAttributeCount())return!1;if(this.attributes.length!==e.attributes.length)return!1;var r,i,s,o,u;for(t=0,n=this.attributes.length;t<n;t++){r=this.attributes[t].getName(),i=this.attributes[t].getNamespace(),u=e.findAttribute(r,i);if(u===null)return!1;if(this.attributes[t].getValue()!==u.getValue())return!1;if(this.attributes[t].getType()!==u.getType())return!1}if(this.children.length!==e.getChildCount())return!1;if(this.children.length>0){var a,f;for(t=0,n=this.children.length;t<n;t++){a=this.getChild(t),f=e.getChild(t);if(!a.equals(f))return!1}return!0}return this.content===e.content}return!1},getContent:function(){if(this.type==="TEXT"||this.type==="CDATA")return this.content;var e=this.children;return e.length!==1||e[0].type!=="TEXT"&&e[0].type!=="CDATA"?null:e[0].content},getAttribute:function(){var e;if(arguments.length===2)return e=this.findAttribute(arguments[0]),e?e.getValue():arguments[1];if(arguments.length===1)return e=this.findAttribute(arguments[0]),e?e.getValue():null;if(arguments.length===3)return e=this.findAttribute(arguments[0],arguments[1]),e?e.getValue():arguments[2]},getStringAttribute:function(){return arguments.length===1?this.getAttribute(arguments[0]):arguments.length===2?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getString:function(e){return this.getStringAttribute(e)},getFloatAttribute:function(){return arguments.length===1?parseFloat(this.getAttribute(arguments[0],0)):arguments.length===2?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getFloat:function(e){return this.getFloatAttribute(e)},getIntAttribute:function(){return arguments.length===1?this.getAttribute(arguments[0],0):arguments.length===2?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getInt:function(e){return this.getIntAttribute(e)},hasChildren:function(){return this.children.length>0},addChild:function(e){e!==null&&(e.parent=this,this.children.push(e))},insertChild:function(e,t){if(e){if(e.getLocalName()===null&&!this.hasChildren()){var n=this.children[this.children.length-1];if(n.getLocalName()===null){n.setContent(n.getContent()+e.getContent());return}}e.parent=this,this.children.splice(t,0,e)}},getChild:function(e){if(typeof e=="number")return this.children[e];if(e.indexOf("/")!==-1)return this.getChildRecursive(e.split("/"),0);var t,n;for(var r=0,i=this.getChildCount();r<i;r++){t=this.getChild(r),n=t.getName();if(n!==null&&n===e)return t}return null},getChildren:function(){if(arguments.length===1){if(typeof arguments[0]=="number")return this.getChild(arguments[0]);if(arguments[0].indexOf("/")!==-1)return this.getChildrenRecursive(arguments[0].split("/"),0);var e=[],t,n;for(var r=0,i=this.getChildCount();r<i;r++)t=this.getChild(r),n=t.getName(),n!==null&&n===arguments[0]&&e.push(t);return e}return this.children},getChildCount:function(){return this.children.length},getChildRecursive:function(e,t){if(t===e.length)return this;var n,r,i=e[t];for(var s=0,o=this.getChildCount();s<o;s++){n=this.getChild(s),r=n.getName();if(r!==null&&r===i)return n.getChildRecursive(e,t+1)}return null},getChildrenRecursive:function(e,t){if(t===e.length-1)return this.getChildren(e[t]);var n=this.getChildren(e[t]),r=[];for(var i=0;i<n.length;i++)r=r.concat(n[i].getChildrenRecursive(e,t+1));return r},isLeaf:function(){return!this.hasChildren()},listChildren:function(){var e=[];for(var t=0,n=this.children.length;t<n;t++)e.push(this.getChild(t).getName());return e},removeAttribute:function(e,t){this.namespace=t||"";for(var n=0,r=this.attributes.length;n<r;n++)if(this.attributes[n].getName()===e&&this.attributes[n].getNamespace()===this.namespace){this.attributes.splice(n,1);break}},removeChild:function(e){if(e)for(var t=0,n=this.children.length;t<n;t++)if(this.children[t].equals(e)){this.children.splice(t,1);break}},removeChildAtIndex:function(e){this.children.length>e&&this.children.splice(e,1)},findAttribute:function(e,t){this.namespace=t||"";for(var n=0,r=this.attributes.length;n<r;n++)if(this.attributes[n].getName()===e&&this.attributes[n].getNamespace()===this.namespace)return this.attributes[n];return null},setAttribute:function(){var e;if(arguments.length===3){var t=arguments[0].indexOf(":"),n=arguments[0].substring(t+1);e=this.findAttribute(n,arguments[1]),e?e.setValue(arguments[2]):(e=new Mr(arguments[0],n,arguments[1],arguments[2],"CDATA"),this.attributes.push(e))}else e=this.findAttribute(arguments[0]),e?e.setValue(arguments[1]):(e=new Mr(arguments[0],arguments[0],null,arguments[1],"CDATA"),this.attributes.push(e))},setString:function(e,t){this.setAttribute(e,t)},setInt:function(e,t){this.setAttribute(e,t)},setFloat:function(e,t){this.setAttribute(e,t)},setContent:function(e){this.children.length>0&&_.debug("Tried to set content for XMLElement with children"),this.content=e},setName:function(){if(arguments.length===1)this.name=arguments[0],this.fullName=arguments[0],this.namespace=null;else{var e=arguments[0].indexOf(":");arguments[1]===null||e<0?this.name=arguments[0]:this.name=arguments[0].substring(e+1),this.fullName=arguments[0],this.namespace=arguments[1]}},getName:function(){return this.fullName},getLocalName:function(){return this.name},getAttributeCount:function(){return this.attributes.length},toString:function(){if(this.type==="TEXT")return this.content;if(this.type==="CDATA")return this.cdata;var e=this.fullName,t="<"+e,n,r;for(n=0;n<this.attributes.length;n++){var i=this.attributes[n];t+=" "+i.getName()+"="+'"'+i.getValue()+'"'}if(this.children.length===0)this.content===""?t+="/>":t+=">"+this.content+"</"+e+">";else{t+=">";for(r=0;r<this.children.length;r++)t+=this.children[r].toString();t+="</"+e+">"}return t}},_r.parse=function(e){var t=new _r;return t.parse(e),t};var Dr=g.XML=g.XMLElement;g.loadXML=function(e){return new Dr(g,e)};var Pr=function(e){var t=0;for(var r=0;r<e.length;r++)r!==0?t=n.max(t,n.abs(e[r])):t=n.abs(e[r]);var i=(t+"").indexOf(".");return i===0?i=1:i===-1&&(i=(t+"").length),i},Hr=g.PMatrix2D=function(){arguments.length===0?this.reset():arguments.length===1&&arguments[0]instanceof Hr?this.set(arguments[0].array()):arguments.length===6&&this.set(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};Hr.prototype={set:function(){if(arguments.length===6){var e=arguments;this.set([e[0],e[1],e[2],e[3],e[4],e[5]])}else arguments.length===1&&arguments[0]instanceof Hr?this.elements=arguments[0].array():arguments.length===1&&arguments[0]instanceof Array&&(
this.elements=arguments[0].slice())},get:function(){var e=new Hr;return e.set(this.elements),e},reset:function(){this.set([1,0,0,0,1,0])},array:function(){return this.elements.slice()},translate:function(e,t){this.elements[2]=e*this.elements[0]+t*this.elements[1]+this.elements[2],this.elements[5]=e*this.elements[3]+t*this.elements[4]+this.elements[5]},invTranslate:function(e,t){this.translate(-e,-t)},transpose:function(){},mult:function(e,t){var n,r;return e instanceof b?(n=e.x,r=e.y,t||(t=new b)):e instanceof Array&&(n=e[0],r=e[1],t||(t=[])),t instanceof Array?(t[0]=this.elements[0]*n+this.elements[1]*r+this.elements[2],t[1]=this.elements[3]*n+this.elements[4]*r+this.elements[5]):t instanceof b&&(t.x=this.elements[0]*n+this.elements[1]*r+this.elements[2],t.y=this.elements[3]*n+this.elements[4]*r+this.elements[5],t.z=0),t},multX:function(e,t){return e*this.elements[0]+t*this.elements[1]+this.elements[2]},multY:function(e,t){return e*this.elements[3]+t*this.elements[4]+this.elements[5]},skewX:function(e){this.apply(1,0,1,e,0,0)},skewY:function(e){this.apply(1,0,1,0,e,0)},shearX:function(e){this.apply(1,0,1,n.tan(e),0,0)},shearY:function(e){this.apply(1,0,1,0,n.tan(e),0)},determinant:function(){return this.elements[0]*this.elements[4]-this.elements[1]*this.elements[3]},invert:function(){var e=this.determinant();if(n.abs(e)>-2147483648){var t=this.elements[0],r=this.elements[1],i=this.elements[2],s=this.elements[3],o=this.elements[4],u=this.elements[5];return this.elements[0]=o/e,this.elements[3]=-s/e,this.elements[1]=-r/e,this.elements[4]=t/e,this.elements[2]=(r*u-o*i)/e,this.elements[5]=(s*i-t*u)/e,!0}return!1},scale:function(e,t){e&&!t&&(t=e),e&&t&&(this.elements[0]*=e,this.elements[1]*=t,this.elements[3]*=e,this.elements[4]*=t)},invScale:function(e,t){e&&!t&&(t=e),this.scale(1/e,1/t)},apply:function(){var e;arguments.length===1&&arguments[0]instanceof Hr?e=arguments[0].array():arguments.length===6?e=Array.prototype.slice.call(arguments):arguments.length===1&&arguments[0]instanceof Array&&(e=arguments[0]);var t=[0,0,this.elements[2],0,0,this.elements[5]],n=0;for(var r=0;r<2;r++)for(var i=0;i<3;i++,n++)t[n]+=this.elements[r*3+0]*e[i+0]+this.elements[r*3+1]*e[i+3];this.elements=t.slice()},preApply:function(){var e;arguments.length===1&&arguments[0]instanceof Hr?e=arguments[0].array():arguments.length===6?e=Array.prototype.slice.call(arguments):arguments.length===1&&arguments[0]instanceof Array&&(e=arguments[0]);var t=[0,0,e[2],0,0,e[5]];t[2]=e[2]+this.elements[2]*e[0]+this.elements[5]*e[1],t[5]=e[5]+this.elements[2]*e[3]+this.elements[5]*e[4],t[0]=this.elements[0]*e[0]+this.elements[3]*e[1],t[3]=this.elements[0]*e[3]+this.elements[3]*e[4],t[1]=this.elements[1]*e[0]+this.elements[4]*e[1],t[4]=this.elements[1]*e[3]+this.elements[4]*e[4],this.elements=t.slice()},rotate:function(e){var t=n.cos(e),r=n.sin(e),i=this.elements[0],s=this.elements[1];this.elements[0]=t*i+r*s,this.elements[1]=-r*i+t*s,i=this.elements[3],s=this.elements[4],this.elements[3]=t*i+r*s,this.elements[4]=-r*i+t*s},rotateZ:function(e){this.rotate(e)},invRotateZ:function(e){this.rotateZ(e-n.PI)},print:function(){var e=Pr(this.elements),t=""+g.nfs(this.elements[0],e,4)+" "+g.nfs(this.elements[1],e,4)+" "+g.nfs(this.elements[2],e,4)+"\n"+g.nfs(this.elements[3],e,4)+" "+g.nfs(this.elements[4],e,4)+" "+g.nfs(this.elements[5],e,4)+"\n\n";g.println(t)}};var Br=g.PMatrix3D=function(){this.reset()};Br.prototype={set:function(){arguments.length===16?this.elements=Array.prototype.slice.call(arguments):arguments.length===1&&arguments[0]instanceof Br?this.elements=arguments[0].array():arguments.length===1&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var e=new Br;return e.set(this.elements),e},reset:function(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},array:function(){return this.elements.slice()},translate:function(e,t,n){n===r&&(n=0),this.elements[3]+=e*this.elements[0]+t*this.elements[1]+n*this.elements[2],this.elements[7]+=e*this.elements[4]+t*this.elements[5]+n*this.elements[6],this.elements[11]+=e*this.elements[8]+t*this.elements[9]+n*this.elements[10],this.elements[15]+=e*this.elements[12]+t*this.elements[13]+n*this.elements[14]},transpose:function(){var e=this.elements[4];this.elements[4]=this.elements[1],this.elements[1]=e,e=this.elements[8],this.elements[8]=this.elements[2],this.elements[2]=e,e=this.elements[6],this.elements[6]=this.elements[9],this.elements[9]=e,e=this.elements[3],this.elements[3]=this.elements[12],this.elements[12]=e,e=this.elements[7],this.elements[7]=this.elements[13],this.elements[13]=e,e=this.elements[11],this.elements[11]=this.elements[14],this.elements[14]=e},mult:function(e,t){var n,r,i,s;if(e instanceof b)n=e.x,r=e.y,i=e.z,s=1,t||(t=new b);else if(e instanceof Array){n=e[0],r=e[1],i=e[2],s=e[3]||1;if(!t||t.length!==3&&t.length!==4)t=[0,0,0]}return t instanceof Array&&(t.length===3?(t[0]=this.elements[0]*n+this.elements[1]*r+this.elements[2]*i+this.elements[3],t[1]=this.elements[4]*n+this.elements[5]*r+this.elements[6]*i+this.elements[7],t[2]=this.elements[8]*n+this.elements[9]*r+this.elements[10]*i+this.elements[11]):t.length===4&&(t[0]=this.elements[0]*n+this.elements[1]*r+this.elements[2]*i+this.elements[3]*s,t[1]=this.elements[4]*n+this.elements[5]*r+this.elements[6]*i+this.elements[7]*s,t[2]=this.elements[8]*n+this.elements[9]*r+this.elements[10]*i+this.elements[11]*s,t[3]=this.elements[12]*n+this.elements[13]*r+this.elements[14]*i+this.elements[15]*s)),t instanceof b&&(t.x=this.elements[0]*n+this.elements[1]*r+this.elements[2]*i+this.elements[3],t.y=this.elements[4]*n+this.elements[5]*r+this.elements[6]*i+this.elements[7],t.z=this.elements[8]*n+this.elements[9]*r+this.elements[10]*i+this.elements[11]),t},preApply:function(){var e;arguments.length===1&&arguments[0]instanceof Br?e=arguments[0].array():arguments.length===16?e=Array.prototype.slice.call(arguments):arguments.length===1&&arguments[0]instanceof Array&&(e=arguments[0]);var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;for(var r=0;r<4;r++)for(var i=0;i<4;i++,n++)t[n]+=this.elements[i+0]*e[r*4+0]+this.elements[i+4]*e[r*4+1]+this.elements[i+8]*e[r*4+2]+this.elements[i+12]*e[r*4+3];this.elements=t.slice()},apply:function(){var e;arguments.length===1&&arguments[0]instanceof Br?e=arguments[0].array():arguments.length===16?e=Array.prototype.slice.call(arguments):arguments.length===1&&arguments[0]instanceof Array&&(e=arguments[0]);var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;for(var r=0;r<4;r++)for(var i=0;i<4;i++,n++)t[n]+=this.elements[r*4+0]*e[i+0]+this.elements[r*4+1]*e[i+4]+this.elements[r*4+2]*e[i+8]+this.elements[r*4+3]*e[i+12];this.elements=t.slice()},rotate:function(e,t,n,r){if(!n)this.rotateZ(e);else{var i=g.cos(e),s=g.sin(e),o=1-i;this.apply(o*t*t+i,o*t*n-s*r,o*t*r+s*n,0,o*t*n+s*r,o*n*n+i,o*n*r-s*t,0,o*t*r-s*n,o*n*r+s*t,o*r*r+i,0,0,0,0,1)}},invApply:function(){Bn===r&&(Bn=new Br);var e=arguments;return Bn.set(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),Bn.invert()?(this.preApply(Bn),!0):!1},rotateX:function(e){var t=g.cos(e),n=g.sin(e);this.apply([1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1])},rotateY:function(e){var t=g.cos(e),n=g.sin(e);this.apply([t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1])},rotateZ:function(e){var t=n.cos(e),r=n.sin(e);this.apply([t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1])},scale:function(e,t,n){e&&!t&&!n?t=n=e:e&&t&&!n&&(n=1),e&&t&&n&&(this.elements[0]*=e,this.elements[1]*=t,this.elements[2]*=n,this.elements[4]*=e,this.elements[5]*=t,this.elements[6]*=n,this.elements[8]*=e,this.elements[9]*=t,this.elements[10]*=n,this.elements[12]*=e,this.elements[13]*=t,this.elements[14]*=n)},skewX:function(e){var t=n.tan(e);this.apply(1,t,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},skewY:function(e){var t=n.tan(e);this.apply(1,0,0,0,t,1,0,0,0,0,1,0,0,0,0,1)},shearX:function(e){var t=n.tan(e);this.apply(1,t,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},shearY:function(e){var t=n.tan(e);this.apply(1,0,0,0,t,1,0,0,0,0,1,0,0,0,0,1)},multX:function(e,t,n,r){return n?r?this.elements[0]*e+this.elements[1]*t+this.elements[2]*n+this.elements[3]*r:this.elements[0]*e+this.elements[1]*t+this.elements[2]*n+this.elements[3]:this.elements[0]*e+this.elements[1]*t+this.elements[3]},multY:function(e,t,n,r){return n?r?this.elements[4]*e+this.elements[5]*t+this.elements[6]*n+this.elements[7]*r:this.elements[4]*e+this.elements[5]*t+this.elements[6]*n+this.elements[7]:this.elements[4]*e+this.elements[5]*t+this.elements[7]},multZ:function(e,t,n,r){return r?this.elements[8]*e+this.elements[9]*t+this.elements[10]*n+this.elements[11]*r:this.elements[8]*e+this.elements[9]*t+this.elements[10]*n+this.elements[11]},multW:function(e,t,n,r){return r?this.elements[12]*e+this.elements[13]*t+this.elements[14]*n+this.elements[15]*r:this.elements[12]*e+this.elements[13]*t+this.elements[14]*n+this.elements[15]},invert:function(){var e=this.elements[0]*this.elements[5]-this.elements[1]*this.elements[4],t=this.elements[0]*this.elements[6]-this.elements[2]*this.elements[4],r=this.elements[0]*this.elements[7]-this.elements[3]*this.elements[4],i=this.elements[1]*this.elements[6]-this.elements[2]*this.elements[5],s=this.elements[1]*this.elements[7]-this.elements[3]*this.elements[5],o=this.elements[2]*this.elements[7]-this.elements[3]*this.elements[6],u=this.elements[8]*this.elements[13]-this.elements[9]*this.elements[12],a=this.elements[8]*this.elements[14]-this.elements[10]*this.elements[12],f=this.elements[8]*this.elements[15]-this.elements[11]*this.elements[12],l=this.elements[9]*this.elements[14]-this.elements[10]*this.elements[13],c=this.elements[9]*this.elements[15]-this.elements[11]*this.elements[13],h=this.elements[10]*this.elements[15]-this.elements[11]*this.elements[14],p=e*h-t*c+r*l+i*f-s*a+o*u;if(n.abs(p)<=1e-9)return!1;var d=[];d[0]=+this.elements[5]*h-this.elements[6]*c+this.elements[7]*l,d[4]=-this.elements[4]*h+this.elements[6]*f-this.elements[7]*a,d[8]=+this.elements[4]*c-this.elements[5]*f+this.elements[7]*u,d[12]=-this.elements[4]*l+this.elements[5]*a-this.elements[6]*u,d[1]=-this.elements[1]*h+this.elements[2]*c-this.elements[3]*l,d[5]=+this.elements[0]*h-this.elements[2]*f+this.elements[3]*a,d[9]=-this.elements[0]*c+this.elements[1]*f-this.elements[3]*u,d[13]=+this.elements[0]*l-this.elements[1]*a+this.elements[2]*u,d[2]=+this.elements[13]*o-this.elements[14]*s+this.elements[15]*i,d[6]=-this.elements[12]*o+this.elements[14]*r-this.elements[15]*t,d[10]=+this.elements[12]*s-this.elements[13]*r+this.elements[15]*e,d[14]=-this.elements[12]*i+this.elements[13]*t-this.elements[14]*e,d[3]=-this.elements[9]*o+this.elements[10]*s-this.elements[11]*i,d[7]=+this.elements[8]*o-this.elements[10]*r+this.elements[11]*t,d[11]=-this.elements[8]*s+this.elements[9]*r-this.elements[11]*e,d[15]=+this.elements[8]*i-this.elements[9]*t+this.elements[10]*e;var v=1/p;return d[0]*=v,d[1]*=v,d[2]*=v,d[3]*=v,d[4]*=v,d[5]*=v,d[6]*=v,d[7]*=v,d[8]*=v,d[9]*=v,d[10]*=v,d[11]*=v,d[12]*=v,d[13]*=v,d[14]*=v,d[15]*=v,this.elements=d.slice(),!0},toString:function(){var e="";for(var t=0;t<15;t++)e+=this.elements[t]+", ";return e+=this.elements[15],e},print:function(){var e=Pr(this.elements),t=""+g.nfs(this.elements[0],e,4)+" "+g.nfs(this.elements[1],e,4)+" "+g.nfs(this.elements[2],e,4)+" "+g.nfs(this.elements[3],e,4)+"\n"+g.nfs(this.elements[4],e,4)+" "+g.nfs(this.elements[5],e,4)+" "+g.nfs(this.elements[6],e,4)+" "+g.nfs(this.elements[7],e,4)+"\n"+g.nfs(this.elements[8],e,4)+" "+g.nfs(this.elements[9],e,4)+" "+g.nfs(this.elements[10],e,4)+" "+g.nfs(this.elements[11],e,4)+"\n"+g.nfs(this.elements[12],e,4)+" "+g.nfs(this.elements[13],e,4)+" "+g.nfs(this.elements[14],e,4)+" "+g.nfs(this.elements[15],e,4)+"\n\n";g.println(t)},invTranslate:function(e,t,n){this.preApply(1,0,0,-e,0,1,0,-t,0,0,1,-n,0,0,0,1)},invRotateX:function(e){var t=n.cos(-e),r=n.sin(-e);this.preApply([1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1])},invRotateY:function(e){var t=n.cos(-e),r=n.sin(-e);this.preApply([t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1])},invRotateZ:function(e){var t=n.cos(-e),r=n.sin(-e);this.preApply([t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1])},invScale:function(e,t,n){this.preApply([1/e,0,0,0,0,1/t,0,0,0,0,1/n,0,0,0,0,1])}};var jr=g.PMatrixStack=function(){this.matrixStack=[]};jr.prototype.load=function(){var e=S.$newPMatrix();arguments.length===1?e.set(arguments[0]):e.set(arguments),this.matrixStack.push(e)},Tr.prototype.$newPMatrix=function(){return new Hr},Nr.prototype.$newPMatrix=function(){return new Br},jr.prototype.push=function(){this.matrixStack.push(this.peek())},jr.prototype.pop=function(){return this.matrixStack.pop()},jr.prototype.peek=function(){var e=S.$newPMatrix();return e.set(this.matrixStack[this.matrixStack.length-1]),e},jr.prototype.mult=function(e){this.matrixStack[this.matrixStack.length-1].apply(e)},g.split=function(e,t){return e.split(t)},g.splitTokens=function(e,t){if(t===r)return e.split(/\s+/g);var n=t.split(/()/g),i="",s=e.length,o,u,a=[];for(o=0;o<s;o++)u=e[o],n.indexOf(u)>-1?(i!==""&&a.push(i),i=""):i+=u;return i!==""&&a.push(i),a},g.append=function(e,t){return e[e.length]=t,e},g.concat=function(e,t){return e.concat(t)},g.sort=function(e,t){var n=[];if(e.length>0){var r=t>0?t:e.length;for(var i=0;i<r;i++)n.push(e[i]);typeof e[0]=="string"?n.sort():n.sort(function(e,t){return e-t});if(t>0)for(var s=n.length;s<e.length;s++)n.push(e[s])}return n},g.splice=function(e,t,n){if(t.length===0)return e;if(t instanceof Array)for(var r=0,i=n;r<t.length;i++,r++)e.splice(i,0,t[r]);else e.splice(n,0,t);return e},g.subset=function(e,t,n){var i=n!==r?t+n:e.length;return e.slice(t,i)},g.join=function(e,t){return e.join(t)},g.shorten=function(e){var t=[],n=e.length;for(var r=0;r<n;r++)t[r]=e[r];return t.pop(),t},g.expand=function(e,t){var n=e.slice(0),r=t||e.length*2;return n.length=r,n},g.arrayCopy=function(){var e,t=0,n,i=0,s;arguments.length===2?(e=arguments[0],n=arguments[1],s=e.length):arguments.length===3?(e=arguments[0],n=arguments[1],s=arguments[2]):arguments.length===5&&(e=arguments[0],t=arguments[1],n=arguments[2],i=arguments[3],s=arguments[4]);for(var o=t,u=i;o<s+t;o++,u++){if(n[u]===r)throw"array index out of bounds exception";n[u]=e[o]}},g.reverse=function(e){return e.reverse()},g.mix=function(e,t,n){return e+((t-e)*n>>8)},g.peg=function(e){return e<0?0:e>255?255:e},g.modes=function(){function u(e,t,n,r,i,o,u,a,f,l,c){var h=s(((e&4278190080)>>>24)+t,255)<<24,p=n+((f-n)*t>>8);p=(p<0?0:p>255?255:p)<<16;var d=r+((l-r)*t>>8);d=(d<0?0:d>255?255:d)<<8;var v=i+((c-i)*t>>8);return v=v<0?0:v>255?255:v,h|p|d|v}var e=4278190080,t=16711680,r=65280,i=255,s=n.min,o=n.max;return{replace:function(e,t){return t},blend:function(n,o){var u=(o&e)>>>24,a=n&t,f=n&r,l=n&i,c=o&t,h=o&r,p=o&i;return s(((n&e)>>>24)+u,255)<<24|a+((c-a)*u>>8)&t|f+((h-f)*u>>8)&r|l+((p-l)*u>>8)&i},add:function(n,o){var u=(o&e)>>>24;return s(((n&e)>>>24)+u,255)<<24|s((n&t)+((o&t)>>8)*u,t)&t|s((n&r)+((o&r)>>8)*u,r)&r|s((n&i)+((o&i)*u>>8),i)},subtract:function(n,u){var a=(u&e)>>>24;return s(((n&e)>>>24)+a,255)<<24|o((n&t)-((u&t)>>8)*a,r)&t|o((n&r)-((u&r)>>8)*a,i)&r|o((n&i)-((u&i)*a>>8),0)},lightest:function(n,u){var a=(u&e)>>>24;return s(((n&e)>>>24)+a,255)<<24|o(n&t,((u&t)>>8)*a)&t|o(n&r,((u&r)>>8)*a)&r|o(n&i,(u&i)*a>>8)},darkest:function(n,o){var u=(o&e)>>>24,a=n&t,f=n&r,l=n&i,c=s(n&t,((o&t)>>8)*u),h=s(n&r,((o&r)>>8)*u),p=s(n&i,(o&i)*u>>8);return s(((n&e)>>>24)+u,255)<<24|a+((c-a)*u>>8)&t|f+((h-f)*u>>8)&r|l+((p-l)*u>>8)&i},difference:function(n,s){var o=(s&e)>>>24,a=(n&t)>>16,f=(n&r)>>8,l=n&i,c=(s&t)>>16,h=(s&r)>>8,p=s&i,d=a>c?a-c:c-a,v=f>h?f-h:h-f,m=l>p?l-p:p-l;return u(n,o,a,f,l,c,h,p,d,v,m)},exclusion:function(n,s){var o=(s&e)>>>24,a=(n&t)>>16,f=(n&r)>>8,l=n&i,c=(s&t)>>16,h=(s&r)>>8,p=s&i,d=a+c-(a*c>>7),v=f+h-(f*h>>7),m=l+p-(l*p>>7);return u(n,o,a,f,l,c,h,p,d,v,m)},multiply:function(n,s){var o=(s&e)>>>24,a=(n&t)>>16,f=(n&r)>>8,l=n&i,c=(s&t)>>16,h=(s&r)>>8,p=s&i,d=a*c>>8,v=f*h>>8,m=l*p>>8;return u(n,o,a,f,l,c,h,p,d,v,m)},screen:function(n,s){var o=(s&e)>>>24,a=(n&t)>>16,f=(n&r)>>8,l=n&i,c=(s&t)>>16,h=(s&r)>>8,p=s&i,d=255-((255-a)*(255-c)>>8),v=255-((255-f)*(255-h)>>8),m=255-((255-l)*(255-p)>>8);return u(n,o,a,f,l,c,h,p,d,v,m)},hard_light:function(n,s){var o=(s&e)>>>24,a=(n&t)>>16,f=(n&r)>>8,l=n&i,c=(s&t)>>16,h=(s&r)>>8,p=s&i,d=c<128?a*c>>7:255-((255-a)*(255-c)>>7),v=h<128?f*h>>7:255-((255-f)*(255-h)>>7),m=p<128?l*p>>7:255-((255-l)*(255-p)>>7);return u(n,o,a,f,l,c,h,p,d,v,m)},soft_light:function(n,s){var o=(s&e)>>>24,a=(n&t)>>16,f=(n&r)>>8,l=n&i,c=(s&t)>>16,h=(s&r)>>8,p=s&i,d=(a*c>>7)+(a*a>>8)-(a*a*c>>15),v=(f*h>>7)+(f*f>>8)-(f*f*h>>15),m=(l*p>>7)+(l*l>>8)-(l*l*p>>15);return u(n,o,a,f,l,c,h,p,d,v,m)},overlay:function(n,s){var o=(s&e)>>>24,a=(n&t)>>16,f=(n&r)>>8,l=n&i,c=(s&t)>>16,h=(s&r)>>8,p=s&i,d=a<128?a*c>>7:255-((255-a)*(255-c)>>7),v=f<128?f*h>>7:255-((255-f)*(255-h)>>7),m=l<128?l*p>>7:255-((255-l)*(255-p)>>7);return u(n,o,a,f,l,c,h,p,d,v,m)},dodge:function(n,s){var o=(s&e)>>>24,a=(n&t)>>16,f=(n&r)>>8,l=n&i,c=(s&t)>>16,h=(s&r)>>8,p=s&i,d=255;c!==255&&(d=(a<<8)/(255-c),d=d<0?0:d>255?255:d);var v=255;h!==255&&(v=(f<<8)/(255-h),v=v<0?0:v>255?255:v);var m=255;return p!==255&&(m=(l<<8)/(255-p),m=m<0?0:m>255?255:m),u(n,o,a,f,l,c,h,p,d,v,m)},burn:function(n,s){var o=(s&e)>>>24,a=(n&t)>>16,f=(n&r)>>8,l=n&i,c=(s&t)>>16,h=(s&r)>>8,p=s&i,d=0;c!==0&&(d=(255-a<<8)/c,d=255-(d<0?0:d>255?255:d));var v=0;h!==0&&(v=(255-f<<8)/h,v=255-(v<0?0:v>255?255:v));var m=0;return p!==0&&(m=(255-l<<8)/p,m=255-(m<0?0:m>255?255:m)),u(n,o,a,f,l,c,h,p,d,v,m)}}}(),g.color=function(e,t,n,i){return e!==r&&t!==r&&n!==r&&i!==r?Fr(e,t,n,i):e!==r&&t!==r&&n!==r?Fr(e,t,n,ot):e!==r&&t!==r?Ir(e,t):typeof e=="number"?qr(e):Fr(ut,at,ft,ot)},g.color.toString=function(e){return"rgba("+(e>>16&255)+","+(e>>8&255)+","+(e&255)+","+(e>>24&255)/255+")"},g.color.toInt=function(e,t,n,r){return r<<24&4278190080|e<<16&16711680|t<<8&65280|n&255},g.color.toArray=function(e){return[e>>16&255,e>>8&255,e&255,e>>24&255]},g.color.toGLArray=function(e){return[((e&16711680)>>>16)/255,(e>>8&255)/255,(e&255)/255,(e>>24&255)/255]},g.color.toRGB=function(e,t,r){e=e>ut?ut:e,t=t>at?at:t,r=r>ft?ft:r,e=e/ut*360,t=t/at*100,r=r/ft*100;var i=n.round(r/100*255);if(t===0)return[i,i,i];var s=e%360,o=s%60,u=n.round(r*(100-t)/1e4*255),a=n.round(r*(6e3-t*o)/6e5*255),f=n.round(r*(6e3-t*(60-o))/6e5*255);switch(n.floor(s/60)){case 0:return[i,f,u];case 1:return[a,i,u];case 2:return[u,i,f];case 3:return[u,a,i];case 4:return[f,u,i];case 5:return[i,u,a]}},g.brightness=function(e){return Rr(e)[2]},g.saturation=function(e){return Rr(e)[1]},g.hue=function(e){return Rr(e)[0]},g.red=function(e){return(e>>16&255)/255*ut},g.green=function(e){return((e&65280)>>>8)/255*at},g.blue=function(e){return(e&255)/255*ft},g.alpha=function(e){return(e>>24&255)/255*ot},g.lerpColor=function(e,t,n){var r,i,s,o,u,a,f,l,c,h,p,d,v,m,y,b,w,E=g.color(e),S=g.color(t);return dt===3?(v=Rr(E),l=(E>>24&255)/ot,m=Rr(S),d=((S&4278190080)>>>24)/ot,b=g.lerp(v[0],m[0],n),w=g.lerp(v[1],m[1],n),s=g.lerp(v[2],m[2],n),y=g.color.toRGB(b,w,s),o=g.lerp(l,d,n)*ot,o<<24&4278190080|(y[0]&255)<<16|(y[1]&255)<<8|y[2]&255):(u=E>>16&255,a=E>>8&255,f=E&255,l=(E>>24&255)/ot,c=(S&16711680)>>>16,h=S>>8&255,p=S&255,d=(S>>24&255)/ot,r=g.lerp(u,c,n)|0,i=g.lerp(a,h,n)|0,s=g.lerp(f,p,n)|0,o=g.lerp(l,d,n)*ot,o<<24&4278190080|r<<16&16711680|i<<8&65280|s&255)},g.colorMode=function(){dt=arguments[0],arguments.length>1&&(ut=arguments[1],at=arguments[2]||arguments[1],ft=arguments[3]||arguments[1],ot=arguments[4]||arguments[1])},g.blendColor=function(e,t,n){if(n===0)return g.modes.replace(e,t);if(n===1)return g.modes.blend(e,t);if(n===2)return g.modes.add(e,t);if(n===4)return g.modes.subtract(e,t);if(n===8)return g.modes.lightest(e,t);if(n===16)return g.modes.darkest(e,t);if(n===32)return g.modes.difference(e,t);if(n===64)return g.modes.exclusion(e,t);if(n===128)return g.modes.multiply(e,t);if(n===256)return g.modes.screen(e,t);if(n===1024)return g.modes.hard_light(e,t);if(n===2048)return g.modes.soft_light(e,t);if(n===512)return g.modes.overlay(e,t);if(n===4096)return g.modes.dodge(e,t);if(n===8192)return g.modes.burn(e,t)},g.printMatrix=function(){_n.print()},Tr.prototype.translate=function(e,t){_n.translate(e,t),Dn.invTranslate(e,t),y.translate(e,t)},Nr.prototype.translate=function(e,t,n){_n.translate(e,t,n),Dn.invTranslate(e,t,n)},Tr.prototype.scale=function(e,t){_n.scale(e,t),Dn.invScale(e,t),y.scale(e,t||e)},Nr.prototype.scale=function(e,t,n){_n.scale(e,t,n),Dn.invScale(e,t,n)},Tr.prototype.transform=function(e){var t=e.array();y.transform(t[0],t[3],t[1],t[4],t[2],t[5])},Nr.prototype.transformm=function(e){throw"p.transform is currently not supported in 3D mode"},Tr.prototype.pushMatrix=function(){Pn.load(_n),Hn.load(Dn),Ur()},Nr.prototype.pushMatrix=function(){Pn.load(_n),Hn.load(Dn)},Tr.prototype.popMatrix=function(){_n.set(Pn.pop()),Dn.set(Hn.pop()),zr()},Nr.prototype.popMatrix=function(){_n.set(Pn.pop()),Dn.set(Hn.pop())},Tr.prototype.resetMatrix=function(){_n.reset(),Dn.reset(),y.setTransform(1,0,0,1,0,0)},Nr.prototype.resetMatrix=function(){_n.reset(),Dn.reset()},xr.prototype.applyMatrix=function(){var e=arguments;_n.apply(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),Dn.invApply(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},Tr.prototype.applyMatrix=function(){var e=arguments;for(var t=e.length;t<16;t++)e[t]=0;e[10]=e[15]=1,xr.prototype.applyMatrix.apply(this,e)},g.rotateX=function(e){_n.rotateX(e),Dn.invRotateX(e)},Tr.prototype.rotateZ=function(){throw"rotateZ() is not supported in 2D mode. Use rotate(float) instead."},Nr.prototype.rotateZ=function(e){_n.rotateZ(e),Dn.invRotateZ(e)},g.rotateY=function(e){_n.rotateY(e),Dn.invRotateY(e)},Tr.prototype.rotate=function(e){_n.rotateZ(e),Dn.invRotateZ(e),y.rotate(e)},Nr.prototype.rotate=function(e){g.rotateZ(e)},Tr.prototype.shearX=function(e){_n.shearX(e),y.transform(1,0,e,1,0,0)},Nr.prototype.shearX=function(e){_n.shearX(e)},Tr.prototype.shearY=function(e){_n.shearY(e),y.transform(1,e,0,1,0,0)},Nr.prototype.shearY=function(e){_n.shearY(e)},g.pushStyle=function(){Ur(),g.pushMatrix();var e={doFill:T,currentFillColor:k,doStroke:D,currentStrokeColor:H,curTint:vt,curRectMode:U,curColorMode:dt,colorModeX:ut,colorModeZ:ft,colorModeY:at,colorModeA:ot,curTextFont:un,horizontalTextAlignment:Yt,verticalTextAlignment:Zt,textMode:en,curFontName:tn,curTextSize:nn,curTextAscent:rn,curTextDescent:sn,curTextLeading:on};er.push(e)},g.popStyle=function(){var e=er.pop();if(!e)throw"Too many popStyle() without enough pushStyle()";zr(),g.popMatrix(),T=e.doFill,k=e.currentFillColor,D=e.doStroke,H=e.currentStrokeColor,vt=e.curTint,U=e.curRectMode,dt=e.curColorMode,ut=e.colorModeX,ft=e.colorModeZ,at=e.colorModeY,ot=e.colorModeA,un=e.curTextFont,tn=e.curFontName,nn=e.curTextSize,Yt=e.horizontalTextAlignment,Zt=e.verticalTextAlignment,en=e.textMode,rn=e.curTextAscent,sn=e.curTextDescent,on=e.curTextLeading},g.year=function(){return(new Date).getFullYear()},g.month=function(){return(new Date).getMonth()+1},g.day=function(){return(new Date).getDate()},g.hour=function(){return(new Date).getHours()},g.minute=function(){return(new Date).getMinutes()},g.second=function(){return(new Date).getSeconds()},g.millis=function(){return Date.now()-yt},Tr.prototype.redraw=function(){Wr(),y.lineWidth=j;var e=g.pmouseX,t=g.pmouseY;g.pmouseX=ht,g.pmouseY=pt,Ur(),g.draw(),zr(),ht=g.mouseX,pt=g.mouseY,g.pmouseX=e,g.pmouseY=t},Nr.prototype.redraw=function(){Wr();var e=g.pmouseX,t=g.pmouseY;g.pmouseX=ht,g.pmouseY=pt,y.clear(y.DEPTH_BUFFER_BIT),Lt={attributes:{},locations:{}},g.noLights(),g.lightFalloff(1,0,0),g.shininess(1),g.ambient(255,255,255),g.specular(0,0,0),g.emissive(0,0,0),g.camera(),g.draw(),ht=g.mouseX,pt=g.mouseY,g.pmouseX=e,g.pmouseY=t},g.noLoop=function(){q=!1,F=!1,clearInterval(R),w.onPause()},g.loop=function(){if(F)return;bt=Date.now(),wt=0,R=e.setInterval(function(){try{w.onFrameStart(),g.redraw(),w.onFrameEnd()}catch(t){throw e.clearInterval(R),t}},K),q=!0,F=!0,w.onLoop()},g.frameRate=function(e){J=e,K=1e3/J,q&&(g.noLoop(),g.loop())};var Xr=[];g.exit=function(){e.clearInterval(R),L(g.externals.canvas.id),delete a.onmousedown;for(var t in _.lib)_.lib.hasOwnProperty(t)&&_.lib[t].hasOwnProperty("detach")&&_.lib[t].detach(g);var n=Xr.length;while(n--)$r(Xr[n]);w.onExit()},g.cursor=function(){if(arguments.length>1||arguments.length===1&&arguments[0]instanceof g.PImage){var e=arguments[0],t,n;if(arguments.length>=3){t=arguments[1],n=arguments[2];if(t<0||n<0||n>=e.height||t>=e.width)throw"x and y must be non-negative and less than the dimensions of the image"}else t=e.width>>>1,n=e.height>>>1;var r=e.toDataURL(),i='url("'+r+'") '+t+" "+n+", default";Q=a.style.cursor=i}else if(arguments.length===1){var s=arguments[0];Q=a.style.cursor=s}else Q=a.style.cursor=G},g.noCursor=function(){Q=a.style.cursor=p.NOCURSOR},g.link=function(t,n){n!==r?e.open(t,n):e.location=t},g.beginDraw=i,g.endDraw=i,Tr.prototype.toImageData=function(e,t,n,i){return e=e!==r?e:0,t=t!==r?t:0,n=n!==r?n:g.width,i=i!==r?i:g.height,y.getImageData(e,t,n,i)},Nr.prototype.toImageData=function(e,i,s,o){e=e!==r?e:0,i=i!==r?i:0,s=s!==r?s:g.width,o=o!==r?o:g.height;var u=t.createElement("canvas"),a=u.getContext("2d"),f=a.createImageData(s,o),l=new h(s*o*4);y.readPixels(e,i,s,o,y.RGBA,y.UNSIGNED_BYTE,l);for(var c=0,p=l.length,d=f.data;c<p;c++)d[c]=l[(o-1-n.floor(c/4/s))*s*4+c%(s*4)];return f},g.status=function(t){e.status=t},g.binary=function(e,t){var n;if(t>0)n=t;else if(e instanceof Lr)n=16,e|=0;else{n=32;while(n>1&&!(e>>>n-1&1))n--}var r="";while(n>0)r+=e>>>--n&1?"1":"0";return r},g.unbinary=function(e){var t=e.length-1,n=1,r=0;while(t>=0){var i=e[t--];if(i!=="0"&&i!=="1")throw"the value passed into unbinary was not an 8 bit binary number";i==="1"&&(r+=n),n<<=1}return r},g.nf=function(e,t,n){return Kr(e,"","-",t,n)},g.nfs=function(e,t,n){return Kr(e," ","-",t,n)},g.nfp=function(e,t,n){return Kr(e,"+","-",t,n)},g.nfc=function(e,t,n){return Kr(e,"","-",t,n,",")};var Qr=function(e,t){t=t===r||t===null?t=8:t,e<0&&(e=4294967295+e+1);var n=Number(e).toString(16).toUpperCase();while(n.length<t)n="0"+n;return n.length>=t&&(n=n.substring(n.length-t,n.length)),n};g.hex=function(e,t){return arguments.length===1&&(e instanceof Lr?t=4:t=8),Qr(e,t)},g.unhex=function(e){if(e instanceof Array){var t=[];for(var n=0;n<e.length;n++)t.push(Gr(e[n]));return t}return Gr(e)},g.loadStrings=function(e){if(localStorage[e])return localStorage[e].split("\n");var t=o(e);return typeof t!="string"||t===""?[]:(t=t.replace(/(\r\n?)/g,"\n").replace(/\n$/,""),t.split("\n"))},g.saveStrings=function(e,t){localStorage[e]=t.join("\n")},g.loadBytes=function(e){var t=o(e),n=[];for(var r=0;r<t.length;r++)n.push(t.charCodeAt(r));return n},g.matchAll=function(e,t){var n=[],r,i=new RegExp(t,"g");while((r=i.exec(e))!==null)n.push(r),r[0].length===0&&++i.lastIndex;return n.length>0?n:null},g.__contains=function(e,t){return typeof e!="string"?e.contains.apply(e,Yr(arguments)):e!==null&&t!==null&&typeof t=="string"&&e.indexOf(t)>-1},g.__replaceAll=function(e,t,n){return typeof e!="string"?e.replaceAll.apply(e,Yr(arguments)):e.replace(new RegExp(t,"g"),n)},g.__replaceFirst=function(e,t,n){return typeof e!="string"?e.replaceFirst.apply(e,Yr(arguments)):e.replace(new RegExp(t,""),n)},g.__replace=function(e,t,n){if(typeof e!="string")return e.replace.apply(e,Yr(arguments));if(t instanceof RegExp)return e.replace(t,n);typeof t!="string"&&(t=t.toString());if(t==="")return e;var r=e.indexOf(t);if(r<0)return e;var i=0,s="";do s+=e.substring(i,r)+n,i=r+t.length;while((r=e.indexOf(t,i))>=0);return s+e.substring(i)},g.__equals=function(e,t){return e.equals instanceof Function?e.equals.apply(e,Yr(arguments)):e.valueOf()===t.valueOf()},g.__equalsIgnoreCase=function(e,t){return typeof e!="string"?e.equalsIgnoreCase.apply(e,Yr(arguments)):e.toLowerCase()===t.toLowerCase()},g.__toCharArray=function(e){if(typeof e!="string")return e.toCharArray.apply(e,Yr(arguments));var t=[];for(var n=0,r=e.length;n<r;++n)t[n]=new Lr(e.charAt(n));return t},g.__split=function(e,t,n){if(typeof e!="string")return e.split.apply(e,Yr(arguments));var i=new RegExp(t);if(n===r||n<1)return e.split(i);var s=[],o=e,u;while((u=o.search(i))!==-1&&s.length<n-1){var a=i.exec(o).toString();s.push(o.substring(0,u)),o=o.substring(u+a.length)}return(u!==-1||o!=="")&&s.push(o),s},g.__codePointAt=function(e,t){var n=e.charCodeAt(t),r,i;return 55296<=n&&n<=56319?(r=n,i=e.charCodeAt(t+1),(r-55296)*1024+(i-56320)+65536):n},g.match=function(e,t){return e.match(t)},g.__matches=function(e,t){return(new RegExp(t)).test(e)},g.__startsWith=function(e,t,n){return typeof e!="string"?e.startsWith.apply(e,Yr(arguments)):(n=n||0,n<0||n>e.length?!1:t===""||t===e?!0:e.indexOf(t)===n)},g.__endsWith=function(e,t){if(typeof e!="string")return e.endsWith.apply(e,Yr(arguments));var n=t?t.length:0;return t===""||t===e?!0:e.indexOf(t)===e.length-n},g.__hashCode=function(e){return e.hashCode instanceof Function?e.hashCode.apply(e,Yr(arguments)):d(e)},g.__printStackTrace=function(e){g.println("Exception: "+e.toString())};var Zr=[];g.println=function(e){var t=Zr.length;t&&(_.logger.log(Zr.join("")),Zr.length=0),arguments.length===0&&t===0?_.logger.log(""):arguments.length!==0&&_.logger.log(e)},g.print=function(e){Zr.push(e)},g.str=function(e){if(e instanceof Array){var t=[];for(var n=0;n<e.length;n++)t.push(e[n].toString()+"");return t}return e.toString()+""},g.trim=function(e){if(e instanceof Array){var t=[];for(var n=0;n<e.length;n++)t.push(e[n].replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,""));return t}return e.replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,"")},g.parseBoolean=function(e){if(e instanceof Array){var t=[];for(var n=0;n<e.length;n++)t.push(ei(e[n]));return t}return ei(e)},g.parseByte=function(e){if(e instanceof Array){var t=[];for(var n=0;n<e.length;n++)t.push(0-(e[n]&128)|e[n]&127);return t}return 0-(e&128)|e&127},g.parseChar=function(e){if(typeof e=="number")return new Lr(String.fromCharCode(e&65535));if(e instanceof Array){var t=[];for(var n=0;n<e.length;n++)t.push(new Lr(String.fromCharCode(e[n]&65535)));return t}throw"char() may receive only one argument of type int, byte, int[], or byte[]."},g.parseFloat=function(e){if(e instanceof Array){var t=[];for(var n=0;n<e.length;n++)t.push(ti(e[n]));return t}return ti(e)},g.parseInt=function(e,t){if(e instanceof Array){var n=[];for(var r=0;r<e.length;r++)typeof e[r]=="string"&&!/^\s*[+\-]?\d+\s*$/.test(e[r])?n.push(0):n.push(ni(e[r],t));return n}return ni(e,t)},g.__int_cast=function(e){return 0|e},g.__instanceof=function(e,t){if(typeof t!="function")throw"Function is expected as type argument for instanceof operator";if(typeof e=="string")return t===Object||t===String;if(e instanceof t)return!0;if(typeof e!="object"||e===null)return!1;var n=e.constructor;if(t.$isInterface){var r=[];while(n)n.$interfaces&&(r=r.concat(n.$interfaces)),n=n.$base;while(r.length>0){var i=r.shift();if(i===t)return!0;i.$interfaces&&(r=r.concat(i.$interfaces))}return!1}while(n.hasOwnProperty("$base")){n=n.$base;if(n===t)return!0}return!1},g.abs=n.abs,g.ceil=n.ceil,g.constrain=function(e,t,n){return e>n?n:e<t?t:e},g.dist=function(){var e,t,r;if(arguments.length===4)return e=arguments[0]-arguments[2],t=arguments[1]-arguments[3],n.sqrt(e*e+t*t);if(arguments.length===6)return e=arguments[0]-arguments[3],t=arguments[1]-arguments[4],r=arguments[2]-arguments[5],n.sqrt(e*e+t*t+r*r)},g.exp=n.exp,g.floor=n.floor,g.lerp=function(e,t,n){return(t-e)*n+e},g.log=n.log,g.mag=function(e,t,r){return r?n.sqrt(e*e+t*t+r*r):n.sqrt(e*e+t*t)},g.map=function(e,t,n,r,i){return r+(i-r)*((e-t)/(n-t))},g.max=function(){if(arguments.length===2)return arguments[0]<arguments[1]?arguments[1]:arguments[0];var e=arguments.length===1?arguments[0]:arguments;if("length"in e&&e.length>0){var t=e[0],n=e.length;for(var r=1;r<n;++r)t<e[r]&&(t=e[r]);return t}throw"Non-empty array is expected"},g.min=function(){if(arguments.length===2)return arguments[0]<arguments[1]?arguments[0]:arguments[1];var e=arguments.length===1?arguments[0]:arguments;if("length"in e&&e.length>0){var t=e[0],n=e.length;for(var r=1;r<n;++r)t>e[r]&&(t=e[r]);return t}throw"Non-empty array is expected"},g.norm=function(e,t,n){return(e-t)/(n-t)},g.pow=n.pow,g.round=n.round,g.sq=function(e){return e*e},g.sqrt=n.sqrt,g.acos=n.acos,g.asin=n.asin,g.atan=n.atan,g.atan2=n.atan2,g.cos=n.cos,g.degrees=function(e){return e*180/n.PI},g.radians=function(e){return e/180*n.PI},g.sin=n.sin,g.tan=n.tan;var ri=n.random;g.random=function(){if(arguments.length===0)return ri();if(arguments.length===1)return ri()*arguments[0];var e=arguments[0],t=arguments[1];return ri()*(t-e)+e},ii.createRandomized=function(){var e=new Date;return new ii(e/6e4&4294967295,e&4294967295)},g.randomSeed=function(e){ri=(new ii(e)).nextDouble},g.Random=function(
e){var t=!1,i,s;this.nextGaussian=function(){if(t)return t=!1,i;var e,r,o;do e=2*s()-1,r=2*s()-1,o=e*e+r*r;while(o>=1||o===0);var u=n.sqrt(-2*n.log(o)/o);return i=r*u,t=!0,e*u},s=e===r?n.random:(new ii(e)).nextDouble};var oi={generator:r,octaves:4,fallout:.5,seed:r};g.noise=function(e,t,n){oi.generator===r&&(oi.generator=new si(oi.seed));var i=oi.generator,s=1,o=1,u=0;for(var a=0;a<oi.octaves;++a){s*=oi.fallout;switch(arguments.length){case 1:u+=s*(1+i.noise1d(o*e))/2;break;case 2:u+=s*(1+i.noise2d(o*e,o*t))/2;break;case 3:u+=s*(1+i.noise3d(o*e,o*t,o*n))/2}o*=2}return u},g.noiseDetail=function(e,t){oi.octaves=e,t!==r&&(oi.fallout=t)},g.noiseSeed=function(e){oi.seed=e,oi.generator=r},xr.prototype.size=function(e,t,r){D&&g.stroke(0),T&&g.fill(255);var i={fillStyle:y.fillStyle,strokeStyle:y.strokeStyle,lineCap:y.lineCap,lineJoin:y.lineJoin};a.style.length>0&&(a.style.removeProperty("width"),a.style.removeProperty("height")),a.width=g.width=e||100,a.height=g.height=t||100;for(var s in i)i.hasOwnProperty(s)&&(y[s]=i[s]);g.textFont(un),g.background(),hn=n.max(1e3,e*t*.05),g.externals.context=y;for(var o=0;o<720;o++)Cn[o]=g.sin(o*(n.PI/180)*.5),kn[o]=g.cos(o*(n.PI/180)*.5)},Tr.prototype.size=function(e,t,n){y===r&&(y=a.getContext("2d"),Pn=new jr,Hn=new jr,_n=new Hr,Dn=new Hr),xr.prototype.size.apply(this,arguments)},Nr.prototype.size=function(){var e=!1;return function(n,r,i){function s(e){var t=["experimental-webgl","webgl","webkit-3d"],n;for(var r=0,i=t.length;r<i;r++){n=e.getContext(t[r],{antialias:!1,preserveDrawingBuffer:!0});if(n)break}return n}if(e)throw"Multiple calls to size() for 3D renders are not allowed.";e=!0;try{a.width=g.width=n||100,a.height=g.height=r||100,y=s(a),Wt=y.createTexture(),Xt=y.createTexture()}catch(o){_.debug(o)}if(!y)throw"WebGL context is not supported on this browser.";y.viewport(0,0,a.width,a.height),y.enable(y.DEPTH_TEST),y.enable(y.BLEND),y.blendFunc(y.SRC_ALPHA,y.ONE_MINUS_SRC_ALPHA),Ot=yr(y,ar,fr),Mt=yr(y,or,ur),g.strokeWeight(1),At=yr(y,cr,hr),y.useProgram(At),dr("usingTexture3d",At,"usingTexture",Jt),g.lightFalloff(1,0,0),g.shininess(1),g.ambient(255,255,255),g.specular(0,0,0),g.emissive(0,0,0),_t=y.createBuffer(),y.bindBuffer(y.ARRAY_BUFFER,_t),y.bufferData(y.ARRAY_BUFFER,tr,y.STATIC_DRAW),Dt=y.createBuffer(),y.bindBuffer(y.ARRAY_BUFFER,Dt),y.bufferData(y.ARRAY_BUFFER,rr,y.STATIC_DRAW),Pt=y.createBuffer(),y.bindBuffer(y.ARRAY_BUFFER,Pt),y.bufferData(y.ARRAY_BUFFER,nr,y.STATIC_DRAW),Ht=y.createBuffer(),y.bindBuffer(y.ARRAY_BUFFER,Ht),y.bufferData(y.ARRAY_BUFFER,ir,y.STATIC_DRAW),Bt=y.createBuffer(),y.bindBuffer(y.ARRAY_BUFFER,Bt),y.bufferData(y.ARRAY_BUFFER,sr,y.STATIC_DRAW),jt=y.createBuffer(),Ft=y.createBuffer(),It=y.createBuffer(),qt=y.createBuffer(),Rt=y.createBuffer(),zt=y.createBuffer(),Ut=y.createBuffer(),y.bindBuffer(y.ARRAY_BUFFER,Ut),y.bufferData(y.ARRAY_BUFFER,new f([0,0,0]),y.STATIC_DRAW),Kt=y.createBuffer(),y.bindBuffer(y.ARRAY_BUFFER,Kt),y.bufferData(y.ARRAY_BUFFER,new f([1,1,0,-1,1,0,-1,-1,0,1,-1,0]),y.STATIC_DRAW),Qt=y.createBuffer(),y.bindBuffer(y.ARRAY_BUFFER,Qt),y.bufferData(y.ARRAY_BUFFER,new f([0,0,1,0,1,1,0,1]),y.STATIC_DRAW),Gt=y.createBuffer(),y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,Gt),y.bufferData(y.ELEMENT_ARRAY_BUFFER,new c([0,1,2,2,3,0]),y.STATIC_DRAW),On=new Br,Mn=new Br,_n=new Br,Dn=new Br,jn=new Br,g.camera(),g.perspective(),Pn=new jr,Hn=new jr,St=new Br,xt=new Br,Tt=new Br,Nt=new Br,Ct=new Br,kt=new Br,kt.set(-1,3,-3,1,3,-6,3,0,-3,3,0,0,1,0,0,0),xr.prototype.size.apply(this,arguments)}}(),Tr.prototype.ambientLight=xr.prototype.a3DOnlyFunction,Nr.prototype.ambientLight=function(e,t,n,r,i,s){if(wn===8)throw"can only create 8 lights";var o=new b(r,i,s),u=new Br;u.scale(1,-1,1),u.apply(_n.array()),u.mult(o,o);var a=Fr(e,t,n,0),f=[(a>>16&255)/255,(a>>8&255)/255,(a&255)/255];y.useProgram(At),pr("uLights.color.3d."+wn,At,"uLights"+wn+".color",f),pr("uLights.position.3d."+wn,At,"uLights"+wn+".position",o.array()),dr("uLights.type.3d."+wn,At,"uLights"+wn+".type",0),dr("uLightCount3d",At,"uLightCount",++wn)},Tr.prototype.directionalLight=xr.prototype.a3DOnlyFunction,Nr.prototype.directionalLight=function(e,t,n,r,i,s){if(wn===8)throw"can only create 8 lights";y.useProgram(At);var o=new Br;o.scale(1,-1,1),o.apply(_n.array()),o=o.array();var u=[o[0]*r+o[4]*i+o[8]*s,o[1]*r+o[5]*i+o[9]*s,o[2]*r+o[6]*i+o[10]*s],a=Fr(e,t,n,0),f=[(a>>16&255)/255,(a>>8&255)/255,(a&255)/255];pr("uLights.color.3d."+wn,At,"uLights"+wn+".color",f),pr("uLights.position.3d."+wn,At,"uLights"+wn+".position",u),dr("uLights.type.3d."+wn,At,"uLights"+wn+".type",1),dr("uLightCount3d",At,"uLightCount",++wn)},Tr.prototype.lightFalloff=xr.prototype.a3DOnlyFunction,Nr.prototype.lightFalloff=function(e,t,n){y.useProgram(At),pr("uFalloff3d",At,"uFalloff",[e,t,n])},Tr.prototype.lightSpecular=xr.prototype.a3DOnlyFunction,Nr.prototype.lightSpecular=function(e,t,n){var r=Fr(e,t,n,0),i=[(r>>16&255)/255,(r>>8&255)/255,(r&255)/255];y.useProgram(At),pr("uSpecular3d",At,"uSpecular",i)},g.lights=function(){g.ambientLight(128,128,128),g.directionalLight(128,128,128,0,0,-1),g.lightFalloff(1,0,0),g.lightSpecular(0,0,0)},Tr.prototype.pointLight=xr.prototype.a3DOnlyFunction,Nr.prototype.pointLight=function(e,t,n,r,i,s){if(wn===8)throw"can only create 8 lights";var o=new b(r,i,s),u=new Br;u.scale(1,-1,1),u.apply(_n.array()),u.mult(o,o);var a=Fr(e,t,n,0),f=[(a>>16&255)/255,(a>>8&255)/255,(a&255)/255];y.useProgram(At),pr("uLights.color.3d."+wn,At,"uLights"+wn+".color",f),pr("uLights.position.3d."+wn,At,"uLights"+wn+".position",o.array()),dr("uLights.type.3d."+wn,At,"uLights"+wn+".type",2),dr("uLightCount3d",At,"uLightCount",++wn)},Tr.prototype.noLights=xr.prototype.a3DOnlyFunction,Nr.prototype.noLights=function(){wn=0,y.useProgram(At),dr("uLightCount3d",At,"uLightCount",wn)},Tr.prototype.spotLight=xr.prototype.a3DOnlyFunction,Nr.prototype.spotLight=function(e,t,n,r,i,s,o,u,a,f,l){if(wn===8)throw"can only create 8 lights";y.useProgram(At);var c=new b(r,i,s),h=new Br;h.scale(1,-1,1),h.apply(_n.array()),h.mult(c,c),h=h.array();var p=[h[0]*o+h[4]*u+h[8]*a,h[1]*o+h[5]*u+h[9]*a,h[2]*o+h[6]*u+h[10]*a],d=Fr(e,t,n,0),v=[(d>>16&255)/255,(d>>8&255)/255,(d&255)/255];pr("uLights.color.3d."+wn,At,"uLights"+wn+".color",v),pr("uLights.position.3d."+wn,At,"uLights"+wn+".position",c.array()),pr("uLights.direction.3d."+wn,At,"uLights"+wn+".direction",p),pr("uLights.concentration.3d."+wn,At,"uLights"+wn+".concentration",l),pr("uLights.angle.3d."+wn,At,"uLights"+wn+".angle",f),dr("uLights.type.3d."+wn,At,"uLights"+wn+".type",3),dr("uLightCount3d",At,"uLightCount",++wn)},Tr.prototype.beginCamera=function(){throw"beginCamera() is not available in 2D mode"},Nr.prototype.beginCamera=function(){if(Fn)throw"You cannot call beginCamera() again before calling endCamera()";Fn=!0,_n=Mn,Dn=On},Tr.prototype.endCamera=function(){throw"endCamera() is not available in 2D mode"},Nr.prototype.endCamera=function(){if(!Fn)throw"You cannot call endCamera() before calling beginCamera()";_n.set(On),Dn.set(Mn),Fn=!1},g.camera=function(e,t,i,s,o,u,a,f,l){e===r&&(Rn=g.width/2,Un=g.height/2,zn=Un/n.tan(qn/2),e=Rn,t=Un,i=zn,s=Rn,o=Un,u=0,a=0,f=1,l=0);var c=new b(e-s,t-o,i-u),h=new b(a,f,l);c.normalize();var p=b.cross(h,c);h=b.cross(c,p),p.normalize(),h.normalize();var d=p.x,v=p.y,m=p.z,y=h.x,w=h.y,E=h.z,S=c.x,x=c.y,T=c.z;On.set(d,v,m,0,y,w,E,0,S,x,T,0,0,0,0,1),On.translate(-e,-t,-i),Mn.reset(),Mn.invApply(d,v,m,0,y,w,E,0,S,x,T,0,0,0,0,1),Mn.translate(e,t,i),_n.set(On),Dn.set(Mn)},g.perspective=function(e,t,r,i){arguments.length===0&&(Un=a.height/2,zn=Un/n.tan(qn/2),Wn=zn/10,Xn=zn*10,Vn=g.width/g.height,e=qn,t=Vn,r=Wn,i=Xn);var s,o,u,f;s=r*n.tan(e/2),o=-s,u=s*t,f=o*t,g.frustum(f,u,o,s,r,i)},Tr.prototype.frustum=function(){throw"Processing.js: frustum() is not supported in 2D mode"},Nr.prototype.frustum=function(e,t,n,r,i,s){In=!0,jn=new Br,jn.set(2*i/(t-e),0,(t+e)/(t-e),0,0,2*i/(r-n),(r+n)/(r-n),0,0,0,-(s+i)/(s-i),-(2*s*i)/(s-i),0,0,-1,0);var o=new Br;o.set(jn),o.transpose(),y.useProgram(Ot),vr("projection2d",Ot,"uProjection",!1,o.array()),y.useProgram(At),vr("projection3d",At,"uProjection",!1,o.array()),y.useProgram(Mt),vr("uProjectionUS",Mt,"uProjection",!1,o.array())},g.ortho=function(e,t,n,r,i,s){arguments.length===0&&(e=0,t=g.width,n=0,r=g.height,i=-10,s=10);var o=2/(t-e),u=2/(r-n),a=-2/(s-i),f=-(t+e)/(t-e),l=-(r+n)/(r-n),c=-(s+i)/(s-i);jn=new Br,jn.set(o,0,0,f,0,u,0,l,0,0,a,c,0,0,0,1);var h=new Br;h.set(jn),h.transpose(),y.useProgram(Ot),vr("projection2d",Ot,"uProjection",!1,h.array()),y.useProgram(At),vr("projection3d",At,"uProjection",!1,h.array()),y.useProgram(Mt),vr("uProjectionUS",Mt,"uProjection",!1,h.array()),In=!1},g.printProjection=function(){jn.print()},g.printCamera=function(){On.print()},Tr.prototype.box=xr.prototype.a3DOnlyFunction,Nr.prototype.box=function(e,t,n){if(!t||!n)t=n=e;var r=new Br;r.scale(e,t,n);var i=new Br;i.scale(1,-1,1),i.apply(_n.array()),i.transpose();if(T){y.useProgram(At),vr("model3d",At,"uModel",!1,r.array()),vr("view3d",At,"uView",!1,i.array()),y.enable(y.POLYGON_OFFSET_FILL),y.polygonOffset(1,1),pr("color3d",At,"uColor",C);if(wn>0){var s=new Br;s.set(i);var o=new Br;o.set(r),s.mult(o);var u=new Br;u.set(s),u.invert(),u.transpose(),vr("uNormalTransform3d",At,"uNormalTransform",!1,u.array()),mr("aNormal3d",At,"aNormal",3,Dt)}else gr("aNormal3d",At,"aNormal");mr("aVertex3d",At,"aVertex",3,_t),gr("aColor3d",At,"aColor"),gr("aTexture3d",At,"aTexture"),y.drawArrays(y.TRIANGLES,0,tr.length/3),y.disable(y.POLYGON_OFFSET_FILL)}j>0&&D&&(y.useProgram(Ot),vr("uModel2d",Ot,"uModel",!1,r.array()),vr("uView2d",Ot,"uView",!1,i.array()),pr("uColor2d",Ot,"uColor",P),dr("uIsDrawingText2d",Ot,"uIsDrawingText",!1),mr("vertex2d",Ot,"aVertex",3,Pt),gr("aTextureCoord2d",Ot,"aTextureCoord"),y.drawArrays(y.LINES,0,nr.length/3))};var ui=function(){var e;Ln=[];for(e=0;e<Sn;e++)Ln.push(0),Ln.push(-1),Ln.push(0),Ln.push(xn[e]),Ln.push(Tn[e]),Ln.push(Nn[e]);Ln.push(0),Ln.push(-1),Ln.push(0),Ln.push(xn[0]),Ln.push(Tn[0]),Ln.push(Nn[0]);var t,n,r,i=0;for(e=2;e<En;e++){t=n=i,i+=Sn,r=i;for(var s=0;s<Sn;s++)Ln.push(xn[t]),Ln.push(Tn[t]),Ln.push(Nn[t++]),Ln.push(xn[r]),Ln.push(Tn[r]),Ln.push(Nn[r++]);t=n,r=i,Ln.push(xn[t]),Ln.push(Tn[t]),Ln.push(Nn[t]),Ln.push(xn[r]),Ln.push(Tn[r]),Ln.push(Nn[r])}for(e=0;e<Sn;e++)r=i+e,Ln.push(xn[r]),Ln.push(Tn[r]),Ln.push(Nn[r]),Ln.push(0),Ln.push(1),Ln.push(0);Ln.push(xn[i]),Ln.push(Tn[i]),Ln.push(Nn[i]),Ln.push(0),Ln.push(1),Ln.push(0),y.bindBuffer(y.ARRAY_BUFFER,jt),y.bufferData(y.ARRAY_BUFFER,new f(Ln),y.STATIC_DRAW)};g.sphereDetail=function(e,t){var n;arguments.length===1&&(e=t=arguments[0]),e<3&&(e=3),t<2&&(t=2);if(e===Sn&&t===En)return;var r=720/e,i=new f(e),s=new f(e);for(n=0;n<e;n++)i[n]=kn[n*r%720|0],s[n]=Cn[n*r%720|0];var o=e*(t-1)+2,u=0;xn=new f(o),Tn=new f(o),Nn=new f(o);var a=360/t,l=a;for(n=1;n<t;n++){var c=Cn[l%720|0],h=-kn[l%720|0];for(var p=0;p<e;p++)xn[u]=i[p]*c,Tn[u]=h,Nn[u++]=s[p]*c;l+=a}Sn=e,En=t,ui()},Tr.prototype.sphere=xr.prototype.a3DOnlyFunction,Nr.prototype.sphere=function(){var e=arguments[0];(Sn<3||En<2)&&g.sphereDetail(30);var t=new Br;t.scale(e,e,e);var n=new Br;n.scale(1,-1,1),n.apply(_n.array()),n.transpose();if(T){if(wn>0){var r=new Br;r.set(n);var i=new Br;i.set(t),r.mult(i);var s=new Br;s.set(r),s.invert(),s.transpose(),vr("uNormalTransform3d",At,"uNormalTransform",!1,s.array()),mr("aNormal3d",At,"aNormal",3,jt)}else gr("aNormal3d",At,"aNormal");y.useProgram(At),gr("aTexture3d",At,"aTexture"),vr("uModel3d",At,"uModel",!1,t.array()),vr("uView3d",At,"uView",!1,n.array()),mr("aVertex3d",At,"aVertex",3,jt),gr("aColor3d",At,"aColor"),y.enable(y.POLYGON_OFFSET_FILL),y.polygonOffset(1,1),pr("uColor3d",At,"uColor",C),y.drawArrays(y.TRIANGLE_STRIP,0,Ln.length/3),y.disable(y.POLYGON_OFFSET_FILL)}j>0&&D&&(y.useProgram(Ot),vr("uModel2d",Ot,"uModel",!1,t.array()),vr("uView2d",Ot,"uView",!1,n.array()),mr("aVertex2d",Ot,"aVertex",3,jt),gr("aTextureCoord2d",Ot,"aTextureCoord"),pr("uColor2d",Ot,"uColor",P),dr("uIsDrawingText",Ot,"uIsDrawingText",!1),y.drawArrays(y.LINE_STRIP,0,Ln.length/3))},g.modelX=function(e,t,n){var r=_n.array(),i=Mn.array(),s=r[0]*e+r[1]*t+r[2]*n+r[3],o=r[4]*e+r[5]*t+r[6]*n+r[7],u=r[8]*e+r[9]*t+r[10]*n+r[11],a=r[12]*e+r[13]*t+r[14]*n+r[15],f=i[0]*s+i[1]*o+i[2]*u+i[3]*a,l=i[12]*s+i[13]*o+i[14]*u+i[15]*a;return l!==0?f/l:f},g.modelY=function(e,t,n){var r=_n.array(),i=Mn.array(),s=r[0]*e+r[1]*t+r[2]*n+r[3],o=r[4]*e+r[5]*t+r[6]*n+r[7],u=r[8]*e+r[9]*t+r[10]*n+r[11],a=r[12]*e+r[13]*t+r[14]*n+r[15],f=i[4]*s+i[5]*o+i[6]*u+i[7]*a,l=i[12]*s+i[13]*o+i[14]*u+i[15]*a;return l!==0?f/l:f},g.modelZ=function(e,t,n){var r=_n.array(),i=Mn.array(),s=r[0]*e+r[1]*t+r[2]*n+r[3],o=r[4]*e+r[5]*t+r[6]*n+r[7],u=r[8]*e+r[9]*t+r[10]*n+r[11],a=r[12]*e+r[13]*t+r[14]*n+r[15],f=i[8]*s+i[9]*o+i[10]*u+i[11]*a,l=i[12]*s+i[13]*o+i[14]*u+i[15]*a;return l!==0?f/l:f},Tr.prototype.ambient=xr.prototype.a3DOnlyFunction,Nr.prototype.ambient=function(e,t,n){y.useProgram(At),dr("uUsingMat3d",At,"uUsingMat",!0);var r=g.color(e,t,n);pr("uMaterialAmbient3d",At,"uMaterialAmbient",g.color.toGLArray(r).slice(0,3))},Tr.prototype.emissive=xr.prototype.a3DOnlyFunction,Nr.prototype.emissive=function(e,t,n){y.useProgram(At),dr("uUsingMat3d",At,"uUsingMat",!0);var r=g.color(e,t,n);pr("uMaterialEmissive3d",At,"uMaterialEmissive",g.color.toGLArray(r).slice(0,3))},Tr.prototype.shininess=xr.prototype.a3DOnlyFunction,Nr.prototype.shininess=function(e){y.useProgram(At),dr("uUsingMat3d",At,"uUsingMat",!0),pr("uShininess3d",At,"uShininess",e)},Tr.prototype.specular=xr.prototype.a3DOnlyFunction,Nr.prototype.specular=function(e,t,n){y.useProgram(At),dr("uUsingMat3d",At,"uUsingMat",!0);var r=g.color(e,t,n);pr("uMaterialSpecular3d",At,"uMaterialSpecular",g.color.toGLArray(r).slice(0,3))},g.screenX=function(e,t,n){var r=_n.array();if(r.length===16){var i=r[0]*e+r[1]*t+r[2]*n+r[3],s=r[4]*e+r[5]*t+r[6]*n+r[7],o=r[8]*e+r[9]*t+r[10]*n+r[11],u=r[12]*e+r[13]*t+r[14]*n+r[15],a=jn.array(),f=a[0]*i+a[1]*s+a[2]*o+a[3]*u,l=a[12]*i+a[13]*s+a[14]*o+a[15]*u;return l!==0&&(f/=l),g.width*(1+f)/2}return _n.multX(e,t)},g.screenY=function(t,n,r){var i=_n.array();if(i.length===16){var s=i[0]*t+i[1]*n+i[2]*r+i[3],o=i[4]*t+i[5]*n+i[6]*r+i[7],u=i[8]*t+i[9]*n+i[10]*r+i[11],a=i[12]*t+i[13]*n+i[14]*r+i[15],f=jn.array(),l=f[4]*s+f[5]*o+f[6]*u+f[7]*a,c=f[12]*s+f[13]*o+f[14]*u+f[15]*a;return c!==0&&(l/=c),g.height*(1+l)/2}return _n.multY(t,n)},g.screenZ=function(t,n,r){var i=_n.array();if(i.length!==16)return 0;var s=jn.array(),o=i[0]*t+i[1]*n+i[2]*r+i[3],u=i[4]*t+i[5]*n+i[6]*r+i[7],a=i[8]*t+i[9]*n+i[10]*r+i[11],f=i[12]*t+i[13]*n+i[14]*r+i[15],l=s[8]*o+s[9]*u+s[10]*a+s[11]*f,c=s[12]*o+s[13]*u+s[14]*a+s[15]*f;return c!==0&&(l/=c),(l+1)/2},xr.prototype.fill=function(){var e=g.color(arguments[0],arguments[1],arguments[2],arguments[3]);if(e===k&&T)return;T=!0,k=e},Tr.prototype.fill=function(){xr.prototype.fill.apply(this,arguments),O=!0},Nr.prototype.fill=function(){xr.prototype.fill.apply(this,arguments),C=g.color.toGLArray(k)},g.noFill=function(){T=!1},xr.prototype.stroke=function(){var e=g.color(arguments[0],arguments[1],arguments[2],arguments[3]);if(e===H&&D)return;D=!0,H=e},Tr.prototype.stroke=function(){xr.prototype.stroke.apply(this,arguments),B=!0},Nr.prototype.stroke=function(){xr.prototype.stroke.apply(this,arguments),P=g.color.toGLArray(H)},g.noStroke=function(){D=!1},xr.prototype.strokeWeight=function(e){j=e},Tr.prototype.strokeWeight=function(e){xr.prototype.strokeWeight.apply(this,arguments),y.lineWidth=e},Nr.prototype.strokeWeight=function(e){xr.prototype.strokeWeight.apply(this,arguments),y.useProgram(Ot),pr("pointSize2d",Ot,"uPointSize",e),y.useProgram(Mt),pr("pointSizeUnlitShape",Mt,"uPointSize",e),y.lineWidth(e)},g.strokeCap=function(e){S.$ensureContext().lineCap=e},g.strokeJoin=function(e){S.$ensureContext().lineJoin=e},Tr.prototype.smooth=function(){I=!0;var e=a.style;e.setProperty("image-rendering","optimizeQuality","important"),e.setProperty("-ms-interpolation-mode","bicubic","important"),y.hasOwnProperty("mozImageSmoothingEnabled")&&(y.mozImageSmoothingEnabled=!0)},Nr.prototype.smooth=function(){I=!0},Tr.prototype.noSmooth=function(){I=!1;var e=a.style;e.setProperty("image-rendering","optimizeSpeed","important"),e.setProperty("image-rendering","-moz-crisp-edges","important"),e.setProperty("image-rendering","-webkit-optimize-contrast","important"),e.setProperty("image-rendering","optimize-contrast","important"),e.setProperty("-ms-interpolation-mode","nearest-neighbor","important"),y.hasOwnProperty("mozImageSmoothingEnabled")&&(y.mozImageSmoothingEnabled=!1)},Nr.prototype.noSmooth=function(){I=!1},Tr.prototype.point=function(e,t){if(!D)return;e=n.round(e),t=n.round(t),y.fillStyle=g.color.toString(H),O=!0,j>1?(y.beginPath(),y.arc(e,t,j/2,0,6.283185307179586,!1),y.fill()):y.fillRect(e,t,1,1)},Nr.prototype.point=function(e,t,n){var r=new Br;r.translate(e,t,n||0),r.transpose();var i=new Br;i.scale(1,-1,1),i.apply(_n.array()),i.transpose(),y.useProgram(Ot),vr("uModel2d",Ot,"uModel",!1,r.array()),vr("uView2d",Ot,"uView",!1,i.array()),j>0&&D&&(pr("uColor2d",Ot,"uColor",P),dr("uIsDrawingText2d",Ot,"uIsDrawingText",!1),dr("uSmooth2d",Ot,"uSmooth",I),mr("aVertex2d",Ot,"aVertex",3,Ut),gr("aTextureCoord2d",Ot,"aTextureCoord"),y.drawArrays(y.POINTS,0,1))},g.beginShape=function(e){Y=e,et=[],$n=[]},Tr.prototype.vertex=function(e,t,n){var r=[];Yn&&(Yn=!1),r.isVert=!0,r[0]=e,r[1]=t,r[2]=0,r[3]=0,r[4]=0,r[5]=k,r[6]=H,$n.push(r),n&&($n[$n.length-1].moveTo=n)},Nr.prototype.vertex=function(e,t,n,i,s){var o=[];Yn&&(Yn=!1),o.isVert=!0,s===r&&Jt&&(s=i,i=n,n=0),i!==r&&s!==r&&($t===2&&(i/=Vt.width,s/=Vt.height),i=i>1?1:i,i=i<0?0:i,s=s>1?1:s,s=s<0?0:s),o[0]=e,o[1]=t,o[2]=n||0,o[3]=i||0,o[4]=s||0,o[5]=C[0],o[6]=C[1],o[7]=C[2],o[8]=C[3],o[9]=P[0],o[10]=P[1],o[11]=P[2],o[12]=P[3],o[13]=W,o[14]=X,o[15]=V,$n.push(o)};var li=function(e,t){var n=new Br;n.scale(1,-1,1),n.apply(_n.array()),n.transpose(),y.useProgram(Mt),vr("uViewUS",Mt,"uView",!1,n.array()),dr("uSmoothUS",Mt,"uSmooth",I),mr("aVertexUS",Mt,"aVertex",3,Ut),y.bufferData(y.ARRAY_BUFFER,new f(e),y.STREAM_DRAW),mr("aColorUS",Mt,"aColor",4,qt),y.bufferData(y.ARRAY_BUFFER,new f(t),y.STREAM_DRAW),y.drawArrays(y.POINTS,0,e.length/3)},ci=function(e,t,n){var r;t==="LINES"?r=y.LINES:t==="LINE_LOOP"?r=y.LINE_LOOP:r=y.LINE_STRIP;var i=new Br;i.scale(1,-1,1),i.apply(_n.array()),i.transpose(),y.useProgram(Mt),vr("uViewUS",Mt,"uView",!1,i.array()),mr("aVertexUS",Mt,"aVertex",3,Ft),y.bufferData(y.ARRAY_BUFFER,new f(e),y.STREAM_DRAW),mr("aColorUS",Mt,"aColor",4,Rt),y.bufferData(y.ARRAY_BUFFER,new f(n),y.STREAM_DRAW),y.drawArrays(r,0,e.length/3)},hi=function(e,t,n,r){var i;t==="TRIANGLES"?i=y.TRIANGLES:t==="TRIANGLE_FAN"?i=y.TRIANGLE_FAN:i=y.TRIANGLE_STRIP;var s=new Br;s.scale(1,-1,1),s.apply(_n.array()),s.transpose(),y.useProgram(At),vr("model3d",At,"uModel",!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),vr("view3d",At,"uView",!1,s.array()),y.enable(y.POLYGON_OFFSET_FILL),y.polygonOffset(1,1),pr("color3d",At,"uColor",[-1,0,0,0]),mr("vertex3d",At,"aVertex",3,It),y.bufferData(y.ARRAY_BUFFER,new f(e),y.STREAM_DRAW),Jt&&vt!==null&&mt(n),mr("aColor3d",At,"aColor",4,qt),y.bufferData(y.ARRAY_BUFFER,new f(n),y.STREAM_DRAW),gr("aNormal3d",At,"aNormal"),Jt&&(dr("uUsingTexture3d",At,"uUsingTexture",Jt),mr("aTexture3d",At,"aTexture",2,zt),y.bufferData(y.ARRAY_BUFFER,new f(r),y.STREAM_DRAW)),y.drawArrays(i,0,e.length/3),y.disable(y.POLYGON_OFFSET_FILL)};Tr.prototype.endShape=function(e){if($n.length===0)return;var t=e===2;t&&$n.push($n[0]);var n=[],i=[],s=[],o=[],u=[],a;Yn=!0;var f,l,c,h=$n.length;for(f=0;f<h;f++){a=$n[f];for(l=0;l<3;l++)i.push(a[l])}for(f=0;f<h;f++){a=$n[f];for(l=5;l<9;l++)s.push(a[l])}for(f=0;f<h;f++){a=$n[f];for(l=9;l<13;l++)o.push(a[l])}for(f=0;f<h;f++)a=$n[f],u.push(a[3]),u.push(a[4]);if(!Qn||Y!==20&&Y!==r)if(!Gn||Y!==20&&Y!==r)if(Y===2)for(f=0;f<h;f++)a=$n[f],D&&g.stroke(a[6]),g.point(a[0],a[1]);else if(Y===4)for(f=0;f+1<h;f+=2)a=$n[f],D&&g.stroke($n[f+1][6]),g.line(a[0],a[1],$n[f+1][0],$n[f+1][1]);else if(Y===9)for(f=0;f+2<h;f+=3)a=$n[f],y.beginPath(),y.moveTo(a[0],a[1]),y.lineTo($n[f+1][0],$n[f+1][1]),y.lineTo($n[f+2][0],$n[f+2][1]),y.lineTo(a[0],a[1]),T&&(g.fill($n[f+2][5]),ai()),D&&(g.stroke($n[f+2][6]),fi()),y.closePath();else if(Y===10)for(f=0;f+1<h;f++)a=$n[f],y.beginPath(),y.moveTo($n[f+1][0],$n[f+1][1]),y.lineTo(a[0],a[1]),D&&g.stroke($n[f+1][6]),T&&g.fill($n[f+1][5]),f+2<h&&(y.lineTo($n[f+2][0],$n[f+2][1]),D&&g.stroke($n[f+2][6]),T&&g.fill($n[f+2][5])),pi();else if(Y===11){if(h>2){y.beginPath(),y.moveTo($n[0][0],$n[0][1]),y.lineTo($n[1][0],$n[1][1]),y.lineTo($n[2][0],$n[2][1]),T&&(g.fill($n[2][5]),ai()),D&&(g.stroke($n[2][6]),fi()),y.closePath();for(f=3;f<h;f++)a=$n[f],y.beginPath(),y.moveTo($n[0][0],$n[0][1]),y.lineTo($n[f-1][0],$n[f-1][1]),y.lineTo(a[0],a[1]),T&&(g.fill(a[5]),ai()),D&&(g.stroke(a[6]),fi()),y.closePath()}}else if(Y===16)for(f=0;f+3<h;f+=4){a=$n[f],y.beginPath(),y.moveTo(a[0],a[1]);for(l=1;l<4;l++)y.lineTo($n[f+l][0],$n[f+l][1]);y.lineTo(a[0],a[1]),T&&(g.fill($n[f+3][5]),ai()),D&&(g.stroke($n[f+3][6]),fi()),y.closePath()}else if(Y===17){if(h>3)for(f=0;f+1<h;f+=2)a=$n[f],y.beginPath(),f+3<h?(y.moveTo($n[f+2][0],$n[f+2][1]),y.lineTo(a[0],a[1]),y.lineTo($n[f+1][0],$n[f+1][1]),y.lineTo($n[f+3][0],$n[f+3][1]),T&&g.fill($n[f+3][5]),D&&g.stroke($n[f+3][6])):(y.moveTo(a[0],a[1]),y.lineTo($n[f+1][0],$n[f+1][1])),pi()}else{y.beginPath(),y.moveTo($n[0][0],$n[0][1]);for(f=1;f<h;f++)a=$n[f],a.isVert&&(a.moveTo?y.moveTo(a[0],a[1]):y.lineTo(a[0],a[1]));pi()}else{y.beginPath();for(f=0;f<h;f++)a=$n[f],$n[f].isVert?$n[f].moveTo?y.moveTo(a[0],a[1]):y.lineTo(a[0],a[1]):y.bezierCurveTo($n[f][0],$n[f][1],$n[f][2],$n[f][3],$n[f][4],$n[f][5]);pi()}else if(h>3){var p=[],d=1-tt;y.beginPath(),y.moveTo($n[1][0],$n[1][1]);for(f=1;f+2<h;f++)a=$n[f],p[0]=[a[0],a[1]],p[1]=[a[0]+(d*$n[f+1][0]-d*$n[f-1][0])/6,a[1]+(d*$n[f+1][1]-d*$n[f-1][1])/6],p[2]=[$n[f+1][0]+(d*$n[f][0]-d*$n[f+2][0])/6,$n[f+1][1]+(d*$n[f][1]-d*$n[f+2][1])/6],p[3]=[$n[f+1][0],$n[f+1][1]],y.bezierCurveTo(p[1][0],p[1][1],p[2][0],p[2][1],p[3][0],p[3][1]);pi()}Qn=!1,Gn=!1,Jn=[],Kn=0,t&&$n.pop()},Nr.prototype.endShape=function(e){if($n.length===0)return;var t=e===2,n=[],i=[],s=[],o=[],u=[],a;Yn=!0;var f,l,c,h=$n.length;for(f=0;f<h;f++){a=$n[f];for(l=0;l<3;l++)i.push(a[l])}for(f=0;f<h;f++){a=$n[f];for(l=5;l<9;l++)s.push(a[l])}for(f=0;f<h;f++){a=$n[f];for(l=9;l<13;l++)o.push(a[l])}for(f=0;f<h;f++)a=$n[f],u.push(a[3]),u.push(a[4]);if(t){i.push($n[0][0]),i.push($n[0][1]),i.push($n[0][2]);for(f=5;f<9;f++)s.push($n[0][f]);for(f=9;f<13;f++)o.push($n[0][f]);u.push($n[0][3]),u.push($n[0][4])}if(!Qn||Y!==20&&Y!==r)if(!Gn||Y!==20&&Y!==r){if(Y===2){for(f=0;f<h;f++){a=$n[f];for(l=0;l<3;l++)n.push(a[l])}li(n,o)}else if(Y===4){for(f=0;f<h;f++){a=$n[f];for(l=0;l<3;l++)n.push(a[l])}for(f=0;f<h;f++){a=$n[f];for(l=5;l<9;l++)s.push(a[l])}ci(n,"LINES",o)}else if(Y===9){if(h>2)for(f=0;f+2<h;f+=3){i=[],u=[],n=[],s=[],o=[];for(l=0;l<3;l++)for(c=0;c<3;c++)n.push($n[f+l][c]),i.push($n[f+l][c]);for(l=0;l<3;l++)for(c=3;c<5;c++)u.push($n[f+l][c]);for(l=0;l<3;l++)for(c=5;c<9;c++)s.push($n[f+l][c]),o.push($n[f+l][c+4]);D&&ci(n,"LINE_LOOP",o),(T||Jt)&&hi(i,"TRIANGLES",s,u)}}else if(Y===10){if(h>2)for(f=0;f+2<h;f++){n=[],i=[],o=[],s=[],u=[];for(l=0;l<3;l++)for(c=0;c<3;c++)n.push($n[f+l][c]),i.push($n[f+l][c]);for(l=0;l<3;l++)for(c=3;c<5;c++)u.push($n[f+l][c]);for(l=0;l<3;l++)for(c=5;c<9;c++)o.push($n[f+l][c+4]),s.push($n[f+l][c]);(T||Jt)&&hi(i,"TRIANGLE_STRIP",s,u),D&&ci(n,"LINE_LOOP",o)}}else if(Y===11){if(h>2){for(f=0;f<3;f++){a=$n[f];for(l=0;l<3;l++)n.push(a[l])}for(f=0;f<3;f++){a=$n[f];for(l=9;l<13;l++)o.push(a[l])}D&&ci(n,"LINE_LOOP",o);for(f=2;f+1<h;f++){n=[],o=[],n.push($n[0][0]),n.push($n[0][1]),n.push($n[0][2]),o.push($n[0][9]),o.push($n[0][10]),o.push($n[0][11]),o.push($n[0][12]);for(l=0;l<2;l++)for(c=0;c<3;c++)n.push($n[f+l][c]);for(l=0;l<2;l++)for(c=9;c<13;c++)o.push($n[f+l][c]);D&&ci(n,"LINE_STRIP",o)}(T||Jt)&&hi(i,"TRIANGLE_FAN",s,u)}}else if(Y===16)for(f=0;f+3<h;f+=4){n=[];for(l=0;l<4;l++){a=$n[f+l];for(c=0;c<3;c++)n.push(a[c])}D&&ci(n,"LINE_LOOP",o);if(T){i=[],s=[],u=[];for(l=0;l<3;l++)i.push($n[f][l]);for(l=5;l<9;l++)s.push($n[f][l]);for(l=0;l<3;l++)i.push($n[f+1][l]);for(l=5;l<9;l++)s.push($n[f+1][l]);for(l=0;l<3;l++)i.push($n[f+3][l]);for(l=5;l<9;l++)s.push($n[f+3][l]);for(l=0;l<3;l++)i.push($n[f+2][l]);for(l=5;l<9;l++)s.push($n[f+2][l]);Jt&&(u.push($n[f+0][3]),u.push($n[f+0][4]),u.push($n[f+1][3]),u.push($n[f+1][4]),u.push($n[f+3][3]),u.push($n[f+3][4]),u.push($n[f+2][3]),u.push($n[f+2][4])),hi(i,"TRIANGLE_STRIP",s,u)}}else if(Y===17){var p=[];if(h>3){for(f=0;f<2;f++){a=$n[f];for(l=0;l<3;l++)n.push(a[l])}for(f=0;f<2;f++){a=$n[f];for(l=9;l<13;l++)o.push(a[l])}ci(n,"LINE_STRIP",o),h>4&&h%2>0&&(p=i.splice(i.length-3),$n.pop());for(f=0;f+3<h;f+=2){n=[],o=[];for(l=0;l<3;l++)n.push($n[f+1][l]);for(l=0;l<3;l++)n.push($n[f+3][l]);for(l=0;l<3;l++)n.push($n[f+2][l]);for(l=0;l<3;l++)n.push($n[f+0][l]);for(l=9;l<13;l++)o.push($n[f+1][l]);for(l=9;l<13;l++)o.push($n[f+3][l]);for(l=9;l<13;l++)o.push($n[f+2][l]);for(l=9;l<13;l++)o.push($n[f+0][l]);D&&ci(n,"LINE_STRIP",o)}(T||Jt)&&hi(i,"TRIANGLE_LIST",s,u)}}else if(h===1){for(l=0;l<3;l++)n.push($n[0][l]);for(l=9;l<13;l++)o.push($n[0][l]);li(n,o)}else{for(f=0;f<h;f++){a=$n[f];for(l=0;l<3;l++)n.push(a[l]);for(l=5;l<9;l++)o.push(a[l])}D&&t?ci(n,"LINE_LOOP",o):D&&!t&&ci(n,"LINE_STRIP",o),(T||Jt)&&hi(i,"TRIANGLE_FAN",s,u)}Jt=!1,y.useProgram(At),dr("usingTexture3d",At,"uUsingTexture",Jt)}else n=i,n.splice(n.length-3),o.splice(o.length-4),D&&ci(n,null,o),T&&hi(i,"TRIANGLES",s);else n=i,D&&ci(n,null,o),T&&hi(i,null,s);Qn=!1,Gn=!1,Jn=[],Kn=0};var di=function(e,t){var n=1/e,r=n*n,i=r*n;t.set(0,0,0,1,i,r,n,0,6*i,2*r,0,0,6*i,0,0,0)},vi=function(){Tt||(St=new Br,Tt=new Br,rt=!0);var e=tt;St.set((e-1)/2,(e+3)/2,(-3-e)/2,(1-e)/2,1-e,(-5-e)/2,e+2,(e-1)/2,(e-1)/2,0,(1-e)/2,0,0,1,0,0),di(nt,Tt),Ct||(xt=new Br),xt.set(St),xt.preApply(Ct),Tt.apply(St)};Tr.prototype.bezierVertex=function(){Gn=!0;var e=[];if(Yn)throw"vertex() must be used at least once before calling bezierVertex()";for(var t=0;t<arguments.length;t++)e[t]=arguments[t];$n.push(e),$n[$n.length-1].isVert=!1},Nr.prototype.bezierVertex=function(){Gn=!0;var e=[];if(Yn)throw"vertex() must be used at least once before calling bezierVertex()";if(arguments.length===9){Nt===r&&(Nt=new Br);var t=$n.length-1;di(st,Nt),Nt.apply(kt);var n=Nt.array(),i=$n[t][0],s=$n[t][1],o=$n[t][2],u=n[4]*i+n[5]*arguments[0]+n[6]*arguments[3]+n[7]*arguments[6],a=n[8]*i+n[9]*arguments[0]+n[10]*arguments[3]+n[11]*arguments[6],f=n[12]*i+n[13]*arguments[0]+n[14]*arguments[3]+n[15]*arguments[6],l=n[4]*s+n[5]*arguments[1]+n[6]*arguments[4]+n[7]*arguments[7],c=n[8]*s+n[9]*arguments[1]+n[10]*arguments[4]+n[11]*arguments[7],h=n[12]*s+n[13]*arguments[1]+n[14]*arguments[4]+n[15]*arguments[7],p=n[4]*o+n[5]*arguments[2]+n[6]*arguments[5]+n[7]*arguments[8],d=n[8]*o+n[9]*arguments[2]+n[10]*arguments[5]+n[11]*arguments[8],v=n[12]*o+n[13]*arguments[2]+n[14]*arguments[5]+n[15]*arguments[8];for(var m=0;m<st;m++)i+=u,u+=a,a+=f,s+=l,l+=c,c+=h,o+=p,p+=d,d+=v,g.vertex(i,s,o);g.vertex(arguments[6],arguments[7],arguments[8])}},g.texture=function(e){var n=S.$ensureContext();if(e.__texture)n.bindTexture(n.TEXTURE_2D,e.__texture);else if(e.localName==="canvas")n.bindTexture(n.TEXTURE_2D,Wt),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.generateMipmap(n.TEXTURE_2D),Vt.width=e.width,Vt.height=e.height;else{var r=n.createTexture(),i=t.createElement("canvas"),s=i.getContext("2d"),o;if(e.width&e.width-1===0)i.width=e.width;else{o=1;while(o<e.width)o*=2;i.width=o}if(e.height&e.height-1===0)i.height=e.height;else{o=1;while(o<e.height)o*=2;i.height=o}s.drawImage(e.sourceImg,0,0,e.width,e.height,0,0,i.width,i.height),n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,i),n.generateMipmap(n.TEXTURE_2D),e.__texture=r,Vt.width=e.width,Vt.height=e.height}Jt=!0,n.useProgram(At),dr("usingTexture3d",At,"uUsingTexture",Jt)},g.textureMode=function(e){$t=e};var mi=function(e,t,n,r,i,s,o,u,a,f,l,c){var h=r,p=i,d=s,v=Tt.array(),m=v[4]*e+v[5]*r+v[6]*o+v[7]*f,y=v[8]*e+v[9]*r+v[10]*o+v[11]*f,b=v[12]*e+v[13]*r+v[14]*o+v[15]*f,w=v[4]*t+v[5]*i+v[6]*u+v[7]*l,E=v[8]*t+v[9]*i+v[10]*u+v[11]*l,S=v[12]*t+v[13]*i+v[14]*u+v[15]*l,x=v[4]*n+v[5]*s+v[6]*a+v[7]*c,T=v[8]*n+v[9]*s+v[10]*a+v[11]*c,N=v[12]*n+v[13]*s+v[14]*a+v[15]*c;g.vertex(h,p,d);for(var C=0;C<nt;C++)h+=m,m+=y,y+=b,p+=w,w+=E,E+=S,d+=x,x+=T,T+=N,g.vertex(h,p,d)};Tr.prototype.curveVertex=function(e,t){Qn=!0,g.vertex(e,t)},Nr.prototype.curveVertex=function(e,t,n){Qn=!0,rt||vi();var r=[];r[0]=e,r[1]=t,r[2]=n,Jn.push(r),Kn++,Kn>3&&mi(Jn[Kn-4][0],Jn[Kn-4][1],Jn[Kn-4][2],Jn[Kn-3][0],Jn[Kn-3][1],Jn[Kn-3][2],Jn[Kn-2][0],Jn[Kn-2][1],Jn[Kn-2][2],Jn[Kn-1][0],Jn[Kn-1][1],Jn[Kn-1][2])},Tr.prototype.curve=function(e,t,n,r,i,s,o,u){g.beginShape(),g.curveVertex(e,t),g.curveVertex(n,r),g.curveVertex(i,s),g.curveVertex(o,u),g.endShape()},Nr.prototype.curve=function(e,t,n,i,s,o,u,a,f,l,c,h){if(h!==r){g.beginShape(),g.curveVertex(e,t,n),g.curveVertex(i,s,o),g.curveVertex(u,a,f),g.curveVertex(l,c,h),g.endShape();return}g.beginShape(),g.curveVertex(e,t),g.curveVertex(n,i),g.curveVertex(s,o),g.curveVertex(u,a),g.endShape()},g.curveTightness=function(e){tt=e},g.curveDetail=function(e){nt=e,vi()},g.rectMode=function(e){U=e},g.imageMode=function(e){switch(e){case 0:wr=br;break;case 1:wr=Er;break;case 3:wr=Sr;break;default:throw"Invalid imageMode"}},g.ellipseMode=function(e){z=e},g.arc=function(e,t,n,r,i,s){if(n<=0||s<i)return;z===1?(n-=e,r-=t):z===2?(e-=n,t-=r,n*=2,r*=2):z===3&&(e-=n/2,t-=r/2);while(i<0)i+=6.283185307179586,s+=6.283185307179586;s-i>6.283185307179586&&(i=0,s=6.283185307179586);var o=n/2,u=r/2,a=e+o,f=t+u,l=0|.5+i*g.RAD_TO_DEG*2,c=0|.5+s*g.RAD_TO_DEG*2,h,p;if(T){var d=D;D=!1,g.beginShape(),g.vertex(a,f);for(h=l;h<=c;h++)p=h%720,g.vertex(a+kn[p]*o,f+Cn[p]*u);g.endShape(2),D=d}if(D){var v=T;T=!1,g.beginShape();for(h=l;h<=c;h++)p=h%720,g.vertex(a+kn[p]*o,f+Cn[p]*u);g.endShape(),T=v}},Tr.prototype.line=function(e,t,i,s){if(!D)return;e=n.round(e),i=n.round(i),t=n.round(t),s=n.round(s);if(e===i&&t===s){g.point(e,t);return}var o=r,u=r,a=!0,f=_n.array(),l=[1,0,0,0,1,0];for(var c=0;c<6&&a;c++)a=f[c]===l[c];a&&(e===i?(t>s&&(o=t,t=s,s=o),s++,j%2===1&&y.translate(.5,0)):t===s&&(e>i&&(o=e,e=i,i=o),i++,j%2===1&&y.translate(0,.5)),j===1&&(u=y.lineCap,y.lineCap="butt")),y.beginPath(),y.moveTo(e||0,t||0),y.lineTo(i||0,s||0),fi(),a&&(e===i&&j%2===1?y.translate(-0.5,0):t===s&&j%2===1&&y.translate(0,-0.5),j===1&&(y.lineCap=u))},Nr.prototype.line=function(e,t,n,i,s,o){if(s===r||o===r)o=0,s=i,i=n,n=0;if(e===i&&t===s&&n===o){g.point(e,t,n);return}var u=[e,t,n,i,s,o],a=new Br;a.scale(1,-1,1),a.apply(_n.array()),a.transpose(),j>0&&D&&(y.useProgram(Ot),vr("uModel2d",Ot,"uModel",!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),vr("uView2d",Ot,"uView",!1,a.array()),pr("uColor2d",Ot,"uColor",P),dr("uIsDrawingText",Ot,"uIsDrawingText",!1),mr("aVertex2d",Ot,"aVertex",3,Ft),gr("aTextureCoord2d",Ot,"aTextureCoord"),y.bufferData(y.ARRAY_BUFFER,new f(u),y.STREAM_DRAW),y.drawArrays(y.LINES,0,2))},Tr.prototype.bezier=function(){if(arguments.length!==8)throw"You must use 8 parameters for bezier() in 2D mode";g.beginShape(),g.vertex(arguments[0],arguments[1]),g.bezierVertex(arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]),g.endShape()},Nr.prototype.bezier=function(){if(arguments.length!==12)throw"You must use 12 parameters for bezier() in 3D mode";g.beginShape(),g.vertex(arguments[0],arguments[1],arguments[2]),g.bezierVertex(arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]),g.endShape()},g.bezierDetail=function(e){st=e},g.bezierPoint=function(e,t,n,r,i){return(1-i)*(1-i)*(1-i)*e+3*(1-i)*(1-i)*i*t+3*(1-i)*i*i*n+i*i*i*r},g.bezierTangent=function(e,t,n,r,i){return 3*i*i*(-e+3*t-3*n+r)+6*i*(e-2*t+n)+3*(-e+t)},g.curvePoint=function(e,t,n,r,i){return.5*(2*t+(-e+n)*i+(2*e-5*t+4*n-r)*i*i+(-e+3*t-3*n+r)*i*i*i)},g.curveTangent=function(e,t,n,r,i){return.5*(-e+n+2*(2*e-5*t+4*n-r)*i+3*(-e+3*t-3*n+r)*i*i)},g.triangle=function(e,t,n,r,i,s){g.beginShape(9),g.vertex(e,t,0),g.vertex(n,r,0),g.vertex(i,s,0),g.endShape()},g.quad=function(e,t,n,r,i,s,o,u){g.beginShape(16),g.vertex(e,t,0),g.vertex(n,r,0),g.vertex(i,s,0),g.vertex(o,u,0),g.endShape()};var gi=function(e,t,i,s,o,u,a,f){f===r&&(u=o,a=o,f=o);var l=i/2,c=s/2;if(o>l||o>c)o=n.min(l,c);if(u>
l||u>c)u=n.min(l,c);if(a>l||a>c)a=n.min(l,c);if(f>l||f>c)f=n.min(l,c);(!T||D)&&y.translate(.5,.5),y.beginPath(),y.moveTo(e+o,t),y.lineTo(e+i-u,t),y.quadraticCurveTo(e+i,t,e+i,t+u),y.lineTo(e+i,t+s-a),y.quadraticCurveTo(e+i,t+s,e+i-a,t+s),y.lineTo(e+f,t+s),y.quadraticCurveTo(e,t+s,e,t+s-f),y.lineTo(e,t+o),y.quadraticCurveTo(e,t,e+o,t),(!T||D)&&y.translate(-0.5,-0.5),ai(),fi()};Tr.prototype.rect=function(e,t,i,s,o,u,a,f){if(!i&&!s)return;U===1?(i-=e,s-=t):U===2?(i*=2,s*=2,e-=i/2,t-=s/2):U===3&&(e-=i/2,t-=s/2),e=n.round(e),t=n.round(t),i=n.round(i),s=n.round(s);if(o!==r){gi(e,t,i,s,o,u,a,f);return}D&&j%2===1&&y.translate(.5,.5),y.beginPath(),y.rect(e,t,i,s),ai(),fi(),D&&j%2===1&&y.translate(-0.5,-0.5)},Nr.prototype.rect=function(e,t,n,i,s,o,u,a){if(s!==r)throw"rect() with rounded corners is not supported in 3D mode";U===1?(n-=e,i-=t):U===2?(n*=2,i*=2,e-=n/2,t-=i/2):U===3&&(e-=n/2,t-=i/2);var f=new Br;f.translate(e,t,0),f.scale(n,i,1),f.transpose();var l=new Br;l.scale(1,-1,1),l.apply(_n.array()),l.transpose(),j>0&&D&&(y.useProgram(Ot),vr("uModel2d",Ot,"uModel",!1,f.array()),vr("uView2d",Ot,"uView",!1,l.array()),pr("uColor2d",Ot,"uColor",P),dr("uIsDrawingText2d",Ot,"uIsDrawingText",!1),mr("aVertex2d",Ot,"aVertex",3,Ht),gr("aTextureCoord2d",Ot,"aTextureCoord"),y.drawArrays(y.LINE_LOOP,0,ir.length/3));if(T){y.useProgram(At),vr("uModel3d",At,"uModel",!1,f.array()),vr("uView3d",At,"uView",!1,l.array()),y.enable(y.POLYGON_OFFSET_FILL),y.polygonOffset(1,1),pr("color3d",At,"uColor",C);if(wn>0){var c=new Br;c.set(l);var h=new Br;h.set(f),c.mult(h);var p=new Br;p.set(c),p.invert(),p.transpose(),vr("uNormalTransform3d",At,"uNormalTransform",!1,p.array()),mr("aNormal3d",At,"aNormal",3,Bt)}else gr("normal3d",At,"aNormal");mr("vertex3d",At,"aVertex",3,Ht),y.drawArrays(y.TRIANGLE_FAN,0,ir.length/3),y.disable(y.POLYGON_OFFSET_FILL)}},Tr.prototype.ellipse=function(e,t,n,r){e=e||0,t=t||0;if(n<=0&&r<=0)return;z===2?(n*=2,r*=2):z===1?(n-=e,r-=t,e+=n/2,t+=r/2):z===0&&(e+=n/2,t+=r/2);if(n===r)y.beginPath(),y.arc(e,t,n/2,0,6.283185307179586,!1),ai(),fi();else{var i=n/2,s=r/2,o=.5522847498307933,u=o*i,a=o*s;g.beginShape(),g.vertex(e+i,t),g.bezierVertex(e+i,t-a,e+u,t-s,e,t-s),g.bezierVertex(e-u,t-s,e-i,t-a,e-i,t),g.bezierVertex(e-i,t+a,e-u,t+s,e,t+s),g.bezierVertex(e+u,t+s,e+i,t+a,e+i,t),g.endShape()}},Nr.prototype.ellipse=function(e,t,n,r){e=e||0,t=t||0;if(n<=0&&r<=0)return;z===2?(n*=2,r*=2):z===1?(n-=e,r-=t,e+=n/2,t+=r/2):z===0&&(e+=n/2,t+=r/2);var i=n/2,s=r/2,o=.5522847498307933,u=o*i,a=o*s;g.beginShape(),g.vertex(e+i,t),g.bezierVertex(e+i,t-a,0,e+u,t-s,0,e,t-s,0),g.bezierVertex(e-u,t-s,0,e-i,t-a,0,e-i,t,0),g.bezierVertex(e-i,t+a,0,e-u,t+s,0,e,t+s,0),g.bezierVertex(e+u,t+s,0,e+i,t+a,0,e+i,t,0),g.endShape();if(T){var f=0,l=0,c,h;for(c=0;c<$n.length;c++)f+=$n[c][0],l+=$n[c][1];f/=$n.length,l/=$n.length;var p=[],d=[],v=[];p[0]=f,p[1]=l,p[2]=0,p[3]=0,p[4]=0,p[5]=C[0],p[6]=C[1],p[7]=C[2],p[8]=C[3],p[9]=P[0],p[10]=P[1],p[11]=P[2],p[12]=P[3],p[13]=W,p[14]=X,p[15]=V,$n.unshift(p);for(c=0;c<$n.length;c++){for(h=0;h<3;h++)d.push($n[c][h]);for(h=5;h<9;h++)v.push($n[c][h])}hi(d,"TRIANGLE_FAN",v)}},g.normal=function(e,t,n){if(arguments.length!==3||typeof e!="number"||typeof t!="number"||typeof n!="number")throw"normal() requires three numeric arguments.";W=e,X=t,V=n,Y!==0&&($===0?$=1:$===1&&($=2))},g.save=function(t,n){return n!==r?e.open(n.toDataURL(),"_blank"):e.open(g.externals.canvas.toDataURL(),"_blank")};var yi=0;g.saveFrame=function(e){e===r&&(e="screen-####.png");var t=e.replace(/#+/,function(e){var t=""+yi++;while(t.length<e.length)t="0"+t;return t});g.save(t)};var bi=t.createElement("canvas").getContext("2d"),wi=[r,r,r],xi=function(e,n,r){this.__isDirty=!1;if(e instanceof HTMLImageElement)this.fromHTMLImageData(e);else if(n||r){this.width=e||1,this.height=n||1;var i=this.sourceImg=t.createElement("canvas");i.width=this.width,i.height=this.height;var s=this.imageData=i.getContext("2d").createImageData(this.width,this.height);this.format=r===2||r===4?r:1;if(this.format===1)for(var o=3,u=this.imageData.data,a=u.length;o<a;o+=4)u[o]=255;this.__isDirty=!0,this.updatePixels()}else this.width=0,this.height=0,this.imageData=bi.createImageData(1,1),this.format=2;this.pixels=Si(this)};xi.prototype={__isPImage:!0,updatePixels:function(){var e=this.sourceImg;e&&e instanceof HTMLCanvasElement&&this.__isDirty&&e.getContext("2d").putImageData(this.imageData,0,0),this.__isDirty=!1},fromHTMLImageData:function(e){var t=Ei(e);try{var n=t.context.getImageData(0,0,e.width,e.height);this.fromImageData(n)}catch(r){e.width&&e.height&&(this.isRemote=!0,this.width=e.width,this.height=e.height)}this.sourceImg=e},get:function(e,t,n,r){if(!arguments.length)return g.get(this);if(arguments.length===2)return g.get(e,t,this);if(arguments.length===4)return g.get(e,t,n,r,this)},set:function(e,t,n){g.set(e,t,n,this),this.__isDirty=!0},blend:function(e,t,n,r,i,s,o,u,a,f){arguments.length===9?g.blend(this,e,t,n,r,i,s,o,u,a,this):arguments.length===10&&g.blend(e,t,n,r,i,s,o,u,a,f,this),delete this.sourceImg},copy:function(e,t,n,r,i,s,o,u,a){arguments.length===8?g.blend(this,e,t,n,r,i,s,o,u,0,this):arguments.length===9&&g.blend(e,t,n,r,i,s,o,u,a,0,this),delete this.sourceImg},filter:function(e,t){arguments.length===2?g.filter(e,t,this):arguments.length===1&&g.filter(e,null,this),delete this.sourceImg},save:function(e){g.save(e,this)},resize:function(e,t){if(this.isRemote)throw"Image is loaded remotely. Cannot resize.";if(this.width!==0||this.height!==0){e===0&&t!==0?e=n.floor(this.width/this.height*t):t===0&&e!==0&&(t=n.floor(this.height/this.width*e));var r=Ei(this.imageData).canvas,i=Ei(r,e,t).context.getImageData(0,0,e,t);this.fromImageData(i)}},mask:function(e){var t=this.toImageData(),n,r;if(e instanceof xi||e.__isPImage){if(e.width!==this.width||e.height!==this.height)throw"mask must have the same dimensions as PImage.";e=e.toImageData();for(n=2,r=this.width*this.height*4;n<r;n+=4)t.data[n+1]=e.data[n]}else if(e instanceof Array){if(this.width*this.height!==e.length)throw"mask array must be the same length as PImage pixels array.";for(n=0,r=e.length;n<r;++n)t.data[n*4+3]=e[n]}this.fromImageData(t)},loadPixels:i,toImageData:function(){if(this.isRemote)return this.sourceImg;if(!this.__isDirty)return this.imageData;var e=Ei(this.sourceImg);return e.context.getImageData(0,0,this.width,this.height)},toDataURL:function(){if(this.isRemote)throw"Image is loaded remotely. Cannot create dataURI.";var e=Ei(this.imageData);return e.canvas.toDataURL()},fromImageData:function(e){var n=e.width,r=e.height,i=t.createElement("canvas"),s=i.getContext("2d");this.width=i.width=n,this.height=i.height=r,s.putImageData(e,0,0),this.format=2,this.imageData=e,this.sourceImg=i}},g.PImage=xi,g.createImage=function(e,t,n){return new xi(e,t,n)},g.loadImage=function(e,n,r){n&&(e=e+"."+n);var i;if(w.imageCache.images[e])return i=new xi(w.imageCache.images[e]),i.loaded=!0,i;i=new xi;var s=t.createElement("img");return i.sourceImg=s,s.onload=function(e,t,n){var r=e,i=t,s=n;return function(){i.fromHTMLImageData(r),i.loaded=!0,s&&s()}}(s,i,r),s.src=e,i},g.requestImage=g.loadImage,g.get=function(e,t,n,r,i){return i!==undefined?ki(e,t,n,r,i):r!==undefined?Ci(e,t,n,r):n!==undefined?Ni(e,t,n):t!==undefined?Ti(e,t):e!==undefined?ki(0,0,e.width,e.height,e):Ci(0,0,g.width,g.height)},g.createGraphics=function(e,t,n){var r=new _;return r.size(e,t,n),r.background(0,0),r},g.set=function(e,t,n,r){var i,s;arguments.length===3?typeof n=="number"?Mi(e,t,n):(n instanceof xi||n.__isPImage)&&g.image(n,e,t):arguments.length===4&&_i(e,t,n,r)},g.imageData={},g.pixels={getLength:function(){return g.imageData.data.length?g.imageData.data.length/4:0},getPixel:function(e){var t=e*4,n=g.imageData.data;return n[t+3]<<24&4278190080|n[t+0]<<16&16711680|n[t+1]<<8&65280|n[t+2]&255},setPixel:function(e,t){var n=e*4,r=g.imageData.data;r[n+0]=(t&16711680)>>>16,r[n+1]=(t&65280)>>>8,r[n+2]=t&255,r[n+3]=(t&4278190080)>>>24},toArray:function(){var e=[],t=g.imageData.width*g.imageData.height,n=g.imageData.data;for(var r=0,i=0;r<t;r++,i+=4)e.push(n[i+3]<<24&4278190080|n[i+0]<<16&16711680|n[i+1]<<8&65280|n[i+2]&255);return e},set:function(e){for(var t=0,n=e.length;t<n;t++)this.setPixel(t,e[t])}},g.loadPixels=function(){g.imageData=S.$ensureContext().getImageData(0,0,g.width,g.height)},g.updatePixels=function(){g.imageData&&S.$ensureContext().putImageData(g.imageData,0,0)},g.hint=function(e){var t=S.$ensureContext();e===4?(t.disable(t.DEPTH_TEST),t.depthMask(!1),t.clear(t.DEPTH_BUFFER_BIT)):e===-4?(t.enable(t.DEPTH_TEST),t.depthMask(!0)):e===-1||e===2?I=!0:e===1&&(I=!1)};var Di=function(e,t,n,r){var i;if(e instanceof xi||e.__isPImage){i=e;if(!i.loaded)throw"Error using image in background(): PImage not loaded.";if(i.width!==g.width||i.height!==g.height)throw"Background image must be the same dimensions as the canvas."}else i=g.color(e,t,n,r);it=i};Tr.prototype.background=function(e,t,n,i){e!==r&&Di(e,t,n,i),it instanceof xi||it.__isPImage?(Ur(),y.setTransform(1,0,0,1,0,0),g.image(it,0,0),zr()):(Ur(),y.setTransform(1,0,0,1,0,0),g.alpha(it)!==ot&&y.clearRect(0,0,g.width,g.height),y.fillStyle=g.color.toString(it),y.fillRect(0,0,g.width,g.height),O=!0,zr())},Nr.prototype.background=function(e,t,n,r){arguments.length>0&&Di(e,t,n,r);var i=g.color.toGLArray(it);y.clearColor(i[0],i[1],i[2],i[3]),y.clear(y.COLOR_BUFFER_BIT|y.DEPTH_BUFFER_BIT)},Tr.prototype.image=function(e,t,r,i,s){t=n.round(t),r=n.round(r);if(e.width>0){var o=i||e.width,u=s||e.height,a=wr(t||0,r||0,i||e.width,s||e.height,arguments.length<4),f=!!e.sourceImg&&vt===null;if(f){var l=e.sourceImg;e.__isDirty&&e.updatePixels(),y.drawImage(l,0,0,l.width,l.height,a.x,a.y,a.w,a.h)}else{var c=e.toImageData();vt!==null&&(vt(c),e.__isDirty=!0),y.drawImage(Ei(c).canvas,0,0,e.width,e.height,a.x,a.y,a.w,a.h)}}},Nr.prototype.image=function(e,t,r,i,s){e.width>0&&(t=n.round(t),r=n.round(r),i=i||e.width,s=s||e.height,g.beginShape(g.QUADS),g.texture(e),g.vertex(t,r,0,0,0),g.vertex(t,r+s,0,0,s),g.vertex(t+i,r+s,0,i,s),g.vertex(t+i,r,0,i,0),g.endShape())},g.tint=function(e,t,n,r){var i=g.color(e,t,n,r),s=g.red(i)/ut,o=g.green(i)/at,u=g.blue(i)/ft,a=g.alpha(i)/ot;vt=function(e){var t=e.data,n=4*e.width*e.height;for(var r=0;r<n;)t[r++]*=s,t[r++]*=o,t[r++]*=u,t[r++]*=a},mt=function(e){for(var t=0;t<e.length;)e[t++]=s,e[t++]=o,e[t++]=u,e[t++]=a}},g.noTint=function(){vt=null,mt=null},g.copy=function(e,t,n,i,s,o,u,a,f){f===r&&(f=a,a=u,u=o,o=s,s=i,i=n,n=t,t=e,e=g),g.blend(e,t,n,i,s,o,u,a,f,0)},g.blend=function(e,t,n,i,s,o,u,a,f,l,c){if(e.isRemote)throw"Image is loaded remotely. Cannot blend image.";l===r&&(l=f,f=a,a=u,u=o,o=s,s=i,i=n,n=t,t=e,e=g);var h=t+i,p=n+s,d=o+a,v=u+f,m=c||g;(c===r||l===r)&&g.loadPixels(),e.loadPixels(),e===g&&g.intersect(t,n,h,p,o,u,d,v)?g.blit_resize(g.get(t,n,h-t,p-n),0,0,h-t-1,p-n-1,m.imageData.data,m.width,m.height,o,u,d,v,l):g.blit_resize(e,t,n,h,p,m.imageData.data,m.width,m.height,o,u,d,v,l),c===r&&g.updatePixels()};var Pi=function(e){var t=g.floor(e*3.5),n,r;t=t<1?1:t<248?t:248;if(g.shared.blurRadius!==t){g.shared.blurRadius=t,g.shared.blurKernelSize=1+(g.shared.blurRadius<<1),g.shared.blurKernel=new f(g.shared.blurKernelSize);var i=g.shared.blurKernel,s=g.shared.blurKernelSize,o=g.shared.blurRadius;for(n=0;n<s;n++)i[n]=0;var u=(t-1)*(t-1);for(n=1;n<t;n++)i[t+n]=i[r]=u;i[t]=t*t}},Hi=function(e,t){var n,r,i,s,o,u,a,l,c,h,p,d,v=t.pixels.getLength(),m=new f(v),y=new f(v),b=new f(v),w=new f(v),E=0,S,x,T,N;Pi(e);var C=t.height,k=t.width,L=g.shared.blurKernelSize,A=g.shared.blurRadius,O=g.shared.blurKernel,M=t.imageData.data;for(x=0;x<C;x++){for(S=0;S<k;S++){s=i=r=o=n=0,l=S-A;if(l<0)d=-l,l=0;else{if(l>=k)break;d=0}for(T=d;T<L;T++){if(l>=k)break;N=(l+E)*4,a=O[T],o+=a*M[N+3],r+=a*M[N],i+=a*M[N+1],s+=a*M[N+2],n+=a,l++}c=E+S,w[c]=o/n,m[c]=r/n,y[c]=i/n,b[c]=s/n}E+=k}E=0,h=-A,p=h*k;for(x=0;x<C;x++){for(S=0;S<k;S++){s=i=r=o=n=0;if(h<0)d=c=-h,l=S;else{if(h>=C)break;d=0,c=h,l=S+p}for(T=d;T<L;T++){if(c>=C)break;a=O[T],o+=a*w[l],r+=a*m[l],i+=a*y[l],s+=a*b[l],n+=a,c++,l+=k}N=(S+E)*4,M[N]=r/n,M[N+1]=i/n,M[N+2]=s/n,M[N+3]=o/n}E+=k,p+=k,h++}},Bi=function(e,t){var n=0,r=t.pixels.getLength(),i=new l(r),s,o,u,a,f,c,h,p,d,v,m,g,y,b,w,E,S;if(!e)while(n<r){s=n,o=n+t.width;while(n<o)u=a=t.pixels.getPixel(n),h=n-1,c=n+1,p=n-t.width,d=n+t.width,h<s&&(h=n),c>=o&&(c=n),p<0&&(p=0),d>=r&&(d=n),g=t.pixels.getPixel(p),m=t.pixels.getPixel(h),y=t.pixels.getPixel(d),v=t.pixels.getPixel(c),f=77*(u>>16&255)+151*(u>>8&255)+28*(u&255),w=77*(m>>16&255)+151*(m>>8&255)+28*(m&255),b=77*(v>>16&255)+151*(v>>8&255)+28*(v&255),E=77*(g>>16&255)+151*(g>>8&255)+28*(g&255),S=77*(y>>16&255)+151*(y>>8&255)+28*(y&255),w>f&&(a=m,f=w),b>f&&(a=v,f=b),E>f&&(a=g,f=E),S>f&&(a=y,f=S),i[n++]=a}else while(n<r){s=n,o=n+t.width;while(n<o)u=a=t.pixels.getPixel(n),h=n-1,c=n+1,p=n-t.width,d=n+t.width,h<s&&(h=n),c>=o&&(c=n),p<0&&(p=0),d>=r&&(d=n),g=t.pixels.getPixel(p),m=t.pixels.getPixel(h),y=t.pixels.getPixel(d),v=t.pixels.getPixel(c),f=77*(u>>16&255)+151*(u>>8&255)+28*(u&255),w=77*(m>>16&255)+151*(m>>8&255)+28*(m&255),b=77*(v>>16&255)+151*(v>>8&255)+28*(v&255),E=77*(g>>16&255)+151*(g>>8&255)+28*(g&255),S=77*(y>>16&255)+151*(y>>8&255)+28*(y&255),w<f&&(a=m,f=w),b<f&&(a=v,f=b),E<f&&(a=g,f=E),S<f&&(a=y,f=S),i[n++]=a}t.pixels.set(i)};g.filter=function(e,t,n){var i,s,o,u;arguments.length===3?(n.loadPixels(),i=n):(g.loadPixels(),i=g),t===r&&(t=null);if(i.isRemote)throw"Image is loaded remotely. Cannot filter image.";var a=i.pixels.getLength();switch(e){case 11:var f=t||1;Hi(f,i);break;case 12:if(i.format===4){for(u=0;u<a;u++)s=255-i.pixels.getPixel(u),i.pixels.setPixel(u,4278190080|s<<16|s<<8|s);i.format=1}else for(u=0;u<a;u++)s=i.pixels.getPixel(u),o=77*(s>>16&255)+151*(s>>8&255)+28*(s&255)>>8,i.pixels.setPixel(u,s&4278190080|o<<16|o<<8|o);break;case 13:for(u=0;u<a;u++)i.pixels.setPixel(u,i.pixels.getPixel(u)^16777215);break;case 15:if(t===null)throw"Use filter(POSTERIZE, int levels) instead of filter(POSTERIZE)";var l=g.floor(t);if(l<2||l>255)throw"Levels must be between 2 and 255 for filter(POSTERIZE, levels)";var c=l-1;for(u=0;u<a;u++){var h=i.pixels.getPixel(u)>>16&255,p=i.pixels.getPixel(u)>>8&255,d=i.pixels.getPixel(u)&255;h=(h*l>>8)*255/c,p=(p*l>>8)*255/c,d=(d*l>>8)*255/c,i.pixels.setPixel(u,4278190080&i.pixels.getPixel(u)|h<<16|p<<8|d)}break;case 14:for(u=0;u<a;u++)i.pixels.setPixel(u,i.pixels.getPixel(u)|4278190080);i.format=1;break;case 16:t===null&&(t=.5);if(t<0||t>1)throw"Level must be between 0 and 1 for filter(THRESHOLD, level)";var v=g.floor(t*255);for(u=0;u<a;u++){var m=g.max((i.pixels.getPixel(u)&16711680)>>16,g.max((i.pixels.getPixel(u)&65280)>>8,i.pixels.getPixel(u)&255));i.pixels.setPixel(u,i.pixels.getPixel(u)&4278190080|(m<v?0:16777215))}break;case 17:Bi(!0,i);break;case 18:Bi(!1,i)}i.updatePixels()},g.shared={fracU:0,ifU:0,fracV:0,ifV:0,u1:0,u2:0,v1:0,v2:0,sX:0,sY:0,iw:0,iw1:0,ih1:0,ul:0,ll:0,ur:0,lr:0,cUL:0,cLL:0,cUR:0,cLR:0,srcXOffset:0,srcYOffset:0,r:0,g:0,b:0,a:0,srcBuffer:null,blurRadius:0,blurKernelSize:0,blurKernel:null},g.intersect=function(e,t,n,r,i,s,o,u){var a=n-e+1,f=r-t+1,l=o-i+1,c=u-s+1;if(i<e)l+=i-e,l>a&&(l=a);else{var h=a+e-i;l>h&&(l=h)}if(s<t)c+=s-t,c>f&&(c=f);else{var p=f+t-s;c>p&&(c=p)}return!(l<=0||c<=0)};var ji={};ji[1]=g.modes.blend,ji[2]=g.modes.add,ji[4]=g.modes.subtract,ji[8]=g.modes.lightest,ji[16]=g.modes.darkest,ji[0]=g.modes.replace,ji[32]=g.modes.difference,ji[64]=g.modes.exclusion,ji[128]=g.modes.multiply,ji[256]=g.modes.screen,ji[512]=g.modes.overlay,ji[1024]=g.modes.hard_light,ji[2048]=g.modes.soft_light,ji[4096]=g.modes.dodge,ji[8192]=g.modes.burn,g.blit_resize=function(e,t,r,i,s,o,u,a,f,l,c,h,p){var d,v;t<0&&(t=0),r<0&&(r=0),i>=e.width&&(i=e.width-1),s>=e.height&&(s=e.height-1);var m=i-t,y=s-r,b=c-f,w=h-l;if(b<=0||w<=0||m<=0||y<=0||f>=u||l>=a||t>=e.width||r>=e.height)return;var E=n.floor(m/b*32768),S=n.floor(y/w*32768),x=g.shared;x.srcXOffset=n.floor(f<0?-f*E:t*32768),x.srcYOffset=n.floor(l<0?-l*S:r*32768),f<0&&(b+=f,f=0),l<0&&(w+=l,l=0),b=n.min(b,u-f),w=n.min(w,a-l);var T=l*u+f,N;x.srcBuffer=e.imageData.data,x.iw=e.width,x.iw1=e.width-1,x.ih1=e.height-1;var C=g.filter_bilinear,k=g.filter_new_scanline,L=ji[p],A,O,M,_,D,P,H=4278190080,B=16711680,j=65280,F=255,I=32767,q=15,R=1,U=9,z=x.srcBuffer,W=n.min;for(v=0;v<w;v++){x.sX=x.srcXOffset,x.fracV=x.srcYOffset&I,x.ifV=I-x.fracV,x.v1=(x.srcYOffset>>q)*x.iw,x.v2=W((x.srcYOffset>>q)+1,x.ih1)*x.iw;for(d=0;d<b;d++)O=(T+d)*4,N=o[O+3]<<24&H|o[O]<<16&B|o[O+1]<<8&j|o[O+2]&F,x.fracU=x.sX&I,x.ifU=I-x.fracU,x.ul=x.ifU*x.ifV>>q,x.ll=x.ifU*x.fracV>>q,x.ur=x.fracU*x.ifV>>q,x.lr=x.fracU*x.fracV>>q,x.u1=x.sX>>q,x.u2=W(x.u1+1,x.iw1),M=(x.v1+x.u1)*4,_=(x.v1+x.u2)*4,D=(x.v2+x.u1)*4,P=(x.v2+x.u2)*4,x.cUL=z[M+3]<<24&H|z[M]<<16&B|z[M+1]<<8&j|z[M+2]&F,x.cUR=z[_+3]<<24&H|z[_]<<16&B|z[_+1]<<8&j|z[_+2]&F,x.cLL=z[D+3]<<24&H|z[D]<<16&B|z[D+1]<<8&j|z[D+2]&F,x.cLR=z[P+3]<<24&H|z[P]<<16&B|z[P+1]<<8&j|z[P+2]&F,x.r=x.ul*((x.cUL&B)>>16)+x.ll*((x.cLL&B)>>16)+x.ur*((x.cUR&B)>>16)+x.lr*((x.cLR&B)>>16)<<R&B,x.g=x.ul*(x.cUL&j)+x.ll*(x.cLL&j)+x.ur*(x.cUR&j)+x.lr*(x.cLR&j)>>>q&j,x.b=x.ul*(x.cUL&F)+x.ll*(x.cLL&F)+x.ur*(x.cUR&F)+x.lr*(x.cLR&F)>>>q,x.a=x.ul*((x.cUL&H)>>>24)+x.ll*((x.cLL&H)>>>24)+x.ur*((x.cUR&H)>>>24)+x.lr*((x.cLR&H)>>>24)<<U&H,A=L(N,x.a|x.r|x.g|x.b),o[O]=(A&B)>>>16,o[O+1]=(A&j)>>>8,o[O+2]=A&F,o[O+3]=(A&H)>>>24,x.sX+=E;T+=u,x.srcYOffset+=S}},g.loadFont=function(e,t){if(e===r)throw"font name required in loadFont.";if(e.indexOf(".svg")===-1)return t===r&&(t=un.size),M.get(e,t);var n=g.loadGlyphs(e);return{name:e,css:"12px sans-serif",glyph:!0,units_per_em:n.units_per_em,horiz_adv_x:1/n.units_per_em*n.horiz_adv_x,ascent:n.ascent,descent:n.descent,width:function(t){var n=0,r=t.length;for(var i=0;i<r;i++)try{n+=parseFloat(g.glyphLook(g.glyphTable[e],t[i]).horiz_adv_x)}catch(s){_.debug(s)}return n/g.glyphTable[e].units_per_em}}},g.createFont=function(e,t){return g.loadFont(e,t)},g.textFont=function(e,t){t!==r&&(e.glyph||(e=M.get(e.name,t)),nn=t),un=e,tn=un.name,rn=un.ascent,sn=un.descent,on=un.leading;var n=S.$ensureContext();n.font=un.css},g.textSize=function(e){un=M.get(tn,e),nn=e,rn=un.ascent,sn=un.descent,on=un.leading;var t=S.$ensureContext();t.font=un.css},g.textAscent=function(){return rn},g.textDescent=function(){return sn},g.textLeading=function(e){on=e},g.textAlign=function(e,t){Yt=e,Zt=t||0},Tr.prototype.textWidth=function(e){var t=Fi(e).split(/\r?\n/g),r=0,i,s=t.length;y.font=un.css;for(i=0;i<s;++i)r=n.max(r,un.measureTextWidth(t[i]));return r|0},Nr.prototype.textWidth=function(e){var i=Fi(e).split(/\r?\n/g),s=0,o,u=i.length;Et===r&&(Et=t.createElement("canvas"));var a=Et.getContext("2d");a.font=un.css;for(o=0;o<u;++o)s=n.max(s,a.measureText(i[o]).width);return s|0},g.glyphLook=function(e,t){try{switch(t){case"1":return e.one;case"2":return e.two;case"3":return e.three;case"4":return e.four;case"5":return e.five;case"6":return e.six;case"7":return e.seven;case"8":return e.eight;case"9":return e.nine;case"0":return e.zero;case" ":return e.space;case"$":return e.dollar;case"!":return e.exclam;case'"':return e.quotedbl;case"#":return e.numbersign;case"%":return e.percent;case"&":return e.ampersand;case"'":return e.quotesingle;case"(":return e.parenleft;case")":return e.parenright;case"*":return e.asterisk;case"+":return e.plus;case",":return e.comma;case"-":return e.hyphen;case".":return e.period;case"/":return e.slash;case"_":return e.underscore;case":":return e.colon;case";":return e.semicolon;case"<":return e.less;case"=":return e.equal;case">":return e.greater;case"?":return e.question;case"@":return e.at;case"[":return e.bracketleft;case"\\":return e.backslash;case"]":return e.bracketright;case"^":return e.asciicircum;case"`":return e.grave;case"{":return e.braceleft;case"|":return e.bar;case"}":return e.braceright;case"~":return e.asciitilde;default:return e[t]}}catch(n){_.debug(n)}},Tr.prototype.text$line=function(e,t,n,r,i){var s=0,o=0;if(!un.glyph){if(e&&"fillText"in y){O&&(y.fillStyle=g.color.toString(k),O=!1);if(i===39||i===3)s=un.measureTextWidth(e),i===39?o=-s:o=-s/2;y.fillText(e,t+o,n)}}else{var u=g.glyphTable[tn];Ur(),y.translate(t,n+nn);if(i===39||i===3)s=u.width(e),i===39?o=-s:o=-s/2;var a=u.units_per_em,f=1/a*nn;y.scale(f,f);for(var l=0,c=e.length;l<c;l++)try{g.glyphLook(u,e[l]).draw()}catch(h){_.debug(h)}zr()}},Nr.prototype.text$line=function(e,n,i,s,o){Et===r&&(Et=t.createElement("canvas"));var u=y;y=Et.getContext("2d"),y.font=un.css;var a=un.measureTextWidth(e);Et.width=a,Et.height=nn,y=Et.getContext("2d"),y.font=un.css,y.textBaseline="top",Tr.prototype.text$line(e,0,0,0,37);var f=Et.width/Et.height;y=u,y.bindTexture(y.TEXTURE_2D,Xt),y.texImage2D(y.TEXTURE_2D,0,y.RGBA,y.RGBA,y.UNSIGNED_BYTE,Et),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,y.LINEAR),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,y.LINEAR),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE);var l=0;o===39?l=-a:o===3&&(l=-a/2);var c=new Br,h=nn*.5;c.translate(n+l-h/2,i-h,s),c.scale(-f*h,-h,h),c.translate(-1,-1,-1),c.transpose();var p=new Br;p.scale(1,-1,1),p.apply(_n.array()),p.transpose(),y.useProgram(Ot),mr("aVertex2d",Ot,"aVertex",3,Kt),mr("aTextureCoord2d",Ot,"aTextureCoord",2,Qt),dr("uSampler2d",Ot,"uSampler",[0]),dr("uIsDrawingText2d",Ot,"uIsDrawingText",!0),vr("uModel2d",Ot,"uModel",!1,c.array()),vr("uView2d",Ot,"uView",!1,p.array()),pr("uColor2d",Ot,"uColor",C),y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,Gt),y.drawElements(y.TRIANGLES,6,y.UNSIGNED_SHORT,0)},g.text=function(){if(en===5)return;arguments.length===3?Ii(Fi(arguments[0]),arguments[1],arguments[2],0):arguments.length===4?Ii(Fi(arguments[0]),arguments[1],arguments[2],arguments[3]):arguments.length===5?qi(Fi(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],0):arguments.length===6&&qi(Fi(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},g.textMode=function(e){en=e},g.loadGlyphs=function(i){var s,o,u,a,f,l,c,h,p,d,v,m="[0-9\\-]+",y,b=function(e,t){var n=0,r=[],i,s=new RegExp(e,"g");i=r[n]=s.exec(t);while(i)n++,i=r[n]=s.exec(t);return r},w=function(e){var t=b("[A-Za-z][0-9\\- ]+|Z",e),r=function(){return Ur(),S.$ensureContext()},i=function(){ai(),fi(),zr()};y="return {draw:function(){var curContext=beforePathDraw();curContext.beginPath();",s=0,o=0,u=0,a=0,f=0,l=0,e=0,h=0,p="",d=t.length-1;for(var c=0;c<d;c++){var g=t[c][0],w=b(m,g);switch(g[0]){case"M":s=parseFloat(w[0][0]),o=parseFloat(w[1][0]),y+="curContext.moveTo("+s+","+ -o+");";break;case"L":s=parseFloat(w[0][0]),o=parseFloat(w[1][0]),y+="curContext.lineTo("+s+","+ -o+");";break;case"H":s=parseFloat(w[0][0]),y+="curContext.lineTo("+s+","+ -o+");";break;case"V":o=parseFloat(w[0][0]),y+="curContext.lineTo("+s+","+ -o+");";break;case"T":f=parseFloat(w[0][0]),l=parseFloat(w[1][0]),p==="Q"||p==="T"?(e=n.sqrt(n.pow(s-u,2)+n.pow(a-o,2)),h=n.PI+n.atan2(u-s,a-o),u=s+n.sin(h)*e,a=o+n.cos(h)*e):(u=s,a=o),y+="curContext.quadraticCurveTo("+u+","+ -a+","+f+","+ -l+");",s=f,o=l;break;case"Q":u=parseFloat(w[0][0]),a=parseFloat(w[1][0]),f=parseFloat(w[2][0]),l=parseFloat(w[3][0]),y+="curContext.quadraticCurveTo("+u+","+ -a+","+f+","+ -l+");",s=f,o=l;break;case"Z":y+="curContext.closePath();"}p=g[0]}return y+="afterPathDraw();",y+="curContext.translate("+v+",0);",y+="}}",(new Function("beforePathDraw","afterPathDraw",y))(r,i)},E=function(e){var t=e.getElementsByTagName("font");g.glyphTable[i].horiz_adv_x=t[0].getAttribute("horiz-adv-x");var n=e.getElementsByTagName("font-face")[0];g.glyphTable[i].units_per_em=parseFloat(n.getAttribute("units-per-em")),g.glyphTable[i].ascent=parseFloat(n.getAttribute("ascent")),g.glyphTable[i].descent=parseFloat(n.getAttribute("descent"));var s=e.getElementsByTagName("glyph"),o=s.length;for(var u=0;u<o;u++){var a=s[u].getAttribute("unicode"),f=s[u].getAttribute("glyph-name");v=s[u].getAttribute("horiz-adv-x"),v===null&&(v=g.glyphTable[i].horiz_adv_x),c=s[u].getAttribute("d"),c!==r&&(y=w(c),g.glyphTable[i][f]={name:f,unicode:a,horiz_adv_x:v,draw:y.draw})}},x=function(){var n;try{n=t.implementation.createDocument("","",null)}catch(r){_.debug(r.message);return}try{n.async=!1,n.load(i),E(n.getElementsByTagName("svg")[0])}catch(s){_.debug(s);try{var o=new e.XMLHttpRequest;o.open("GET",i,!1),o.send(null),E(o.responseXML.documentElement)}catch(u){_.debug(s)}}};return g.glyphTable[i]={},x(i),g.glyphTable[i]},g.param=function(e){var t="data-processing-"+e;if(a.hasAttribute(t))return a.getAttribute(t);for(var n=0,r=a.childNodes.length;n<r;++n){var i=a.childNodes.item(n);if(i.nodeType!==1||i.tagName.toLowerCase()!=="param")continue;if(i.getAttribute("name")===e)return i.getAttribute("value")}return w.params.hasOwnProperty(e)?w.params[e]:null},Cr.prototype.translate=Ui("translate"),Cr.prototype.transform=Ui("transform"),Cr.prototype.scale=Ui("scale"),Cr.prototype.pushMatrix=Ui("pushMatrix"),Cr.prototype.popMatrix=Ui("popMatrix"),Cr.prototype.resetMatrix=Ui("resetMatrix"),Cr.prototype.applyMatrix=Ui("applyMatrix"),Cr.prototype.rotate=Ui("rotate"),Cr.prototype.rotateZ=Ui("rotateZ"),Cr.prototype.shearX=Ui("shearX"),Cr.prototype.shearY=Ui("shearY"),Cr.prototype.redraw=Ui("redraw"),Cr.prototype.toImageData=Ui("toImageData"),Cr.prototype.ambientLight=Ui("ambientLight"),Cr.prototype.directionalLight=Ui("directionalLight"),Cr.prototype.lightFalloff=Ui("lightFalloff"),Cr.prototype.lightSpecular=Ui("lightSpecular"),Cr.prototype.pointLight=Ui("pointLight"),Cr.prototype.noLights=Ui("noLights"),Cr.prototype.spotLight=Ui("spotLight"),Cr.prototype.beginCamera=Ui("beginCamera"),Cr.prototype.endCamera=Ui("endCamera"),Cr.prototype.frustum=Ui("frustum"),Cr.prototype.box=Ui("box"),Cr.prototype.sphere=Ui("sphere"),Cr.prototype.ambient=Ui("ambient"),Cr.prototype.emissive=Ui("emissive"),Cr.prototype.shininess=Ui("shininess"),Cr.prototype.specular=Ui("specular"),Cr.prototype.fill=Ui("fill"),Cr.prototype.stroke=Ui("stroke"),Cr.prototype.strokeWeight=Ui("strokeWeight"),Cr.prototype.smooth=Ui("smooth"),Cr.prototype.noSmooth=Ui("noSmooth"),Cr.prototype.point=Ui("point"),Cr.prototype.vertex=Ui("vertex"),Cr.prototype.endShape=Ui("endShape"),Cr.prototype.bezierVertex=Ui("bezierVertex"),Cr.prototype.curveVertex=Ui("curveVertex"),Cr.prototype.curve=Ui("curve"),Cr.prototype.line=Ui("line"),Cr.prototype.bezier=Ui("bezier"),Cr.prototype.rect=Ui("rect"),Cr.prototype.ellipse=Ui("ellipse"),Cr.prototype.background=Ui("background"),Cr.prototype.image=Ui("image"),Cr.prototype.textWidth=Ui("textWidth"),Cr.prototype.text$line=Ui("text$line"),Cr.prototype.$ensureContext=Ui("$ensureContext"),Cr.prototype.$newPMatrix=Ui("$newPMatrix"),Cr.prototype.size=function(e,t,n){Ri(n===2?"3D":"2D"),g.size(e,t,n)},Cr.prototype.$init=i,Tr.prototype.$init=function(){g.size(g.width,g.height),y.lineCap="round",g.noSmooth(),g.disableContextMenu()},Nr.prototype.$init=function(){g.use3DContext=!0,g.disableContextMenu()},xr.prototype.$ensureContext=function(){return y},Vr(a,"touchstart",function(e){a.setAttribute("style","-webkit-user-select: none"),a.setAttribute("onclick","void(0)"),a.setAttribute("style","-webkit-tap-highlight-color:rgba(0,0,0,0)");for(var t=0,n=Xr.length;t<n;t++){var i=Xr[t].type;(i==="mouseout"||i==="mousemove"||i==="mousedown"||i==="mouseup"||i==="DOMMouseScroll"||i==="mousewheel"||i==="touchstart")&&$r(Xr[t])}g.touchStart!==r||g.touchMove!==r||g.touchEnd!==r||g.touchCancel!==r?(Vr(a,"touchstart",function(e){g.touchStart!==r&&(e=Xi(e),g.touchStart(e))}),Vr(a,"touchmove",function(e){g.touchMove!==r&&(e.preventDefault(),e=Xi(e),g.touchMove(e))}),Vr(a,"touchend",function(e){g.touchEnd!==r&&(e=Xi(e),g.touchEnd(e))}),Vr(a,"touchcancel",function(e){g.touchCancel!==r&&(e=Xi(e),g.touchCancel(e))})):(Vr(a,"touchstart",function(e){Wi(a,e.touches[0]),g.__mousePressed=!0,g.mouseDragging=!1,g.mouseButton=37,typeof g.mousePressed=="function"&&g.mousePressed()}),Vr(a,"touchmove",function(e){e.preventDefault(),Wi(a,e.touches[0]),typeof g.mouseMoved=="function"&&!g.__mousePressed&&g.mouseMoved(),typeof g.mouseDragged=="function"&&g.__mousePressed&&(g.mouseDragged(),g.mouseDragging=!0)}),Vr(a,"touchend",function(e){g.__mousePressed=!1,typeof g.mouseClicked=="function"&&!g.mouseDragging&&g.mouseClicked(),typeof g.mouseReleased=="function"&&g.mouseReleased()})),a.dispatchEvent(e)}),function(){var e=!0,t=function(e){e.preventDefault(),e.stopPropagation()};g.disableContextMenu=function(){if(!e)return;Vr(a,"contextmenu",t),e=!1},g.enableContextMenu=function(){if(e)return;$r({elem:a,type:"contextmenu",fn:t}),e=!0}}(),Vr(a,"mousemove",function(e){Wi(a,e),typeof g.mouseMoved=="function"&&!g.__mousePressed&&g.mouseMoved(),typeof g.mouseDragged=="function"&&g.__mousePressed&&(g.mouseDragged(),g.mouseDragging=!0)}),Vr(a,"mouseout",function(e){typeof g.mouseOut=="function"&&g.mouseOut()}),Vr(a,"mouseover",function(e){Wi(a,e),typeof g.mouseOver=="function"&&g.mouseOver()}),a.onmousedown=function(){return a.focus(),!1},Vr(a,"mousedown",function(e){g.__mousePressed=!0,g.mouseDragging=!1;switch(e.which){case 1:g.mouseButton=37;break;case 2:g.mouseButton=3;break;case 3:g.mouseButton=39}typeof g.mousePressed=="function"&&g.mousePressed()}),Vr(a,"mouseup",function(e){g.__mousePressed=!1,typeof g.mouseClicked=="function"&&!g.mouseDragging&&g.mouseClicked(),typeof g.mouseReleased=="function"&&g.mouseReleased()});var Vi=function(t){var n=0;t.wheelDelta?(n=t.wheelDelta/120,e.opera&&(n=-n)):t.detail&&(n=-t.detail/3),g.mouseScroll=n,n&&typeof g.mouseScrolled=="function"&&g.mouseScrolled()};Vr(t,"DOMMouseScroll",Vi),Vr(t,"mousewheel",Vi),a.getAttribute("tabindex")||a.setAttribute("tabindex",0);if(!v){u instanceof _.Sketch?w=u:typeof u=="function"?w=new _.Sketch(u):u?w=_.compile(u):w=new _.Sketch(function(){}),g.externals.sketch=w,Ri(),a.onfocus=function(){g.focused=!0},a.onblur=function(){g.focused=!1,w.options.globalKeyEvents||Gi()},w.options.pauseOnBlur&&(Vr(e,"focus",function(){q&&g.loop()}),Vr(e,"blur",function(){q&&F&&(g.noLoop(),q=!0),Gi()}));var ns=w.options.globalKeyEvents?e:a;Vr(ns,"keydown",Zi),Vr(ns,"keypress",es),Vr(ns,"keyup",ts);for(var rs in _.lib)_.lib.hasOwnProperty(rs)&&(_.lib[rs].hasOwnProperty("attach")?_.lib[rs].attach(g):_.lib[rs]instanceof Function&&_.lib[rs].call(this));var is=100,ss=function(n){if(!w.imageCache.pending&&!M.preloading.pending(is)){if(e.opera){var r,i,s=w.imageCache.operaCache;for(r in s)s.hasOwnProperty(r)&&(i=s[r],i!==null&&t.body.removeChild(i),delete s[r])}w.attach(n,E),w.onLoad(n),n.setup&&(n.setup(),n.resetMatrix(),w.onSetup()),Li(),n.draw&&(q?n.loop():n.redraw())}else e.setTimeout(function(){ss(n)},is)};A(this),ss(g)}else w=new _.Sketch,Ri(),g.size=function(e,t,n){n&&n===2?Ri("3D"):Ri("2D"),g.size(e,t,n)}};_.debug=s,_.prototype=E,_.compile=function(e){var t=new _.Sketch,n=H(e,t),r=P(n);return t.sourceCode=r,t};var B=function(){var e={},n="undefined",r="function",i=!1,s=!0,o=512,u="log";return typeof tinylog!==n&&typeof tinylog[u]===r?e[u]=tinylog[u]:typeof t!==n&&!t.fake?function(){var n=t,r="div",a="style",f="title",l={zIndex:1e4,position:"fixed",bottom:"0px",width:"100%",height:"15%",fontFamily:"sans-serif",color:"#ccc",backgroundColor:"black"},c={position:"relative",fontFamily:"monospace",overflow:"auto",height:"100%",paddingTop:"5px"},h={height:"5px",marginTop:"-5px",cursor:"n-resize",backgroundColor:"darkgrey"},p={position:"absolute",top:"5px",right:"20px",color:"#111",MozBorderRadius:"4px",webkitBorderRadius:"4px",borderRadius:"4px",cursor:"pointer",fontWeight:"normal",textAlign:"center",padding:"3px 5px",backgroundColor:"#333",fontSize:"12px"},d={minHeight:"16px"},v={fontSize:"12px",margin:"0 8px 0 8px",maxWidth:"100%",whiteSpace:"pre-wrap",overflow:"auto"},m=n.defaultView,g=n.documentElement,y=g[a],b=function(){var e=arguments.length,t,n,r;while(e--){n=arguments[e--],t=arguments[e][a];for(r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}},w=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,i):e.attachEvent&&e.attachEvent("on"+t,n),[e,t,n]},E=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent&&e.detachEvent("on"+t,n)},S=function(e){var t=e.childNodes,n=t.length;while(n--)e.removeChild(t.item(0))},x=function(e,t){return e.appendChild(t)},T=function(e){return n.createElement(e)},N=function(e){return n.createTextNode(e)},C=e[u]=function(t){var k,L=y.paddingBottom,A=T(r),O=A[a],M=x(A,T(r)),_=x(A,T(r)),D=x(A,T(r)),P=i,H=i,B=i,j=0,F=function(){y.paddingBottom=A.clientHeight+"px"},I=function(e){var t=m.innerHeight,n=M.clientHeight;e<0?e=0:e+n>t&&(e=t-n),O.height=e/t*100+"%",F()},q=[w(n,"mousemove",function(e){P&&(I(m.innerHeight-e.clientY),_.scrollTop=B)}),w(n,"mouseup",function(){P&&(P=B=i)}),w(M,"dblclick",function(e){e.preventDefault(),H?(I(H),H=i):(H=A.clientHeight,O.height="0px")}),w(M,"mousedown",function(e){e.preventDefault(),P=s,B=_.scrollTop}),w(M,"contextmenu",function(){P=i}),
w(D,"click",function(){k()})];k=function(){var t=q.length;while(t--)E.apply(e,q[t]);g.removeChild(A),y.paddingBottom=L,S(_),S(A),e[u]=C},b(A,l,_,c,M,h,D,p),D[f]="Close Log",x(D,N("✖")),M[f]="Double-click to toggle log minimization",g.insertBefore(A,g.firstChild),e[u]=function(e){j===o?_.removeChild(_.firstChild):j++;var t=x(_,T(r)),n=x(t,T(r));t[f]=(new Date).toLocaleTimeString(),b(t,d,n,v),x(n,N(e)),_.scrollTop=_.scrollHeight},e[u](t),F()}}():typeof print===r&&(e[u]=print),e}();_.logger=B,_.version="1.4.1",_.lib={},_.registerLibrary=function(e,t){_.lib[e]=t,t.hasOwnProperty("init")&&t.init(E)},_.instances=C,_.getInstanceById=function(e){return C[k[e]]},_.Sketch=function(n){this.attachFunction=n,this.options={pauseOnBlur:!1,globalKeyEvents:!1},this.onLoad=i,this.onSetup=i,this.onPause=i,this.onLoop=i,this.onFrameStart=i,this.onFrameEnd=i,this.onExit=i,this.params={},this.imageCache={pending:0,images:{},operaCache:{},add:function(n,r){if(this.images[n])return;u||(this.images[n]=null),r||(r=new Image,r.onload=function(e){return function(){e.pending--}}(this),this.pending++,r.src=n),this.images[n]=r;if(e.opera){var i=t.createElement("div");i.appendChild(r),i.style.position="absolute",i.style.opacity=0,i.style.width="1px",i.style.height="1px",this.operaCache[n]||(t.body.appendChild(i),this.operaCache[n]=i)}}},this.sourceCode=undefined,this.attach=function(e){if(typeof this.attachFunction=="function")this.attachFunction(e);else{if(!this.sourceCode)throw"Unable to attach sketch to the processing instance";var t=(new Function("return ("+this.sourceCode+");"))();t(e),this.attachFunction=t}},this.toString=function(){var e,t="((function(Sketch) {\n";t+="var sketch = new Sketch(\n"+this.sourceCode+");\n";for(e in this.options)if(this.options.hasOwnProperty(e)){var n=this.options[e];t+="sketch.options."+e+" = "+(typeof n=="string"?'"'+n+'"':""+n)+";\n"}for(e in this.imageCache)this.options.hasOwnProperty(e)&&(t+='sketch.imageCache.add("'+e+'");\n');return t+="return sketch;\n})(Processing.Sketch))",t}};var j=function(n,r){function a(t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(r.readyState===4){var t;r.status!==200&&r.status!==0?t="Invalid XHR status "+r.status:r.responseText===""&&("withCredentials"in new XMLHttpRequest&&(new XMLHttpRequest).withCredentials===!1&&e.location.protocol==="file:"?t="XMLHttpRequest failure, possibly due to a same-origin policy violation. You can try loading this page in another browser, or load it from http://localhost using a local webserver. See the Processing.js README for a more detailed explanation of this problem and solutions.":t="File is empty."),n(r.responseText,t)}},r.open("GET",t,!0),r.overrideMimeType&&r.overrideMimeType("application/json"),r.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT"),r.send(null)}function f(e,r){function f(t,a){i[e]=t,++u,a&&s.push(r+" ==> "+a);if(u===o){if(s.length!==0)throw"Processing.js: Unable to load pjs sketch files: "+s.join("\n");try{return new _(n,i.join("\n"))}catch(f){throw"Processing.js: Unable to execute pjs sketch: "+f}}}if(r.charAt(0)==="#"){var l=t.getElementById(r.substring(1));l?f(l.text||l.textContent):f("","Unable to load pjs sketch: element with id '"+r.substring(1)+"' was not found");return}a(r,f)}var i=[],s=[],o=r.length,u=0;for(var l=0;l<o;++l)f(l,r[l])},F=function(){t.removeEventListener("DOMContentLoaded",F,!1),C=[];var e=t.getElementsByTagName("canvas"),n;for(var i=0,s=e.length;i<s;i++){var o=e[i].getAttribute("data-processing-sources");o===null&&(o=e[i].getAttribute("data-src"),o===null&&(o=e[i].getAttribute("datasrc")));if(o){n=o.split(/\s+/g);for(var u=0;u<n.length;)n[u]?u++:n.splice(u,1);j(e[i],n)}}var a,f,l,c,h=t.getElementsByTagName("script"),p=[];for(a=h.length-1;a>=0;a--)p.push(h[a]);for(a=0,f=p.length;a<f;a++){var d=p[a];if(!d.getAttribute)continue;var v=d.getAttribute("type");if(v&&(v.toLowerCase()==="text/processing"||v.toLowerCase()==="application/processing")){var m=d.getAttribute("data-processing-target");e=r;if(m)e=t.getElementById(m);else{var g=d.nextSibling;while(g&&g.nodeType!==1)g=g.nextSibling;g&&g.nodeName.toLowerCase()==="canvas"&&(e=g)}if(e){if(d.getAttribute("src")){n=d.getAttribute("src").split(/\s+/),j(e,n);continue}l=d.textContent||d.text,c=new _(e,l)}}}};_.reload=function(){if(C.length>0)for(var e=C.length-1;e>=0;e--)C[e]&&C[e].exit();F()},_.loadSketchFromSources=j,_.disableInit=function(){u&&t.removeEventListener("DOMContentLoaded",F,!1)},u?(e.Processing=_,t.addEventListener("DOMContentLoaded",F,!1)):this.Processing=_}(window,window.document,Math),function(){}.call(this),!function(e,t,n){function o(e,n){var r=t.createElement(e||"div"),i;for(i in n)r[i]=n[i];return r}function u(e){for(var t=1,n=arguments.length;t<n;t++)e.appendChild(arguments[t]);return e}function f(e,t,n,r){var o=["opacity",t,~~(e*100),n,r].join("-"),u=.01+n/r*100,f=Math.max(1-(1-e)/t*(100-u),e),l=s.substring(0,s.indexOf("Animation")).toLowerCase(),c=l&&"-"+l+"-"||"";return i[o]||(a.insertRule("@"+c+"keyframes "+o+"{"+"0%{opacity:"+f+"}"+u+"%{opacity:"+e+"}"+(u+.01)+"%{opacity:1}"+(u+t)%100+"%{opacity:"+e+"}"+"100%{opacity:"+f+"}"+"}",a.cssRules.length),i[o]=1),o}function l(e,t){var i=e.style,s,o;if(i[t]!==n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(o=0;o<r.length;o++){s=r[o]+t;if(i[s]!==n)return s}}function c(e,t){for(var n in t)e.style[l(e,n)||n]=t[n];return e}function h(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)e[i]===n&&(e[i]=r[i])}return e}function p(e){var t={x:e.offsetLeft,y:e.offsetTop};while(e=e.offsetParent)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}var r=["webkit","Moz","ms","O"],i={},s,a=function(){var e=o("style",{type:"text/css"});return u(t.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}(),d={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"},v=function m(e){if(!this.spin)return new m(e);this.opts=h(e||{},m.defaults,d)};v.defaults={},h(v.prototype,{spin:function(e){this.stop();var t=this,n=t.opts,r=t.el=c(o(0,{className:n.className}),{position:n.position,width:0,zIndex:n.zIndex}),i=n.radius+n.length+n.width,u,a;e&&(e.insertBefore(r,e.firstChild||null),a=p(e),u=p(r),c(r,{left:(n.left=="auto"?a.x-u.x+(e.offsetWidth>>1):parseInt(n.left,10)+i)+"px",top:(n.top=="auto"?a.y-u.y+(e.offsetHeight>>1):parseInt(n.top,10)+i)+"px"})),r.setAttribute("aria-role","progressbar"),t.lines(r,t.opts);if(!s){var f=0,l=n.fps,h=l/n.speed,d=(1-n.opacity)/(h*n.trail/100),v=h/n.lines;(function m(){f++;for(var e=n.lines;e;e--){var i=Math.max(1-(f+e*v)%h*d,n.opacity);t.opacity(r,n.lines-e,i,n)}t.timeout=t.el&&setTimeout(m,~~(1e3/l))})()}return t},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=n),this},lines:function(e,t){function i(e,r){return c(o(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background:e,boxShadow:r,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*n+t.rotate)+"deg) translate("+t.radius+"px"+",0)",borderRadius:(t.corners*t.width>>1)+"px"})}var n=0,r;for(;n<t.lines;n++)r=c(o(),{position:"absolute",top:1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:s&&f(t.opacity,t.trail,n,t.lines)+" "+1/t.speed+"s linear infinite"}),t.shadow&&u(r,c(i("#000","0 0 4px #000"),{top:"2px"})),u(e,u(r,i(t.color,"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),function(){function e(e,t){return o("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}var t=c(o("group"),{behavior:"url(#default#VML)"});!l(t,"transform")&&t.adj?(a.addRule(".spin-vml","behavior:url(#default#VML)"),v.prototype.lines=function(t,n){function s(){return c(e("group",{coordsize:i+" "+i,coordorigin:-r+" "+ -r}),{width:i,height:i})}function l(t,i,o){u(a,u(c(s(),{rotation:360/n.lines*t+"deg",left:~~i}),u(c(e("roundrect",{arcsize:n.corners}),{width:r,height:n.width,left:n.radius,top:-n.width>>1,filter:o}),e("fill",{color:n.color,opacity:n.opacity}),e("stroke",{opacity:0}))))}var r=n.length+n.width,i=2*r,o=-(n.width+n.length)*2+"px",a=c(s(),{position:"absolute",top:o,left:o}),f;if(n.shadow)for(f=1;f<=n.lines;f++)l(f,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(f=1;f<=n.lines;f++)l(f);return u(t,a)},v.prototype.opacity=function(e,t,n,r){var i=e.firstChild;r=r.shadow&&r.lines||0,i&&t+r<i.childNodes.length&&(i=i.childNodes[t+r],i=i&&i.firstChild,i=i&&i.firstChild,i&&(i.opacity=n))}):s=l(t,"animation")}(),typeof define=="function"&&define.amd?define(function(){return v}):e.Spinner=v}(window,document),function(){}.call(this),jQuery(function(){$("#modal-image").click(function(){$.ajax("/echonest/rdio_song_id",{data:{title:$("#modal-name").html(),artist:$("#modal-artist").html()},success:function(e){console.log(e),$("#api").rdio().play(e.rdio_song_id)},error:function(){alert("oh my god what have you done this is awful")}})})});